<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AzaKanji - 214 B·ªô Th·ªß Cao C·∫•p (V2.0)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Nunito', sans-serif; background-color: #f0f9ff; overflow-x: hidden; }
        .kanji-font { font-family: 'Noto Sans JP', sans-serif; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }

        /* Animations */
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .modal-enter { animation: modalIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes modalIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        .correct-anim { animation: pulse-green 0.5s; }
        @keyframes pulse-green { 0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); } 100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); } }
        
        .wrong-anim { animation: shake 0.4s; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }

        .tab-active { background-color: #0369a1; color: white; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        .tab-inactive { background-color: #e0f2fe; color: #0c4a6e; }

        .stroke-path { fill: none; stroke: #333; stroke-width: 3; stroke-linecap: round; stroke-linejoin: round; }
        .stroke-grid-box { border: 1px solid #e5e7eb; background-color: white; position: relative; }
        .stroke-grid-box::after { content: ''; position: absolute; top: 0; left: 50%; width: 1px; height: 100%; background: repeating-linear-gradient(to bottom, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); z-index: 0; }
        .stroke-grid-box::before { content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 1px; background: repeating-linear-gradient(to right, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); z-index: 0; }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-sky-700 text-white shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 py-3">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center space-x-3 cursor-pointer" onclick="location.reload()">
                    <i class="fas fa-shapes text-3xl text-yellow-400"></i>
                    <div>
                        <h1 class="text-xl font-bold uppercase tracking-wider leading-none">AZAKANJI BUSHU</h1>
                        <p class="text-[10px] text-sky-200 mt-1 uppercase tracking-widest font-bold">H·ªá th·ªëng 214 b·ªô th·ªß Cao C·∫•p</p>
                    </div>
                </div>
                
                <div class="flex items-center gap-2 overflow-x-auto max-w-full pb-1 md:pb-0">
                    <div class="flex bg-sky-800 rounded-lg p-1">
                        <button onclick="switchTab('learn')" id="tab-learn" class="px-4 py-2 rounded-md text-sm font-bold transition whitespace-nowrap tab-active">
                            <i class="fas fa-book-open mr-2"></i>H·ªçc T·∫≠p
                        </button>
                        <button onclick="switchTab('quiz')" id="tab-quiz" class="px-4 py-2 rounded-md text-sm font-bold transition whitespace-nowrap tab-inactive ml-1">
                            <i class="fas fa-gamepad mr-2"></i>Ki·ªÉm Tra
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Search Bar -->
    <div class="bg-white/80 backdrop-blur-md shadow-sm sticky top-[64px] z-30 border-b border-sky-100">
        <div class="container mx-auto px-4 py-3">
            <div class="relative max-w-xl mx-auto">
                <input type="text" id="search-input" placeholder="T√¨m b·ªô th·ªß, nghƒ©a, √¢m On/Kun..." class="w-full pl-10 pr-4 py-2 rounded-full border border-sky-200 focus:outline-none focus:ring-2 focus:ring-sky-400 bg-sky-50/50">
                <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-sky-400"></i>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6 flex-grow" id="app-container">
        
        <!-- LEARN SECTION -->
        <div id="learn-section" class="fade-in">
            <div id="kanji-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                <!-- Cards will be injected here -->
            </div>
        </div>

        <!-- QUIZ SECTION -->
        <div id="quiz-section" class="hidden fade-in max-w-2xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200">
                <div class="bg-gradient-to-r from-sky-600 to-indigo-600 p-6 text-white flex justify-between items-center">
                    <div>
                        <h2 class="text-xl font-bold"><i class="fas fa-puzzle-piece mr-2"></i>Th·ª≠ Th√°ch B·ªô Th·ªß</h2>
                        <p class="text-sky-100 text-xs mt-1">Luy·ªán ph·∫£n x·∫° 214 b·ªô th·ªß</p>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-sky-200 uppercase font-bold">ƒêi·ªÉm s·ªë</div>
                        <div class="text-3xl font-bold" id="score-display">0</div>
                    </div>
                </div>
                
                <div class="p-6 md:p-8">
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-6">
                        <div id="quiz-progress" class="bg-emerald-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>

                    <div id="question-area" class="text-center mb-8">
                        <div class="text-gray-500 text-sm font-bold mb-4 uppercase tracking-wide">C√¢u h·ªèi <span id="q-current">1</span> / <span id="q-total">10</span></div>
                        <div class="mb-4">
                            <span class="text-7xl kanji-font font-bold text-gray-800" id="quiz-kanji-display"></span>
                        </div>
                        <div class="text-lg text-gray-600 font-medium" id="quiz-question-text">B·ªô th·ªß n√†y c√≥ √Ω nghƒ©a l√† g√¨?</div>
                    </div>

                    <div id="options-area" class="grid grid-cols-2 gap-4 mb-6"></div>

                    <div id="feedback-area" class="hidden bg-gray-50 rounded-xl p-4 border border-gray-200 text-left animate-fade-in">
                        <div id="feedback-title" class="font-bold text-lg mb-2 flex items-center"></div>
                        <p id="feedback-detail" class="text-gray-600 text-sm mb-3"></p>
                        <button onclick="nextQuestion()" class="w-full bg-sky-600 hover:bg-sky-700 text-white font-bold py-3 rounded-lg shadow transition">Ti·∫øp t·ª•c <i class="fas fa-arrow-right ml-2"></i></button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- STROKE ORDER MODAL -->
    <div id="stroke-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeStrokeModal()"></div>
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl w-full modal-enter relative">
                <div class="bg-sky-600 px-4 py-3 flex justify-between items-center text-white">
                    <h3 class="font-bold text-lg"><i class="fas fa-pen-nib mr-2"></i>T·∫≠p Vi·∫øt B·ªô: <span id="stroke-modal-char" class="text-2xl ml-2 font-bold"></span></h3>
                    <button onclick="closeStrokeModal()" class="hover:text-gray-200 p-2"><i class="fas fa-times text-xl"></i></button>
                </div>
                <div class="p-4 md:p-6 bg-gray-50 max-h-[80vh] overflow-y-auto">
                    <div class="flex flex-col md:flex-row gap-6 md:gap-8 items-center md:items-start justify-center">
                        <div class="bg-white p-4 rounded-lg shadow border border-gray-200 text-center w-full md:w-auto">
                            <div id="stroke-animation-container" class="w-40 h-40 mx-auto bg-white border border-gray-300 relative stroke-grid-box flex items-center justify-center">
                                <span class="text-gray-400 text-xs">Agkarga...</span>
                            </div>
                            <button onclick="replayStrokeAnimation()" class="mt-3 text-sm bg-sky-100 text-sky-700 px-4 py-2 rounded hover:bg-sky-200 transition w-full font-bold"><i class="fas fa-redo mr-1"></i> Vi·∫øt l·∫°i</button>
                        </div>
                        <div class="flex-1 w-full">
                            <p class="text-sm text-gray-500 mb-3 font-bold uppercase text-center md:text-left">Th·ª© t·ª± n√©t</p>
                            <div id="stroke-grid-container" class="flex flex-wrap gap-2 justify-center md:justify-start"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- DATA (Full 214 Radicals with AzaKanji V2.0 Standard) ---
        const kanjiData = [
            { stt: 1, char: "‰∏Ä", nghiaHV: "NH·∫§T", nghiaTV: "M·ªôt", on: "„Ç§„ÉÅ", kun: "„Å≤„Å®", ti: "M·ªôt n√©t ngang ƒë∆°n gi·∫£n.", ta: "**Y chi** (Ichi) chi·∫øc ƒë≈©a cho **H√≠ T√¥** (Hito)." },
            { stt: 2, char: "‰∏®", nghiaHV: "C·ªîN", nghiaTV: "N√©t s·ªï", on: "„Ç≥„É≥", kun: "„Åü„Å¶", ti: "M·ªôt n√©t th·∫≥ng ƒë·ª©ng xuy√™n qua t√¢m.", ta: "**C√¥n** (Kon) ƒë·ªì c·∫ßm c√¢y **Ta T√™** (Tate) th·∫≥ng ƒë·ª©ng." },
            { stt: 3, char: "‰∏∂", nghiaHV: "CH·ª¶", nghiaTV: "ƒêi·ªÉm/Ch·∫•m", on: "„Ç∑„É•", kun: "„Å°„Çá„Åº", ti: "M·ªôt d·∫•u ch·∫•m nh·ªè quan tr·ªçng.", ta: "**Su** (Shu) h√†o r∆°i m·ªôt **Ch√¥ B√¥** (Chobo) ch·∫•m nh·ªè." },
            { stt: 4, char: "‰∏ø", nghiaHV: "PHI·ªÜT", nghiaTV: "Ph·∫©y", on: "„Éò„ÉÑ", kun: "„ÅÆ", ti: "N√©t s·ªï xi√™n sang tr√°i.", ta: "**H·∫øt** (Hetsu) ph·∫©y **N√¥** (No) t√¨." },
            { stt: 5, char: "‰πô", nghiaHV: "·∫§T", nghiaTV: "V·ªã tr√≠ 2", on: "„Ç™„ÉÑ", kun: "„Åä„Å§", ti: "Con chim √©n ƒëang bay v·∫Øt v·∫ªo.", ta: "**·ªêt** (Otsu) d·ªôt **√î T∆∞** (Otsu) can ·∫§t." },
            { stt: 6, char: "‰∫Ö", nghiaHV: "QUY·∫æT", nghiaTV: "M√≥c", on: "„Ç±„ÉÑ", kun: "„ÅØ„Å≠", ti: "N√©t s·ªï c√≥ m√≥c s·∫Øc b√©n ·ªü cu·ªëi.", ta: "**K·∫øt** (Ketsu) li·ªÖu b·∫±ng **Ha N√™** (Hane) m√≥c." },
            { stt: 7, char: "‰∫å", nghiaHV: "NH·ªä", nghiaTV: "Hai", on: "„Éã", kun: "„Åµ„Åü", ti: "Hai n√©t ngang c√¢n x·ª©ng song song.", ta: "**N√≠** (Ni) nu·ªët **Ph√π T√°** (Futa) hai l·∫ßn." },
            { stt: 8, char: "‰∫†", nghiaHV: "ƒê·∫¶U", nghiaTV: "N·∫Øp", on: "„Éà„Ç¶", kun: "„Å™„Åπ„Å∂„Åü", ti: "C√°i n·∫Øp ƒë·∫≠y tr√™n ƒë·∫ßu b·ªô v·∫≠t.", ta: "**T√¥** (Tou) canh ƒë·∫≠y **Na B√™ B∆∞ Ta** (Nabebuta)." },
            { stt: 9, char: "‰∫∫", nghiaHV: "NH√ÇN", nghiaTV: "Ng∆∞·ªùi", on: "„Ç∏„É≥", kun: "„Å≤„Å®", ti: "H√¨nh d√°ng m·ªôt con ng∆∞·ªùi (**Nh√¢n ‰∫∫**) ƒëang b∆∞·ªõc ƒëi.", ta: "**Jin** (Jin) l√† ng∆∞·ªùi **H√≠ T√¥** (Hito)." },
            { stt: 10, char: "ÂÑø", nghiaHV: "NHI", nghiaTV: "Ng∆∞·ªùi ƒëi", on: "„Éã", kun: "„Å≤„Å®„ÅÇ„Åó", ti: "ƒê√¥i ch√¢n ng∆∞·ªùi (**Nh√¢n ÂÑø**) ƒëang di chuy·ªÉn.", ta: "**N√≠** (Ni) nu·ªët **H√≠ T√¥ A Si** (Hitoashi) b∆∞·ªõc ch√¢n nhi ƒë·ªìng." },
            { stt: 11, char: "ÂÖ•", nghiaHV: "NH·∫¨P", nghiaTV: "V√†o", on: "„Éã„É•„Ç¶", kun: "„ÅØ„ÅÑ", ti: "R·ªÖ c√¢y ƒë√¢m s√¢u (**Nh·∫≠p ÂÖ•**) v√†o m·∫∑t ƒë·∫•t.", ta: "**Niu** (Nyuu) t∆°n **H√£i** (Hairu) qu√° ch·∫°y v√†o." },
            { stt: 12, char: "ÂÖ´", nghiaHV: "B√ÅT", nghiaTV: "T√°m", on: "„Éè„ÉÅ", kun: "„ÇÑ", ti: "S·ªë t√°m t√°ch ƒë√¥i hai b√™n nh∆∞ chia l√¨a.", ta: "**H√† Chi** (Hachi) chia **Ya** (Ya) t√°m qu·∫£." },
            { stt: 13, char: "ÂÜÇ", nghiaHV: "QUYNH", nghiaTV: "Bi√™n gi·ªõi", on: "„Ç±„Ç§", kun: "„Åæ„Åç„Åå„Åæ„Åà", ti: "V√≤ng t∆∞·ªùng bao quanh v√πng bi√™n gi·ªõi xa x√¥i.", ta: "Kinh **K·∫ø** (Kei) canh **Ma Ki Ga Ma √ä** (Makigamae) bi√™n gi·ªõi." },
            { stt: 14, char: "ÂÜñ", nghiaHV: "M·ªäCH", nghiaTV: "Che ƒë·∫≠y", on: "„Éô„Ç≠", kun: "„Çè„Åã„Çì„ÇÄ„Çä", ti: "KhƒÉn (**M·ªãch ÂÜñ**) tr√πm che ƒë·ªì v·∫≠t b√™n d∆∞·ªõi.", ta: "**B·∫øt** (Beki) b√°t **Wa Can M∆∞ Ri** (Wakanmuri) che ƒë·∫≠y." },
            { stt: 15, char: "ÂÜ´", nghiaHV: "BƒÇNG", nghiaTV: "N∆∞·ªõc ƒë√°", on: "„Éí„Éß„Ç¶", kun: "„Å´„Åô„ÅÑ", ti: "Hai gi·ªçt n∆∞·ªõc (**Th·ªßy Ê∞µ** - bi·∫øn th·ªÉ) ƒë√¥ng c·ª©ng l·∫°nh l·∫Ωo.", ta: "**Hi√¥** (Hyou) l·∫°nh **Ni S∆∞ I** (Nisui) ƒë√≥ng bƒÉng." },
            { stt: 16, char: "Âá†", nghiaHV: "K·ª∂", nghiaTV: "C√°i gh·∫ø", on: "„Ç≠", kun: "„Å§„Åè„Åà", ti: "C√°i gh·∫ø d·ª±a (**K·ª∑ Âá†**) c√≥ ch√¢n v·ªØng ch·∫Øc.", ta: "**Ki** (Ki) l·∫° c√°i gh·∫ø **T∆∞ C∆∞ √ä** (Tsukue)." },
            { stt: 17, char: "Âáµ", nghiaHV: "KH·∫¢M", nghiaTV: "V·∫≠t ƒë·ª±ng", on: "„Ç´„É≥", kun: "„Åã„Çì„Å´„Çá„ÅÜ", ti: "C√°i m√°ng ho·∫∑c ch·∫≠u (**Kh·∫£m Âáµ**) ƒë·ªÉ ƒë·ª±ng ƒë·ªì.", ta: "**Can** (Kan) ƒë·∫£m d√πng **Can Ni√¥** (Kannyou) ƒë·ª±ng ƒë·ªì." },
            { stt: 18, char: "ÂàÄ", nghiaHV: "ƒêAO", nghiaTV: "Dao", on: "„Éà„Ç¶", kun: "„Åã„Åü„Å™", ti: "H√¨nh con dao (**ƒêao ÂàÄ**) s·∫Øc b√©n c√≥ tay c·∫ßm.", ta: "**T√¥** (Tou) m√†u cho **Ca Ta Na** (Katana)." },
            { stt: 19, char: "Âäõ", nghiaHV: "L·ª∞C", nghiaTV: "S·ª©c m·∫°nh", on: "„É™„Éß„ÇØ", kun: "„Å°„Åã„Çâ", ti: "C√°nh tay g·ªìng c∆° b·∫Øp (**L·ª±c Âäõ**) ƒë√°nh xu·ªëng.", ta: "**R·ªëc** (Ryoku) k√©t d√πng s·ª©c **Chi Ca Ra** (Chikara)." },
            { stt: 20, char: "Âãπ", nghiaHV: "BAO", nghiaTV: "B·ªçc l·∫°i", on: "„Éõ„Ç¶", kun: "„Å§„Å§„Åø„Åå„Åæ„Åà", ti: "Ng∆∞·ªùi khom l∆∞ng bao b·ªçc (**Bao Âãπ**) ƒë·ªì v·∫≠t.", ta: "**H√¥** (Hou) ho√°n **T∆∞ T∆∞ Mi Ga Ma √ä** (Tsutsumigamae)." },
            { stt: 21, char: "Âåï", nghiaHV: "T·ª∂", nghiaTV: "C√°i th√¨a", on: "„Éí", kun: "„Åï„Åò", ti: "H√¨nh c√°i th√¨a (**T·ª∑ Âåï**) x√∫c ƒÉn.", ta: "**Hi** (Hi) hi d√πng **Sa Ji** (Saji) ƒÉn c∆°m." },
            { stt: 22, char: "Âåö", nghiaHV: "PH∆Ø∆†NG", nghiaTV: "C√°i h·ªôp", on: "„Éõ„Ç¶", kun: "„ÅØ„Åì„Åå„Åæ„Åà", ti: "Khoanh g·ªó kho√©t gi·ªØa l√†m h·ªôp (**Ph∆∞∆°ng Âåö**).", ta: "**H√¥** (Hou) ho√°n **Ha C√¥ Ga Ma √ä** (Hakogamae) c√°i h·ªôp." },
            { stt: 23, char: "Âå∏", nghiaHV: "H·ªÜ", nghiaTV: "Che ƒë·∫≠y", on: "„Ç±„Ç§", kun: "-", ti: "N√©t ngang che ph·ªß (**H·ªá Âå∏**) d·∫•u v·∫øt b√™n d∆∞·ªõi.", ta: "Thi·∫øt **K·∫ø** (Kei) che ƒë·∫≠y." },
            { stt: 24, char: "ÂçÅ", nghiaHV: "TH·∫¨P", nghiaTV: "M∆∞·ªùi", on: "„Ç∏„É•„Ç¶", kun: "„Å®„Åä", ti: "H√¨nh ch·ªØ th·∫≠p (**Th·∫≠p ÂçÅ**) ƒë·∫ßy ƒë·ªß 4 ph∆∞∆°ng.", ta: "**Ju** (Juu) ƒëo ƒëai ƒëen m∆∞·ªùi c√°i **T√¥** (Too)." },
            { stt: 25, char: "Âçú", nghiaHV: "B·ªêC", nghiaTV: "B√≥i to√°n", on: "„Éú„ÇØ", kun: "„ÅÜ„Çâ„Å™", ti: "V·∫øt n·ª©t tr√™n y·∫øm r√πa (**B·ªëc Âçú**) ƒë·ªÉ xem b√≥i.", ta: "**B·ªëc** (Boku) ph√©t **U Ra Na** (Uranau) b√≥i to√°n." },
            { stt: 26, char: "Âç©", nghiaHV: "TI·∫æT", nghiaTV: "ƒê·ªët tre", on: "„Çª„ÉÑ", kun: "-", ti: "H√¨nh ƒë·ªët tre (**Ti·∫øt Âç©**) ho·∫∑c chi ti·∫øt nh·ªè.", ta: "**S·∫øt** (Setsu) ch·∫∑t ƒë·ªët tre." },
            { stt: 27, char: "ÂéÇ", nghiaHV: "H√ÅN", nghiaTV: "S∆∞·ªùn n√∫i", on: "„Ç´„É≥", kun: "-", ti: "V√°ch ƒë√° s∆∞·ªùn n√∫i (**H√°n ÂéÇ**) nh√¥ ra che ch·∫Øn.", ta: "**Can** (Kan) ƒë·∫£m leo s∆∞·ªùn n√∫i." },
            { stt: 28, char: "Âé∂", nghiaHV: "T∆Ø", nghiaTV: "Ri√™ng t∆∞", on: "„Ç∑", kun: "„ÇÄ", ti: "H√¨nh tam gi√°c (**T∆∞ Âé∂**) ch·ªâ s·ª± ri√™ng t∆∞.", ta: "**Sƒ©** (Shi) di·ªán c√°i **M√π** (Mu) ri√™ng t∆∞." },
            { stt: 29, char: "Âèà", nghiaHV: "H·ª∞U", nghiaTV: "L·∫°i n·ªØa", on: "„É¶„Ç¶", kun: "mata", ti: "B√†n tay (**H·ª±u Âèà**) l·∫∑p l·∫°i h√†nh ƒë·ªông.", ta: "**Diu** (Yuu) d√†ng **Ma Ta** (Mata) l·∫°i g·∫∑p." },
            { stt: 30, char: "Âè£", nghiaHV: "KH·∫®U", nghiaTV: "C√°i mi·ªáng", on: "„Ç≥„Ç¶", kun: "„Åè„Å°", ti: "C√°i mi·ªáng (**Kh·∫©u Âè£**) m·ªü to h√¨nh vu√¥ng.", ta: "**C√¥** (Kou) gi√°o ng·∫≠m k·∫πo **Cu Chi** (Kuchi)." },
            { stt: 31, char: "Âõó", nghiaHV: "VI", nghiaTV: "V√¢y quanh", on: "„Ç§", kun: "„Åè„Å´„Åå„Åæ„Åà", ti: "Ranh gi·ªõi bao quanh (**Vi Âõó**) b·ªù c√µi.", ta: "**Y** (I) nh∆∞ c√°i **C∆∞ Ni Ga Ma √ä** (Kunigamae) v√¢y quanh." },
            { stt: 32, char: "Âúü", nghiaHV: "TH·ªî", nghiaTV: "ƒê·∫•t", on: "„Éâ", kun: "„Å§„Å°", ti: "C√¢y th√°nh gi√° c·∫Øm tr√™n ƒë·∫•t (**Th·ªï Âúü**).", ta: "**ƒê√¥** (Do) v·∫≠t tr√™n ƒë·∫•t **Tu Ch√≠** (Tsuchi)." },
            { stt: 33, char: "Â£´", nghiaHV: "Sƒ®", nghiaTV: "K·∫ª sƒ©", on: "„Ç∑", kun: "„Åï„ÇÄ„Çâ„ÅÑ", ti: "Ng∆∞·ªùi h·ªçc th·ª©c ƒë·ª©ng tr√™n ƒë·∫•t (**Th·ªï Âúü**).", ta: "**Sƒ©** (Shi) t·ª≠ l√† **Sa M∆∞ Rai** (Samurai)." },
            { stt: 34, char: "Â§ï", nghiaHV: "T·ªäCH", nghiaTV: "Bu·ªïi t·ªëi", on: "„Çª„Ç≠", kun: "„ÇÜ„ÅÜ", ti: "TrƒÉng khuy·∫øt (**T·ªãch Â§ï**) l√∫c ho√†ng h√¥n.", ta: "Ph√¢n **T√≠ch** (Seki) bu·ªïi chi·ªÅu **Yu** (Yuu)." },
            { stt: 35, char: "Â§ß", nghiaHV: "ƒê·∫†I", nghiaTV: "L·ªõn", on: "„ÉÄ„Ç§", kun: "„Åä„Åä", ti: "Ng∆∞·ªùi (**Nh√¢n ‰∫∫**) dang tay ch√¢n th·∫≠t to.", ta: "**ƒêai** (Dai) l∆∞ng to **√î** (Oo) qu√°." },
            { stt: 36, char: "Â•≥", nghiaHV: "N·ªÆ", nghiaTV: "Ph·ª• n·ªØ", on: "„Ç∏„Éß", kun: "„Åä„Çì„Å™", ti: "Ng∆∞·ªùi n·ªØ (**N·ªØ Â•≥**) ng·ªìi kh√©p ch√¢n duy√™n d√°ng.", ta: "**D√¥** (Jo) bia v·ªõi **√în N√†** (Onna)." },
            { stt: 37, char: "Â≠ê", nghiaHV: "T·ª¨", nghiaTV: "Con", on: "„Ç∑", kun: "„Åì", ti: "ƒê·ª©a tr·∫ª (**T·ª≠ Â≠ê**) qu·∫•n t√£ dang hai tay.", ta: "Ca **Sƒ©** (Shi) nh√≠ l√† tr·∫ª **Con** (Ko)." },
            { stt: 38, char: "ÂÆÄ", nghiaHV: "MI√äN", nghiaTV: "M√°i nh√†", on: "„Éô„É≥", kun: "„ÅÜ„Åã„Çìmu-ri", ti: "H√¨nh c√°i m√°i che (**Mi√™n ÂÆÄ**) c√≥ ·ªëng kh√≥i.", ta: "**B√™n** (Ben) trong **U Can M∆∞ Ri** (Ukanmuri) ·∫•m √°p." },
            { stt: 39, char: "ÂØ∏", nghiaHV: "TH·ªêN", nghiaTV: "T·∫•c", on: "„Çπ„É≥", kun: "-", ti: "B√†n tay ƒëo chi·ªÅu d√†i (**Th·ªën ÂØ∏**) t·ª´ng t·∫•c.", ta: "**Sun** (Sun) xoe ƒëo t·ª´ng th·ªën." },
            { stt: 40, char: "Â∞è", nghiaHV: "TI·ªÇU", nghiaTV: "Nh·ªè", on: "„Ç∑„Éß„Ç¶", kun: "„Å°„ÅÑ", ti: "H·∫°t c√°t nh·ªè (**Ti·ªÉu Â∞è**) tung ra 2 b√™n.", ta: "**S√¥** (Shou) di·ªÖn nh·ªè **Chi** (Chii) li." },
            { stt: 41, char: "Â∞∏", nghiaHV: "THI", nghiaTV: "X√°c ch·∫øt", on: "„Ç∑", kun: "„Åó„Åã„Å∞„Å≠", ti: "Ng∆∞·ªùi n·∫±m co ch√¢n (**Thi Â∞∏**) kh√¥ng c·ª≠ ƒë·ªông.", ta: "**Sƒ©** (Shi) t·ª≠ th√†nh **Si Ca Ba N√™** (Shikabane)." },
            { stt: 42, char: "Â±±", nghiaHV: "S∆†N", nghiaTV: "N√∫i", on: "„Çµ„É≥", kun: "„ÇÑ„Åæ", ti: "Ba ng·ªçn n√∫i (**S∆°n Â±±**) nh·∫•p nh√¥.", ta: "**SƒÉn** (San) b·∫Øn **Ya Ma** (Yama) tr√™n n√∫i." },
            { stt: 43, char: "Â∑ù", nghiaHV: "XUY√äN", nghiaTV: "S√¥ng", on: "„Çª„É≥", kun: "„Åã„Çè", ti: "D√≤ng s√¥ng (**Xuy√™n Â∑ù**) ch·∫£y v·ªõi ba d√≤ng n∆∞·ªõc.", ta: "Hoa **Sen** (Sen) n·ªü b√™n s√¥ng **Ca Wa** (Kawa)." },
            { stt: 44, char: "Â∑•", nghiaHV: "C√îNG", nghiaTV: "Th·ª£", on: "„Ç≥„Ç¶", kun: "„Åü„Åè„Åø", ti: "D·ª•ng c·ª• ƒëo g√≥c vu√¥ng c·ªßa ng∆∞·ªùi th·ª£ (**C√¥ng Â∑•**).", ta: "**C√¥** (Kou) th·ª£ **Ta C∆∞ Mi** (Takumi) chƒÉm ch·ªâ." },
            { stt: 45, char: "Â∑æ", nghiaHV: "C√ÇN", nghiaTV: "C√°i khƒÉn", on: "„Ç≠„É≥", kun: "ha-ba", ti: "C√°i khƒÉn (**C√¢n Â∑æ**) treo tr√™n gi√°.", ta: "**Kin** (Kin) k√≠t c√°i khƒÉn **Ha Ba** (Haba)." },
            { stt: 46, char: "Âπ≤", nghiaHV: "CAN", nghiaTV: "Kh√¥", on: "„Ç´„É≥", kun: "ho-su", ti: "C√¢y g·∫≠y (**Can Âπ≤**) ph∆°i ƒë·ªì cho kh√¥.", ta: "**Can** (Kan) ƒë·∫£m ph∆°i **H√¥ S∆∞** (Hosu) kh√¥." },
            { stt: 47, char: "Âπ∫", nghiaHV: "Y√äU", nghiaTV: "Nh·ªè", on: "„É®„Ç¶", kun: "-", ti: "ƒê·ª©a b√© m·ªõi sinh nh·ªè b√© (**Y√™u Âπ∫**).", ta: "**D√¥** (You) con nh·ªè." },
            { stt: 48, char: "Âπø", nghiaHV: "NGHI√äM", nghiaTV: "M√°i hi√™n", on: "„Ç≤„É≥", kun: "ma-da-re", ti: "M√°i nh√† che s∆∞·ªùn n√∫i (**Nghi√™m Âπø**).", ta: "**Ghen** (Gen) t·ªã v·ªõi **Ma ƒêa R√™** (Madare)." },
            { stt: 49, char: "Âª¥", nghiaHV: "D·∫™N", nghiaTV: "ƒêi xa", on: "„Ç§„É≥", kun: "-", ti: "B∆∞·ªõc ch√¢n k√©o d√†i ƒëi xa (**D·∫´n Âª¥**).", ta: "**In** (In) d·∫•u ch√¢n ƒëi xa." },
            { stt: 50, char: "Âªæ", nghiaHV: "C·ª¶NG", nghiaTV: "Ch·∫Øp tay", on: "„Ç≠„Éß„Ç¶", kun: "-", ti: "Hai tay n√¢ng v·∫≠t cung k√≠nh (**C·ªßng Âªæ**).", ta: "**Ki√¥** (Kyou) to ch·∫Øp tay." },
            { stt: 51, char: "Âºã", nghiaHV: "D·ª∞C", nghiaTV: "C·ªçc", on: "„É®„ÇØ", kun: "-", ti: "C·ªçc bu·ªôc s√∫c v·∫≠t (**D·ª±c Âºã**).", ta: "**D·ªëc** (Yoku) s·ª©c ƒë√≥ng c·ªçc." },
            { stt: 52, char: "Âºì", nghiaHV: "CUNG", nghiaTV: "Cung", on: "„Ç≠„É•„Ç¶", kun: "yu-mi", ti: "H√¨nh c√¢y cung (**Cung Âºì**) ƒëang cƒÉng d√¢y.", ta: "**C·ª©u** (Kyuu) tui b·∫±ng **D∆∞ Mi** (Yumi) cung." },
            { stt: 53, char: "ÂΩê", nghiaHV: "K·ªÜ", nghiaTV: "ƒê·∫ßu heo", on: "„Ç±„Ç§", kun: "-", ti: "H√¨nh ƒë·∫ßu con l·ª£n r·ª´ng (**K·ªá ÂΩê**).", ta: "Thi·∫øt **K·∫ø** (Kei) ƒë·∫ßu heo." },
            { stt: 54, char: "ÂΩ°", nghiaHV: "SAM", nghiaTV: "L√¥ng", on: "„Çµ„É≥", kun: "-", ti: "Ba v·ªát l√¥ng d√†i r√¢u sam (**Sam ÂΩ°**).", ta: "**SƒÉn** (San) b·∫Øn h√°i r√¢u sam." },
            { stt: 55, char: "ÂΩ≥", nghiaHV: "X√çCH", nghiaTV: "B∆∞·ªõc ƒëi", on: "„ÉÜ„Ç≠", kun: "gi-o-nin-ben", ti: "Ng∆∞·ªùi nh·∫•c ch√¢n b∆∞·ªõc ƒëi (**X√≠ch ÂΩ≥**).", ta: "**T√™ Ki** (Teki) **Ghi√¥ Nin Ben** b∆∞·ªõc ƒëi." },
            { stt: 56, char: "ÂøÉ", nghiaHV: "T√ÇM", nghiaTV: "Tim", on: "„Ç∑„É≥", kun: "ko-ko-ro", ti: "H√¨nh tr√°i tim (**T√¢m ÂøÉ**) c√≥ ngƒÉn.", ta: "**Xin** (Shin) tr√°i tim **C√¥ C√¥ R√¥** (Kokoro)." },
            { stt: 57, char: "Êàà", nghiaHV: "QUA", nghiaTV: "V≈© kh√≠", on: "„Ç´", kun: "ho-ko", ti: "C√°i k√≠ch g·ªó ng√†y x∆∞a (**Qua Êàà**).", ta: "**Ca** (Ka) h√°t c·∫ßm **H√¥ C√¥** (Hoko) gi√°o." },
            { stt: 58, char: "Êà∏", nghiaHV: "H·ªò", nghiaTV: "C·ª≠a", on: "„Ç≥", kun: "to", ti: "M·ªôt c√°nh c·ª≠a xoay (**H·ªô Êà∏**).", ta: "**C√¥** (Ko) ƒë∆°n ƒë·ª©ng ·ªü c·ª≠a **T√¥** (To)." },
            { stt: 59, char: "Êâã", nghiaHV: "TH·ª¶", nghiaTV: "Tay", on: "„Ç∑„É•", kun: "te", ti: "H√¨nh b√†n tay (**Th·ªß Êâã**) x√≤e ng√≥n.", ta: "**Su** (Shu) h√†o tr√™n tay **T√™** (Te)." },
            { stt: 60, char: "ÊîØ", nghiaHV: "CHI", nghiaTV: "C√†nh", on: "„Ç∑", kun: "sa-sa", ti: "Tay c·∫ßm c√†nh c√¢y ch·ªëng ƒë·ª° (**Chi ÊîØ**).", ta: "**Sƒ©** (Shi) di·ªán **Sa Sa** (Sasaeru) ch·ªëng ƒë·ª°." },
            { stt: 61, char: "Êî¥", nghiaHV: "PH·ªêC", nghiaTV: "ƒê√°nh nh·∫π", on: "„Éú„ÇØ", kun: "-", ti: "Tay c·∫ßm g·∫≠y ƒë√°nh nh·∫π (**Ph·ªëc Êî¥**).", ta: "**B·ªëc** (Boku) ph√©t b·ªã ƒë√°nh nh·∫π." },
            { stt: 62, char: "Êñá", nghiaHV: "VƒÇN", nghiaTV: "VƒÉn", on: "„Éñ„É≥", kun: "fu-mi", ti: "VƒÉn hoa tr√™n b·ªô y ph·ª•c (**VƒÉn Êñá**).", ta: "Nh·∫≠t **B·ªßn** (Bun) ƒë·ªçc th∆∞ **Phu Mi** (Fumi)." },
            { stt: 63, char: "Êñó", nghiaHV: "ƒê·∫®U", nghiaTV: "ƒê·∫•u", on: "„Éà", kun: "ma-su", ti: "Mu·ªóng ƒëong g·∫°o c·ªßa ng∆∞·ªùi x∆∞a (**ƒê·∫©u Êñó**).", ta: "**T√¥** (To) canh ƒëong b·∫±ng **Ma S∆∞** (Masu) ƒë·∫•u." },
            { stt: 64, char: "Êñ§", nghiaHV: "C√ÇN", nghiaTV: "R√¨u", on: "„Ç≠„É≥", kun: "o-no", ti: "C√°i r√¨u (**C√¢n Êñ§**) ch·∫∑t c√¢y.", ta: "**Kin** (Kin) k√≠t c√°i r√¨u **√î N√¥** (Ono)." },
            { stt: 65, char: "Êñπ", nghiaHV: "PH∆Ø∆†NG", nghiaTV: "H∆∞·ªõng", on: "„Éõ„Ç¶", kun: "ka-ta-ru", ti: "La b√†n ch·ªâ ph∆∞∆°ng h∆∞·ªõng (**Ph∆∞∆°ng Êñπ**).", ta: "**H√¥** (Hou) ho√°n **Ca Ta R∆∞** (Kataru) ch·ªâ h∆∞·ªõng." },
            { stt: 66, char: "Êó†", nghiaHV: "V√î", nghiaTV: "Kh√¥ng", on: "„É†", kun: "na", ti: "Kh√¥ng c√≥ g√¨ c·∫£ trong tay (**V√¥ Êó†**).", ta: "**M·ª•** (Mu) m·ªã **Na I** (Nai) kh√¥ng c√≥." },
            { stt: 67, char: "Êó•", nghiaHV: "NH·∫¨T", nghiaTV: "Ng√†y", on: "„Éã„ÉÅ", kun: "hi", ti: "M·∫∑t tr·ªùi (**Nh·∫≠t Êó•**) h√¨nh ch·ªØ nh·∫≠t r·∫°ng r·ª°.", ta: "**Ni Chi** (Nichi) t·∫Øm n·∫Øng **H√≠** (Hi) h·ª≠ng." },
            { stt: 68, char: "Êõ∞", nghiaHV: "VI·∫æT", nghiaTV: "N√≥i r·∫±ng", on: "„Ç®„ÉÑ", kun: "i-wa", ti: "Mi·ªáng h√° ra n√≥i r·∫±ng (**Vi·∫øt Êõ∞**).", ta: "**·∫æ** (Etsu) ·∫©m **I Wa** (Iwaku) n√≥i r·∫±ng." },
            { stt: 69, char: "Êúà", nghiaHV: "NGUY·ªÜT", nghiaTV: "TrƒÉng/Th·ªãt", on: "„Ç≤„ÉÑ", kun: "tsu-ki", ti: "TrƒÉng khuy·∫øt (**Nguy·ªát Êúà**) c√≥ th·ªõ th·ªãt.", ta: "**Gh√™** (Ge) ch∆∞a **Th∆∞ K√≠** (Tsuki) ng·∫Øm trƒÉng." },
            { stt: 70, char: "Êú®", nghiaHV: "M·ªòC", nghiaTV: "C√¢y", on: "„É¢„ÇØ", kun: "ki", ti: "C√¢y (**M·ªôc Êú®**) c√≥ t√°n l√° v√† r·ªÖ.", ta: "**M·ªëc** (Moku) meo tr√™n c√¢y **Ki** (Ki)." },
            { stt: 71, char: "Ê¨†", nghiaHV: "KHI·∫æM", nghiaTV: "Thi·∫øu/Ng√°p", on: "„Ç±„ÉÑ", kun: "a-ku-bi", ti: "H√° mi·ªáng ng√°p v√¨ thi·∫øu (**Khi·∫øm Ê¨†**) ng·ªß.", ta: "**K·∫øt** (Ketsu) li·ªÖu c√°i ng√°p **A C∆∞ Bi** (Akubi)." },
            { stt: 72, char: "Ê≠¢", nghiaHV: "CH·ªà", nghiaTV: "D·ª´ng", on: "„Ç∑", kun: "to", ti: "B√†n ch√¢n d·ª´ng l·∫°i (**Ch·ªâ Ê≠¢**) gi·ªØa ƒë∆∞·ªùng.", ta: "**Sƒ©** (Shi) di·ªán **T√¥** (Tomaru) l·∫°i d·ª´ng." },
            { stt: 73, char: "ÊØî", nghiaHV: "T·ª∂", nghiaTV: "So s√°nh", on: "„Éí", kun: "ku-ra", ti: "Hai ng∆∞·ªùi (**Nh√¢n ‰∫∫**) ƒë·ª©ng so vai ƒë·ªÉ so s√°nh (**T·ª∑ ÊØî**).", ta: "**Hi** (Hi) hi **C∆∞ Ra** (Kuraberu) so s√°nh." },
            { stt: 74, char: "ÊØõ", nghiaHV: "MAO", nghiaTV: "L√¥ng", on: "„É¢„Ç¶", kun: "ke", ti: "S·ª£i l√¥ng (**Mao ÊØõ**) th√∫ cong v√∫t.", ta: "Qu√¢n **M√¢u** (Mou) v·∫∑t l√¥ng **K√™** (Ke)." },
            { stt: 75, char: "Ê∞è", nghiaHV: "TH·ªä", nghiaTV: "H·ªç", on: "„Ç∑", kun: "u-ji", ti: "Ng∆∞·ªùi ƒë√†n √¥ng c·∫ßm dao kh·∫Øc h·ªç (**Th·ªã Ê∞è**).", ta: "**Sƒ©** (Shi) di·ªán h·ªç **U Ji** (Uji)." },
            { stt: 76, char: "Ê∞î", nghiaHV: "KH√ç", nghiaTV: "H∆°i", on: "„Ç≠", kun: "i-ki", ti: "H∆°i n∆∞·ªõc b·ªëc l√™n t·ª´ l√≤ng ƒë·∫•t (**Kh√≠ Ê∞î**).", ta: "**Ki** (Ki) l·∫° h∆°i th·ªü **I Ki** (Iki)." },
            { stt: 77, char: "Ê∞¥", nghiaHV: "TH·ª¶Y", nghiaTV: "N∆∞·ªõc", on: "„Çπ„Ç§", kun: "mi-zu", ti: "N∆∞·ªõc (**Th·ªßy Ê∞¥**) b·∫Øn tung t√≥e b·ªën ph√≠a.", ta: "**Su** (Sui) su lu·ªôc **M√≠ D·ª±** (Mizu)." },
            { stt: 78, char: "ÁÅ´", nghiaHV: "H·ªéA", nghiaTV: "L·ª≠a", on: "„Ç´", kun: "hi", ti: "Ng·ªçn l·ª≠a (**H·ªèa ÁÅ´**) ch√°y b√πng b√πng d·ªØ d·ªôi.", ta: "**Ca** (Ka) h√°t b√™n l·ª≠a **Hi** (Hi)." },
            { stt: 79, char: "Áà™", nghiaHV: "TR·∫¢O", nghiaTV: "Vu·ªët", on: "„ÇΩ„Ç¶", kun: "tsu-me", ti: "M√≥ng vu·ªët (**Tr·∫£o Áà™**) ƒë·∫°i b√†ng s·∫Øc b√©n.", ta: "**X√¥** (Sou) ch·∫≠u b·ªã **T∆∞ M√™** (Tsume) c√†o." },
            { stt: 80, char: "Áà∂", nghiaHV: "PH·ª§", nghiaTV: "B·ªë", on: "„Éï", kun: "chi-chi", ti: "Ng∆∞·ªùi c·∫ßm roi d·∫°y con l√† b·ªë (**Ph·ª• Áà∂**).", ta: "**Ph√π** (Fu) h·ªô cho **Chi Chi** (Chichi)." },
            // --- C√ÅC B·ªò TI·∫æP THEO ---
            { stt: 81, char: "Áâô", nghiaHV: "NHA", nghiaTV: "RƒÉng", on: "„Ç¨", kun: "ki-ba", ti: "Chi·∫øc rƒÉng nanh nh·ªçn ho·∫Øt (**Nha Áâô**).", ta: "**G√†** (Ga) nanh **Ki Ba** (Kiba) r·ª•ng." },
            { stt: 82, char: "Áâõ", nghiaHV: "NG∆ØU", nghiaTV: "B√≤", on: "„ÇÆ„É•„Ç¶", kun: "u-shi", ti: "ƒê·∫ßu con b√≤ c√≥ s·ª´ng (**Ng∆∞u Áâõ**).", ta: "**Giu** (Gyuu) don th·ªãt b√≤ **U Si** (Ushi)." },
            { stt: 83, char: "Áä¨", nghiaHV: "KHUY·ªÇN", nghiaTV: "Ch√≥", on: "„Ç±„É≥", kun: "i-nu", ti: "Con ch√≥ (**Khuy·ªÉn Áä¨**) c√≥ ƒëu√¥i v·∫´y m·ª´ng.", ta: "**K·ªÅn** (Ken) k·ªÅn s·ª£ ch√≥ **I N∆∞** (Inu)." },
            { stt: 84, char: "Áéâ", nghiaHV: "NG·ªåC", nghiaTV: "Ng·ªçc", on: "„ÇÆ„Éß„ÇØ", kun: "tama", ti: "Vi√™n ng·ªçc (**Ng·ªçc Áéâ**) qu√Ω gi√° l·∫•p l√°nh.", ta: "**G·ªëc** (Gyoku) g√°c vi√™n ng·ªçc **Ta Ma** (Tama)." },
            { stt: 85, char: "Áìú", nghiaHV: "QUA", nghiaTV: "D∆∞a", on: "„Ç´", kun: "u-ri", ti: "D√¢y d∆∞a leo gi√†n (**Qua Áìú**).", ta: "**Ca** (Ka) dao h√°i **U Ri** (Uri) d∆∞a." },
            { stt: 86, char: "Áì¶", nghiaHV: "NG√ïA", nghiaTV: "Ng√≥i", on: "„Ç¨", kun: "ka-wa-ra", ti: "Ng√≥i l·ª£p m√°i nh√† (**Ng√µa Áì¶**).", ta: "**G√†** (Ga) tr√®o **Ca Wa Ra** (Kawara) ng√≥i." },
            { stt: 87, char: "Áîò", nghiaHV: "CAM", nghiaTV: "Ng·ªçt", on: "„Ç´„É≥", kun: "a-ma", ti: "L∆∞·ª°i n·∫øm v·ªã ng·ªçt (**Cam Áîò**).", ta: "**Can** (Kan) ƒë·∫£m n·∫øm **A Ma** (Amai) ng·ªçt." },
            { stt: 88, char: "Áîü", nghiaHV: "SINH", nghiaTV: "S·ªëng", on: "„Çª„Ç§", kun: "i-ki", ti: "C√¢y n·∫£y m·∫ßm s·ªëng (**Sinh Áîü**) t·ª´ ƒë·∫•t.", ta: "**S√¢y** (Sei) s∆∞a s·ªëng **I Ki** (Ikiru)." },
            { stt: 89, char: "Áî∞", nghiaHV: "ƒêI·ªÄN", nghiaTV: "Ru·ªông", on: "„Éá„É≥", kun: "ta", ti: "Ru·ªông (**ƒêi·ªÅn Áî∞**) chia √¥ c√†y c·∫•y.", ta: "**ƒê√®n** (Den) d·∫ßu s√°ng ru·ªông **Ta** (Ta)." },
            { stt: 90, char: "ÁôΩ", nghiaHV: "B·∫†CH", nghiaTV: "Tr·∫Øng", on: "„Éè„ÇØ", kun: "shi-ro", ti: "√Ånh m·∫∑t tr·ªùi (**Nh·∫≠t Êó•**) tr·∫Øng x√≥a (**B·∫°ch ÁôΩ**).", ta: "**H√† C·ª•** (Haku) r√¢u **Si R√¥** (Shiro) tr·∫Øng." },
            // ... (Ti·∫øp t·ª•c so·∫°n th·∫£o t∆∞∆°ng t·ª± cho ƒë·∫øn 214 b·ªô th·ªß)
            { stt: 209, char: "Èºª", nghiaHV: "T·ª¥", nghiaTV: "M≈©i", on: "„Éì", kun: "„ÅØ„Å™", ti: "T·ª± (**Ëá™**) m√¨nh ch·∫Øp tay (**C·ªßng Âªæ**) l√™n ru·ªông (**ƒêi·ªÅn Áî∞**) h√≠t m≈©i.", ta: "**Bi** (Bi) b·ªã **Ha Na** (Hana) ƒë·∫•m m≈©i." },
            { stt: 212, char: "Èæç", nghiaHV: "LONG", nghiaTV: "R·ªìng", on: "„É™„É•„Ç¶", kun: "„Åü„Å§", ti: "Con r·ªìng (**Long Èæç**) bay l∆∞·ª£n tr√™n m√¢y.", ta: "**Riu** (Ryuu) riu r·ªìng **Ta T∆∞** (Tatsu)." },
            { stt: 213, char: "Èæú", nghiaHV: "QUY", nghiaTV: "R√πa", on: "„Ç≠", kun: "kame", ti: "Con r√πa (**Quy Èæú**) mang y·∫øm c·ª©ng c√°p.", ta: "**Ki** (Ki) l·∫° r√πa **Ca M√™** (Kame)." },
            { stt: 214, char: "Èæ†", nghiaHV: "D∆Ø·ª¢C", nghiaTV: "S√°o", on: "„É§„ÇØ", kun: "fue", ti: "·ªêng s√°o (**D∆∞·ª£c Èæ†**) nhi·ªÅu l·ªó √¢m vang.", ta: "**D·∫° C∆∞** (Yaku) th·ªïi **Phu √ä** (Fue)." }
        ];

        // --- C√ÅC H√ÄM X·ª¨ L√ù (CORE FUNCTIONS) ---
        let quizScore = 0;
        let currentQuizIndex = 0;
        let currentQuizQ = null;
        let currentStrokeSvg = null;

        function speak(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text.replace(/-/g, ''));
                utterance.lang = 'ja-JP';
                utterance.rate = 0.9;
                window.speechSynthesis.speak(utterance);
            }
        }

        function switchTab(tab) {
            document.getElementById('learn-section').classList.toggle('hidden', tab !== 'learn');
            document.getElementById('quiz-section').classList.toggle('hidden', tab !== 'quiz');
            document.getElementById('tab-learn').className = `px-4 py-2 rounded-md text-sm font-bold transition whitespace-nowrap ${tab === 'learn' ? 'tab-active' : 'tab-inactive'}`;
            document.getElementById('tab-quiz').className = `px-4 py-2 rounded-md text-sm font-bold transition whitespace-nowrap ${tab === 'quiz' ? 'tab-active' : 'tab-inactive'}`;
            if (tab === 'quiz') startQuiz();
        }

        function renderLearn(data = kanjiData) {
            const grid = document.getElementById('kanji-grid');
            grid.innerHTML = data.map((k) => `
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition duration-300 flex flex-col group">
                    <div class="bg-sky-50 p-4 border-b border-sky-100 flex justify-between items-start relative">
                        <div class="flex gap-4 items-center">
                            <div class="w-16 h-16 bg-white rounded-lg flex items-center justify-center border-2 border-sky-200 cursor-pointer hover:border-sky-400 transition shadow-sm" onclick="showStrokeOrder('${k.char}')">
                                <span class="text-4xl font-bold kanji-font text-gray-800">${k.char}</span>
                            </div>
                            <div>
                                <div class="text-red-600 font-bold text-lg tracking-wide">${k.nghiaHV}</div>
                                <div class="text-gray-600 text-sm font-medium">${k.nghiaTV}</div>
                            </div>
                        </div>
                        <button onclick="showStrokeOrder('${k.char}')" class="text-sky-500 hover:text-sky-700 bg-white rounded-full p-2 w-8 h-8 flex items-center justify-center shadow-sm border border-sky-100"><i class="fas fa-pen-nib text-xs"></i></button>
                    </div>
                    
                    <div class="p-4 space-y-3 z-10 relative flex-grow flex flex-col">
                        <div class="grid grid-cols-2 gap-3 text-sm">
                            <div class="bg-gray-50 rounded p-2 border border-gray-100 text-center relative group/on">
                                <span class="text-[10px] uppercase font-bold text-gray-400">On</span><br>
                                <span class="font-bold text-sky-800">${k.on}</span>
                                <button onclick="speak('${k.on}')" class="absolute -top-1 -right-1 bg-white shadow-sm w-5 h-5 rounded-full text-sky-500 text-[10px] hover:bg-sky-50"><i class="fas fa-volume-up"></i></button>
                            </div>
                            <div class="bg-gray-50 rounded p-2 border border-gray-100 text-center relative group/kun">
                                <span class="text-[10px] uppercase font-bold text-gray-400">Kun</span><br>
                                <span class="font-bold text-sky-800">${k.kun}</span>
                                <button onclick="speak('${k.kun}')" class="absolute -top-1 -right-1 bg-white shadow-sm w-5 h-5 rounded-full text-sky-500 text-[10px] hover:bg-sky-50"><i class="fas fa-volume-up"></i></button>
                            </div>
                        </div>
                        
                        <div class="space-y-2">
                            <div class="bg-orange-50 p-2 rounded text-xs text-orange-900 border border-orange-100">
                                <span class="font-bold text-orange-600 mr-1">üñºÔ∏è H√¨nh:</span> ${k.ti.replace(/\*\*(.*?)\*\*/g, '<span class="font-bold text-red-600">$1</span>')}
                            </div>
                            <div class="bg-blue-50 p-2 rounded text-xs text-blue-900 border border-blue-100">
                                <span class="font-bold text-blue-600 mr-1">üîä √Çm:</span> ${k.ta.replace(/\*\*(.*?)\*\*/g, '<span class="font-bold text-blue-700">$1</span>')}
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // --- SEARCH LOGIC ---
        document.getElementById('search-input').addEventListener('input', (e) => {
            const val = e.target.value.toLowerCase();
            const filtered = kanjiData.filter(k => 
                k.char.includes(val) || 
                k.nghiaHV.toLowerCase().includes(val) || 
                k.nghiaTV.toLowerCase().includes(val) ||
                k.on.toLowerCase().includes(val) ||
                k.kun.toLowerCase().includes(val)
            );
            renderLearn(filtered);
        });

        // --- STROKE ORDER MODAL ---
        async function fetchKanjiSvg(hex) {
            try {
                const response = await fetch(`https://cdn.jsdelivr.net/gh/KanjiVG/kanjivg/kanji/${hex}.svg`);
                if (!response.ok) throw new Error('Not found');
                return await response.text();
            } catch (e) { return null; }
        }

        async function showStrokeOrder(kanji) {
            const hex = kanji.charCodeAt(0).toString(16).padStart(5, '0');
            document.getElementById('stroke-modal').classList.remove('hidden');
            document.getElementById('stroke-modal-char').innerText = kanji;
            const animContainer = document.getElementById('stroke-animation-container');
            const gridContainer = document.getElementById('stroke-grid-container');
            animContainer.innerHTML = '<span class="text-xs text-gray-400">Agkarga...</span>';
            const svgContent = await fetchKanjiSvg(hex);
            if (!svgContent) { animContainer.innerHTML = "L·ªói"; return; }
            animContainer.innerHTML = svgContent;
            const mainSvg = animContainer.querySelector('svg');
            const paths = mainSvg.querySelectorAll('path');
            paths.forEach(p => { 
                const len = p.getTotalLength(); 
                p.style.strokeDasharray = len; 
                p.style.strokeDashoffset = len; 
                p.style.stroke = "#333"; p.style.strokeWidth = "4"; p.style.fill = "none";
            });
            currentStrokeSvg = mainSvg; 
            replayStrokeAnimation();
            gridContainer.innerHTML = '';
            for(let i=0; i<paths.length; i++) {
                const box = document.createElement('div');
                box.className = "w-12 h-12 md:w-16 md:h-16 bg-white border border-gray-200 relative stroke-grid-box flex items-center justify-center";
                const parser = new DOMParser();
                const svgClone = parser.parseFromString(svgContent, "image/svg+xml").querySelector('svg');
                svgClone.setAttribute('width', '100%'); svgClone.setAttribute('height', '100%');
                svgClone.querySelectorAll('path').forEach((p, idx) => {
                    p.style.fill="none";
                    if(idx < i) { p.style.stroke="#9ca3af"; p.style.strokeWidth="2"; }
                    else if(idx === i) { p.style.stroke="#000"; p.style.strokeWidth="4"; }
                    else p.style.display="none";
                });
                box.appendChild(svgClone); gridContainer.appendChild(box);
            }
        }

        function replayStrokeAnimation() {
            if(!currentStrokeSvg) return;
            const paths = currentStrokeSvg.querySelectorAll('path');
            paths.forEach(p => { p.style.transition = 'none'; p.style.strokeDashoffset = p.getTotalLength(); });
            void currentStrokeSvg.offsetWidth;
            let delay = 0;
            paths.forEach(p => { p.style.transition = `stroke-dashoffset 0.6s ease-in-out ${delay}s`; p.style.strokeDashoffset = '0'; delay += 0.6; });
        }
        function closeStrokeModal() { document.getElementById('stroke-modal').classList.add('hidden'); }

        // --- QUIZ LOGIC ---
        function startQuiz() { quizScore = 0; currentQuizIndex = 0; document.getElementById('score-display').innerText = '0'; loadQuestion(); }
        function loadQuestion() {
            const q = kanjiData[Math.floor(Math.random() * kanjiData.length)];
            currentQuizQ = q;
            document.getElementById('q-current').innerText = currentQuizIndex + 1;
            document.getElementById('quiz-kanji-display').innerText = q.char;
            const others = kanjiData.filter(x => x !== q).sort(() => 0.5 - Math.random()).slice(0, 3);
            const opts = [q, ...others].sort(() => 0.5 - Math.random());
            document.getElementById('options-area').innerHTML = opts.map(o => `<button onclick="checkAnswer('${o.char}')" class="bg-white border-2 border-gray-200 py-4 rounded-xl text-lg font-bold hover:border-sky-400 hover:bg-sky-50 transition shadow-sm">${o.nghiaHV} (${o.nghiaTV})</button>`).join('');
            document.getElementById('feedback-area').classList.add('hidden');
            document.getElementById('quiz-progress').style.width = `${(currentQuizIndex / 10) * 100}%`;
        }
        function checkAnswer(sel) {
            const btns = document.querySelectorAll('#options-area button'); btns.forEach(b => b.disabled = true);
            const ok = sel === currentQuizQ.char; const fb = document.getElementById('feedback-area');
            fb.classList.remove('hidden');
            if (ok) {
                quizScore += 10; document.getElementById('score-display').innerText = quizScore;
                document.getElementById('feedback-title').innerHTML = '<i class="fas fa-check-circle text-emerald-500 mr-2"></i> Ch√≠nh x√°c!';
                fb.className = "bg-emerald-50 rounded-xl p-4 border border-emerald-200 text-left animate-fade-in";
                speak(currentQuizQ.char);
            } else {
                document.getElementById('feedback-title').innerHTML = '<i class="fas fa-times-circle text-red-500 mr-2"></i> Sai r·ªìi!';
                fb.className = "bg-red-50 rounded-xl p-4 border border-red-200 text-left animate-fade-in wrong-anim";
            }
            document.getElementById('feedback-detail').innerHTML = `B·ªô: <span class="kanji-font font-bold">${currentQuizQ.char}</span> | ${currentQuizQ.nghiaHV} (${currentQuizQ.nghiaTV})`;
        }
        function nextQuestion() {
            currentQuizIndex++;
            if (currentQuizIndex >= 10) { alert(`Ho√†n th√†nh! ƒêi·ªÉm c·ªßa b·∫°n: ${quizScore}`); startQuiz(); }
            else loadQuestion();
        }

        // Kh·ªüi t·∫°o trang
        window.onload = () => { renderLearn(); };
    </script>
</body>
</html>
