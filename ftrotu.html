<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcard Tr·ª£ T·ª´ Tinh T·∫•n</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-yellow: #FFD93D;
            --primary-red: #FF6B6B;
            --bg-gradient: linear-gradient(135deg, #FFF9E3 0%, #FFFFFF 100%);
            --card-shadow: 0 20px 40px rgba(0,0,0,0.08);
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .glow-aura {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(255, 217, 61, 0.1) 0%, rgba(255, 255, 255, 0) 70%);
            z-index: -1;
            animation: pulse 8s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.5; }
        }

        .perspective-container {
            perspective: 2000px;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            transform-style: preserve-3d;
            cursor: pointer;
        }

        .is-flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 2.5rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1.5rem;
            box-shadow: var(--card-shadow);
            border: 4px solid white;
        }

        .card-front {
            background: white;
            border: 6px solid var(--primary-yellow);
        }

        .card-back {
            background: var(--primary-yellow);
            transform: rotateY(180deg);
        }

        .particle-main {
            font-size: 3.5rem;
            font-weight: 700;
            color: var(--primary-red);
            line-height: 1.2;
            margin-bottom: 0.2rem;
        }

        .level-tag {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: #FF6B6B;
            color: white;
            padding: 0.3rem 1rem;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: bold;
        }

        .meaning-box {
            background: #FFF5CC;
            padding: 0.6rem 1.5rem;
            border-radius: 999px;
            color: #856404;
            font-weight: 600;
            font-size: 1rem;
            max-width: 90%;
        }

        .example-item {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 1.5rem;
            padding: 0.8rem 1rem;
            width: 100%;
            transition: all 0.3s ease;
            text-align: left;
            position: relative;
            margin-bottom: 0.8rem;
        }

        .speaker-btn {
            position: absolute;
            right: 0.8rem;
            top: 50%;
            transform: translateY(-50%);
            background: #FF6B6B;
            color: white;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 50;
            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3);
            border: none;
            transition: transform 0.2s;
        }

        .speaker-btn:active {
            transform: translateY(-50%) scale(0.9);
        }

        .progress-dot {
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background: #CBD5E1;
        }

        .progress-dot.active {
            width: 15px;
            background: var(--primary-red);
            border-radius: 4px;
        }

        .floating {
            animation: floating 4s ease-in-out infinite;
        }

        @keyframes floating {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .scroll-box {
            overflow-y: auto;
            max-height: 100%;
            width: 100%;
            padding: 0.5rem;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center p-4 min-h-screen">
    <div class="glow-aura"></div>

    <!-- Header -->
    <header class="text-center mb-6">
        <h1 class="text-3xl font-bold text-orange-600 mb-1 tracking-tight">Flashcard Tr·ª£ T·ª´ üéµ</h1>
        <p class="text-gray-500 text-sm font-medium">H·ªçc thu·ªôc l√≤ng c√°c v√≠ d·ª• nh√©!</p>
    </header>

    <!-- Main App -->
    <main class="w-full max-w-sm flex flex-col items-center">
        
        <div id="dots-container" class="flex flex-wrap justify-center gap-1 mb-6 w-full px-2"></div>

        <div id="card-container" class="perspective-container w-full aspect-[4/5] mb-8">
            <div class="card-inner" id="card-inner">
                <!-- Front -->
                <div class="card-face card-front" onclick="toggleFlip()">
                    <div class="level-tag" id="ui-level">N5</div>
                    <div class="particle-main floating" id="ui-particle">„ÅØ</div>
                    <div id="ui-reading" class="text-xl font-bold text-orange-500 mb-4 bg-orange-50 px-4 py-1 rounded-full">„Çè</div>
                    <div class="meaning-box mb-4 text-center" id="ui-meaning">Ch·ªß ƒë·ªÅ c√¢u</div>
                    <p class="text-gray-400 text-[10px] font-medium bg-gray-50 px-3 py-1.5 rounded-full">Ch·∫°m nh·∫π ƒë·ªÉ l·∫≠t th·∫ª ‚ú®</p>
                </div>
                <!-- Back -->
                <div class="card-face card-back">
                    <div class="scroll-box flex flex-col justify-center">
                        <div class="example-item shadow-sm">
                            <div class="pr-12">
                                <p class="text-lg font-bold text-gray-800 leading-tight" id="ui-ex1-jp"></p>
                                <p class="text-xs text-orange-600 font-bold mt-1" id="ui-ex1-hira"></p>
                                <p class="text-sm text-gray-600 border-t pt-1 mt-1" id="ui-ex1-vn"></p>
                            </div>
                            <button class="speaker-btn" onclick="speakText(1, event)">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
                                </svg>
                            </button>
                        </div>
                        <div class="example-item shadow-sm">
                            <div class="pr-12">
                                <p class="text-lg font-bold text-gray-800 leading-tight" id="ui-ex2-jp"></p>
                                <p class="text-xs text-orange-600 font-bold mt-1" id="ui-ex2-hira"></p>
                                <p class="text-sm text-gray-600 border-t pt-1 mt-1" id="ui-ex2-vn"></p>
                            </div>
                            <button class="speaker-btn" onclick="speakText(2, event)">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="mt-2 text-gray-700 font-bold text-[10px] cursor-pointer" onclick="toggleFlip()">
                        ‚Ü∫ L·∫≠t l·∫°i m·∫∑t tr∆∞·ªõc
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="flex items-center space-x-6">
            <button onclick="changeCard(-1)" class="w-12 h-12 bg-white rounded-xl shadow-lg flex items-center justify-center text-xl hover:bg-gray-50 transition-all active:scale-90">
                ‚Üê
            </button>
            <div class="bg-white/80 px-4 py-2 rounded-full shadow-inner border border-gray-100">
                <span class="text-lg font-bold text-gray-700" id="ui-counter">1 / 40</span>
            </div>
            <button onclick="changeCard(1)" class="w-12 h-12 bg-white rounded-xl shadow-lg flex items-center justify-center text-xl hover:bg-gray-50 transition-all active:scale-90">
                ‚Üí
            </button>
        </div>
    </main>

    <footer class="mt-8 text-center max-w-xs px-4">
        <p class="text-gray-400 italic text-[10px] leading-relaxed">"S·ª± t·∫≠p trung l√† kh·ªüi ngu·ªìn c·ªßa tr√≠ tu·ªá. Aza!"</p>
    </footer>

    <script>
        const flashcards = [
            // --- C·∫§P ƒê·ªò N5 ---
            { level: "N5", particle: "„ÅØ", reading: "„Çè", meaning: "Th√¨, l√†... (Ch·ªß ƒë·ªÅ)", ex1_jp: "ÁßÅ„ÅØÂ≠¶Áîü„Åß„Åô„ÄÇ", ex1_hira: "„Çè„Åü„Åó„ÅØ „Åå„Åè„Åõ„ÅÑ„Åß„Åô", ex1_vn: "T√¥i l√† sinh vi√™n.", ex2_jp: "‰ø∫, Â≠¶Áîü„Å†„Çà„ÄÇ", ex2_hira: "„Åä„Çå, „Åå„Åè„Åõ„ÅÑ„Å†„Çà", ex2_vn: "T·ªõ l√† sinh vi√™n ƒë·∫•y." },
            { level: "N5", particle: "„Åå", reading: "„Åå", meaning: "Ch·ªß ng·ªØ / T·ªìn t·∫°i", ex1_jp: "ÊïôÂÆ§„Å´Â≠¶Áîü„Åå„ÅÑ„Åæ„Åô„ÄÇ", ex1_hira: "„Åç„Çá„ÅÜ„Åó„Å§„Å´ „Åå„Åè„Åõ„ÅÑ„Åå „ÅÑ„Åæ„Åô", ex1_vn: "C√≥ sinh vi√™n trong l·ªõp h·ªçc.", ex2_jp: "ÊïôÂÆ§„Å´Â≠¶Áîü„Åå„ÅÑ„Çã„ÄÇ", ex2_hira: "„Åç„Çá„ÅÜ„Åó„Å§„Å´ „Åå„Åè„Åõ„ÅÑ„Åå „ÅÑ„Çã", ex2_vn: "C√≥ sinh vi√™n trong l·ªõp k√¨a." },
            { level: "N5", particle: "„Çí", reading: "„Åä", meaning: "T√°c ƒë·ªông h√†nh ƒë·ªông", ex1_jp: "„Ç≥„Éº„Éí„Éº„ÇíÈ£≤„Åø„Åæ„Åô„ÄÇ", ex1_hira: "„Åì„Éº„Å≤„Éº„Çí „ÅÆ„Åø„Åæ„Åô", ex1_vn: "T√¥i u·ªëng c√† ph√™.", ex2_jp: "„Ç≥„Éº„Éí„ÉºÈ£≤„ÇÄ„ÄÇ", ex2_hira: "„Åì„Éº„Å≤„Éº „ÅÆ„ÇÄ", ex2_vn: "U·ªëng c√† ph√™ kh√¥ng?" },
            { level: "N5", particle: "„Å´", reading: "„Å´", meaning: "Th·ªùi gian / ƒê·ªãa ƒëi·ªÉm", ex1_jp: "7ÊôÇ„Å´Ëµ∑„Åç„Åæ„Åô„ÄÇ", ex1_hira: "„Åó„Å°„Åò„Å´ „Åä„Åç„Åæ„Åô", ex1_vn: "T√¥i th·ª©c d·∫≠y l√∫c 7 gi·ªù.", ex2_jp: "7ÊôÇ„Å´Ëµ∑„Åç„Çã„ÄÇ", ex2_hira: "„Åó„Å°„Åò„Å´ „Åä„Åç„Çã", ex2_vn: "7 gi·ªù d·∫≠y nh√©." },
            { level: "N5", particle: "„Åß", reading: "„Åß", meaning: "N∆°i ch·ªën / Ph∆∞∆°ng ti·ªán", ex1_jp: "ÈõªËªä„ÅßË°å„Åç„Åæ„Åô„ÄÇ", ex1_hira: "„Åß„Çì„Åó„ÇÉ„Åß „ÅÑ„Åç„Åæ„Åô", ex1_vn: "T√¥i ƒëi b·∫±ng t√†u ƒëi·ªán.", ex2_jp: "ÈõªËªä„ÅßË°å„Åè„ÄÇ", ex2_hira: "„Åß„Çì„Åó„ÇÉ„Åß „ÅÑ„Åè", ex2_vn: "ƒêi t√†u ƒëi·ªán nh√©." },
            { level: "N5", particle: "„Å∏", reading: "„Åà", meaning: "H∆∞·ªõng di chuy·ªÉn", ex1_jp: "Êó•Êú¨„Å∏Ë°å„Åç„Åæ„Åô„ÄÇ", ex1_hira: "„Å´„Åª„Çì„Å∏ „ÅÑ„Åç„Åæ„Åô", ex1_vn: "T√¥i ƒëi Nh·∫≠t B·∫£n.", ex2_jp: "Êó•Êú¨Ë°å„Åè„ÄÇ", ex2_hira: "„Å´„Åª„Çì „ÅÑ„Åè", ex2_vn: "ƒêi Nh·∫≠t ƒë√¢y." },
            { level: "N5", particle: "„Å®", reading: "„Å®", meaning: "V√† / C√πng v·ªõi", ex1_jp: "ÂèãÈÅî„Å®ÈÅä„Å≥„Åæ„Åô„ÄÇ", ex1_hira: "„Å®„ÇÇ„Å†„Å°„Å® „ÅÇ„Åù„Å≥„Åæ„Åô", ex1_vn: "T√¥i ch∆°i v·ªõi b·∫°n b√®.", ex2_jp: "ÂèãÈÅî„Å®ÈÅä„Å∂„ÄÇ", ex2_hira: "„Å®„ÇÇ„Å†„Å°„Å® „ÅÇ„Åù„Å∂", ex2_vn: "Ch∆°i v·ªõi b·∫°n." },
            { level: "N5", particle: "„ÇÇ", reading: "„ÇÇ", meaning: "C≈©ng...", ex1_jp: "ÁßÅ„ÇÇÂ≠¶Áîü„Åß„Åô„ÄÇ", ex1_hira: "„Çè„Åü„Åó„ÇÇ „Åå„Åè„Åõ„ÅÑ„Åß„Åô", ex1_vn: "T√¥i c≈©ng l√† sinh vi√™n.", ex2_jp: "‰ø∫„ÇÇÂ≠¶Áîü„Å†„Çà„ÄÇ", ex2_hira: "„Åä„Çå„ÇÇ „Åå„Åè„Åõ„ÅÑ„Å†„Çà", ex2_vn: "T·ªõ c≈©ng l√† sinh vi√™n ƒë√¢y." },
            { level: "N5", particle: "„ÅÆ", reading: "„ÅÆ", meaning: "C·ªßa... (S·ªü h·ªØu)", ex1_jp: "„Åì„Çå„ÅØÁßÅ„ÅÆÊú¨„Åß„Åô„ÄÇ", ex1_hira: "„Åì„Çå„ÅØ „Çè„Åü„Åó„ÅÆ „Åª„Çì „Åß„Åô", ex1_vn: "ƒê√¢y l√† quy·ªÉn s√°ch c·ªßa t√¥i.", ex2_jp: "„Åì„Çå, ‰ø∫„ÅÆÊú¨„ÄÇ", ex2_hira: "„Åì„Çå, „Åä„Çå„ÅÆ „Åª„Çì", ex2_vn: "ƒê√¢y l√† s√°ch c·ªßa t·ªõ." },
            { level: "N5", particle: "„Åã„Çâ", reading: "„Åã„Çâ", meaning: "T·ª´ (M·ªëc/Ngu·ªìn)", ex1_jp: "9ÊôÇ„Åã„ÇâÂÉç„Åç„Åæ„Åô„ÄÇ", ex1_hira: "„Åè„Åò„Åã„Çâ „ÅØ„Åü„Çâ„Åç„Åæ„Åô", ex1_vn: "T√¥i l√†m vi·ªác t·ª´ 9 gi·ªù.", ex2_jp: "9ÊôÇ„Åã„Çâ„Å†„Çà„ÄÇ", ex2_hira: "„Åè„Åò„Åã„Çâ „Å†„Çà", ex2_vn: "T·ª´ 9 gi·ªù ƒë·∫•y." },
            { level: "N5", particle: "„Åæ„Åß", reading: "„Åæ„Åß", meaning: "ƒê·∫øn (Gi·ªõi h·∫°n)", ex1_jp: "5ÊôÇ„Åæ„ÅßÂãâÂº∑„Åó„Åæ„Åô„ÄÇ", ex1_hira: "„Åî„Åò„Åæ„Åß „Åπ„Çì„Åç„Çá„ÅÜ „Åó„Åæ„Åô", ex1_vn: "T√¥i h·ªçc ƒë·∫øn 5 gi·ªù.", ex2_jp: "5ÊôÇ„Åæ„Åß„ÇÑ„Çã„ÄÇ", ex2_hira: "„Åî„Åò„Åæ„Åß „ÇÑ„Çã", ex2_vn: "L√†m ƒë·∫øn 5 gi·ªù th√¥i." },
            { level: "N5", particle: "„Åã", reading: "„Åã", meaning: "Ho·∫∑c / C√¢u h·ªèi", ex1_jp: "„ÅäËå∂„ÇíÈ£≤„Åø„Åæ„Åô„Åã„ÄÇ", ex1_hira: "„Åä„Å°„ÇÉ„Çí „ÅÆ„Åø„Åæ„Åô„Åã", ex1_vn: "B·∫°n u·ªëng tr√† kh√¥ng?", ex2_jp: "È£≤„ÇÄ„ÅãÔºü", ex2_hira: "„ÅÆ„ÇÄ„Åã", ex2_vn: "U·ªëng kh√¥ng?" },
            { level: "N5", particle: "„Å≠", reading: "„Å≠", meaning: "Nh·ªâ / Nh√©", ex1_jp: "„ÅÑ„ÅÑÂ§©Ê∞ó„Åß„Åô„Å≠„ÄÇ", ex1_hira: "„ÅÑ„ÅÑ „Å¶„Çì„Åç „Åß„Åô„Å≠", ex1_vn: "Th·ªùi ti·∫øt ƒë·∫πp nh·ªâ.", ex2_jp: "Êöë„ÅÑ„Å≠„ÄÇ", ex2_hira: "„ÅÇ„Å§„ÅÑ„Å≠", ex2_vn: "N√≥ng nh·ªâ." },
            { level: "N5", particle: "„Çà", reading: "„Çà", meaning: "ƒê·∫•y / Nh√©", ex1_jp: "„Åì„Çå„ÄÅ„Åä„ÅÑ„Åó„ÅÑ„Åß„Åô„Çà„ÄÇ", ex1_hira: "„Åì„Çå „Åä„ÅÑ„Åó„ÅÑ„Åß„Åô„Çà", ex1_vn: "C√°i n√†y ngon l·∫Øm ƒë·∫•y.", ex2_jp: "Ë°å„Åè„ÇàÔºÅ", ex2_hira: "„ÅÑ„Åè„Çà", ex2_vn: "ƒêi ƒë√¢y nh√©!" },

            // --- C·∫§P ƒê·ªò N4 ---
            { level: "N4", particle: "„Çà„Çä", reading: "„Çà„Çä", meaning: "So s√°nh h∆°n", ex1_jp: "„Åì„Çå„Çà„Çä„ÅÇ„Çå„ÅåÂÆâ„ÅÑ„Åß„Åô„ÄÇ", ex1_hira: "„Åì„Çå„Çà„Çä „ÅÇ„Çå„Åå „ÇÑ„Åô„ÅÑ„Åß„Åô", ex1_vn: "C√°i kia r·∫ª h∆°n c√°i n√†y.", ex2_jp: "„Åì„Å£„Å°„ÅÆÊñπ„ÅåÂ•Ω„Åç„ÄÇ", ex2_hira: "„Åì„Å£„Å°„ÅÆ„Åª„ÅÜ„Åå „Åô„Åç", ex2_vn: "T·ªõ th√≠ch b√™n n√†y h∆°n." },
            { level: "N4", particle: "„Åª„Å©", reading: "„Åª„Å©", meaning: "ƒê·∫øn m·ª©c / Kh√¥ng b·∫±ng", ex1_jp: "Êò®Êó•„Åª„Å©Êöë„Åè„Å™„ÅÑ„Åß„Åô„ÄÇ", ex1_hira: "„Åç„ÅÆ„ÅÜ„Åª„Å© „ÅÇ„Å§„Åè„Å™„ÅÑ „Åß„Åô", ex1_vn: "Kh√¥ng n√≥ng b·∫±ng h√¥m qua.", ex2_jp: "Ê≠ª„Å¨„Åª„Å©Áñ≤„Çå„Åü„ÄÇ", ex2_hira: "„Åó„Å¨„Åª„Å© „Å§„Åã„Çå„Åü", ex2_vn: "M·ªát mu·ªën ch·∫øt." },
            { level: "N4", particle: "„Åè„Çâ„ÅÑ/„Åê„Çâ„ÅÑ", reading: "„Åè„Çâ„ÅÑ/„Åê„Çâ„ÅÑ", meaning: "Kho·∫£ng / ƒê·∫øn m·ª©c", ex1_jp: "30ÂàÜ„Åê„Çâ„ÅÑ‰ºë„Åø„Åæ„Åô„ÄÇ", ex1_hira: "„Åï„Çì„Åò„ÇÖ„Å£„Å∑„Çì „Åê„Çâ„ÅÑ „ÇÑ„Åô„Åø„Åæ„Åô", ex1_vn: "Ngh·ªâ kho·∫£ng 30 ph√∫t.", ex2_jp: "„Åì„Çå„Åè„Çâ„ÅÑ„ÄÅ„ÅÑ„ÅÑ„Çà„ÄÇ", ex2_hira: "„Åì„Çå„Åè„Çâ„ÅÑ „ÅÑ„ÅÑ„Çà", ex2_vn: "T·∫ßm n√†y l√† ƒë∆∞·ª£c r·ªìi." },
            { level: "N4", particle: "„Åó„Åã", reading: "„Åó„Åã", meaning: "Ch·ªâ (Ph·ªß ƒë·ªãnh)", ex1_jp: "1000ÂÜÜ„Åó„Åã„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ", ex1_hira: "„Åõ„Çì„Åà„Çì„Åó„Åã „ÅÇ„Çä„Åæ„Åõ„Çì", ex1_vn: "T√¥i ch·ªâ c√≥ 1000 y√™n.", ex2_jp: "‰∏Ä‰∫∫„Åó„Åã„ÅÑ„Å™„ÅÑ„ÄÇ", ex2_hira: "„Å≤„Å®„Çä„Åó„Åã „ÅÑ„Å™„ÅÑ", ex2_vn: "Ch·ªâ c√≥ m·ªói m·ªôt ng∆∞·ªùi." },
            { level: "N4", particle: "„Å†„Åë", reading: "„Å†„Åë", meaning: "Ch·ªâ (Kh·∫≥ng ƒë·ªãnh)", ex1_jp: "ÁßÅ„Å†„Åë„ÅåË°å„Åç„Åæ„Åô„ÄÇ", ex1_hira: "„Çè„Åü„Åó„Å†„Åë„Åå „ÅÑ„Åç„Åæ„Åô", ex1_vn: "Ch·ªâ t√¥i ƒëi th√¥i.", ex2_jp: "ÂØù„Çã„Å†„Åë„Å†„ÄÇ", ex2_hira: "„Å≠„Çã„Å†„Åë„Å†", ex2_vn: "Ch·ªâ ng·ªß th√¥i." },
            { level: "N4", particle: "„Åæ„Åß„Å´", reading: "„Åæ„Åß„Å´", meaning: "Tr∆∞·ªõc khi", ex1_jp: "5ÊôÇ„Åæ„Åß„Å´Â∏∞„Çä„Åæ„Åô„ÄÇ", ex1_hira: "„Åî„Åò„Åæ„Åß„Å´ „Åã„Åà„Çä„Åæ„Åô", ex1_vn: "V·ªÅ tr∆∞·ªõc 5 gi·ªù.", ex2_jp: "ÊòéÊó•„Åæ„Åß„Å´„ÇÑ„Å£„Å¶„ÄÇ", ex2_hira: "„ÅÇ„Åó„Åü„Åæ„Åß„Å´ „ÇÑ„Å£„Å¶", ex2_vn: "L√†m xong tr∆∞·ªõc mai nh√©." },
            { level: "N4", particle: "„Å∞„Åã„Çä", reading: "„Å∞„Åã„Çä", meaning: "To√†n l√† / V·ª´a m·ªõi", ex1_jp: "ËÇâ„Å∞„Åã„ÇäÈ£ü„Åπ„Åæ„Åô„ÄÇ", ex1_hira: "„Å´„Åè„Å∞„Åã„Çä „Åü„Åπ„Åæ„Åô", ex1_vn: "To√†n ƒÉn th·ªãt th√¥i.", ex2_jp: "Ëµ∑„Åç„Åü„Å∞„Åã„Çä„Å†„ÄÇ", ex2_hira: "„Åä„Åç„Åü„Å∞„Åã„Çä„Å†", ex2_vn: "V·ª´a m·ªõi d·∫≠y xong." },

            // --- TR·ª¢ T·ª™ GH√âP & N3 ---
            { level: "N4-N3", particle: "„Å´„ÅØ", reading: "„Å´„Çè", meaning: "ƒê·ªëi v·ªõi... th√¨...", ex1_jp: "ÁßÅ„Å´„ÅØÈõ£„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_hira: "„Çè„Åü„Åó„Å´„ÅØ „ÇÄ„Åö„Åã„Åó„ÅÑ„Åß„Åô", ex1_vn: "ƒê·ªëi v·ªõi t√¥i th√¨ kh√≥.", ex2_jp: "‰ø∫„Å´„ÅØÁÑ°ÁêÜ„ÄÇ", ex2_hira: "„Åä„Çå„Å´„ÅØ „ÇÄ„Çä", ex2_vn: "V·ªõi t·ªõ th√¨ ch·ªãu." },
            { level: "N4-N3", particle: "„Å®„ÅØ", reading: "„Å®„Çè", meaning: "C√°i g·ªçi l√† / Nghƒ©a l√†...", ex1_jp: "Ëá™Áî±„Å®„ÅØ‰Ωï„Åß„Åô„Åã„ÄÇ", ex1_hira: "„Åò„ÇÜ„ÅÜ„Å®„ÅØ „Å™„Çì„Åß„Åô„Åã", ex1_vn: "T·ª± do c√≥ nghƒ©a l√† g√¨?", ex2_jp: "Ëá™Áî±„Å£„Å¶‰ΩïÔºü", ex2_hira: "„Åò„ÇÜ„ÅÜ„Å£„Å¶ „Å™„Å´", ex2_vn: "T·ª± do l√† g√¨ v·∫≠y?" },
            { level: "N4-N3", particle: "„Å∏„ÅÆ", reading: "„Åà„ÅÆ", meaning: "H∆∞·ªõng t·ªõi / ƒê·∫øn", ex1_jp: "Êó•Êú¨„Å∏„ÅÆÊóÖË°å„ÄÇ", ex1_hira: "„Å´„Åª„Çì„Å∏„ÅÆ „Çä„Çá„Åì„ÅÜ", ex1_vn: "Chuy·∫øn ƒëi ƒë·∫øn Nh·∫≠t B·∫£n.", ex2_jp: "Êó•Êú¨„Å∏„ÅÆÊóÖË°å, Ê•Ω„Åó„ÅøÔºÅ", ex2_hira: "„Å´„Åª„Çì„Å∏„ÅÆ „Çä„Çá„Åì„ÅÜ „Åü„ÅÆ„Åó„Åø", ex2_vn: "ƒêi Nh·∫≠t th√≠ch qu√°!" },
            { level: "N4-N3", particle: "„Å´„ÇÇ", reading: "„Å´„ÇÇ", meaning: "C≈©ng ·ªü / C≈©ng cho", ex1_jp: "Êù±‰∫¨„Å´„ÇÇÈõ™„ÅåÈôç„Çä„Åæ„Åó„Åü„ÄÇ", ex1_hira: "„Å®„ÅÜ„Åç„Çá„ÅÜ„Å´„ÇÇ „ÇÜ„Åç„Åå „Åµ„Çä„Åæ„Åó„Åü", ex1_vn: "·ªû Tokyo c≈©ng c√≥ tuy·∫øt.", ex2_jp: "Êù±‰∫¨„Å´„ÇÇÈõ™Èôç„Å£„Åü„Çà„ÄÇ", ex2_hira: "„Å®„ÅÜ„Åç„Çá„ÅÜ„Å´„ÇÇ „ÇÜ„Åç „Åµ„Å£„Åü„Çà", ex2_vn: "Tokyo c≈©ng c√≥ tuy·∫øt r·ªìi." },
            { level: "N4-N3", particle: "„Å®„ÇÇ", reading: "„Å®„ÇÇ", meaning: "C√πng v·ªõi c·∫£", ex1_jp: "ÂÆ∂Êóè„Å®„ÇÇÁõ∏Ë´á„Åó„Åæ„Åô„ÄÇ", ex1_hira: "„Åã„Åû„Åè„Å®„ÇÇ „Åù„ÅÜ„Å†„Çì „Åó„Åæ„Åô", ex1_vn: "Th·∫£o lu·∫≠n v·ªõi c·∫£ gia ƒë√¨nh.", ex2_jp: "ÂÆ∂Êóè„Å®„ÇÇË©±„Åô„ÄÇ", ex2_hira: "„Åã„Åû„Åè„Å®„ÇÇ „ÅØ„Å™„Åô", ex2_vn: "C≈©ng s·∫Ω n√≥i v·ªõi c·∫£ nh√†." },
            
            { level: "N3", particle: "„Å´„Åä„ÅÑ„Å¶", reading: "„Å´„Åä„ÅÑ„Å¶", meaning: "T·∫°i / ·ªû (Trang tr·ªçng)", ex1_jp: "‰ºöË≠∞„ÅØ„Éõ„Éº„É´„Å´„Åä„ÅÑ„Å¶Ë°å„Çè„Çå„Åæ„Åô„ÄÇ", ex1_hira: "„Åã„ÅÑ„Åé„ÅØ „Åª„Éº„Çã„Å´ „Åä„ÅÑ„Å¶ „Åä„Åì„Å™„Çè„Çå„Åæ„Åô", ex1_vn: "H·ªôi ngh·ªã t·ªï ch·ª©c t·∫°i h·ªôi tr∆∞·ªùng.", ex2_jp: "Ê≠¥Âè≤„Å´„Åä„ÅÑ„Å¶ÈáçË¶Å„Å†„ÄÇ", ex2_hira: "„Çå„Åç„Åó„Å´„Åä„ÅÑ„Å¶ „Åò„ÇÖ„ÅÜ„Çà„ÅÜ„Å†", ex2_vn: "Quan tr·ªçng trong l·ªãch s·ª≠." },
            { level: "N3", particle: "„Å®„Åó„Å¶", reading: "„Å®„Åó„Å¶", meaning: "V·ªõi t∆∞ c√°ch l√†...", ex1_jp: "ÁïôÂ≠¶Áîü„Å®„Åó„Å¶Êù•„Åæ„Åó„Åü„ÄÇ", ex1_hira: "„Çä„ÇÖ„ÅÜ„Åå„Åè„Åõ„ÅÑ„Å®„Åó„Å¶ „Åç„Åæ„Åó„Åü", ex1_vn: "ƒê·∫øn v·ªõi t∆∞ c√°ch du h·ªçc sinh.", ex2_jp: "Ë∂£Âë≥„Å®„Åó„Å¶„ÇÑ„Å£„Å¶„Çã„ÄÇ", ex2_hira: "„Åó„ÇÖ„Åø„Å®„Åó„Å¶ „ÇÑ„Å£„Å¶„Çã", ex2_vn: "L√†m v√¨ s·ªü th√≠ch th√¥i." },
            { level: "N3", particle: "„Å´„Çà„Å£„Å¶", reading: "„Å´„Çà„Å£„Å¶", meaning: "Do / B·ªüi / T√πy v√†o", ex1_jp: "Âè∞È¢®„Å´„Çà„Å£„Å¶Â£ä„Çå„Åæ„Åó„Åü„ÄÇ", ex1_hira: "„Åü„ÅÑ„Åµ„ÅÜ„Å´„Çà„Å£„Å¶ „Åì„Çè„Çå„Åæ„Åó„Åü", ex1_vn: "B·ªã h·ªèng do b√£o.", ex2_jp: "‰∫∫„Å´„Çà„Å£„Å¶ÈÅï„ÅÜ„ÄÇ", ex2_hira: "„Å≤„Å®„Å´„Çà„Å£„Å¶ „Å°„Åå„ÅÜ", ex2_vn: "T√πy ng∆∞·ªùi m√† kh√°c." },
            { level: "N3", particle: "„Å´ÂØæ„Åó„Å¶", reading: "„Å´„Åü„ÅÑ„Åó„Å¶", meaning: "ƒê·ªëi v·ªõi / Tr√°i v·ªõi", ex1_jp: "ÂÖàÁîü„Å´ÂØæ„Åó„Å¶Â§±Á§º„Åß„Åô„ÄÇ", ex1_hira: "„Åõ„Çì„Åõ„ÅÑ„Å´ „Åü„ÅÑ„Åó„Å¶ „Åó„Å§„Çå„ÅÑ „Åß„Åô", ex1_vn: "Th·∫•t l·ªÖ ƒë·ªëi v·ªõi gi√°o vi√™n.", ex2_jp: "ÂÆ¢„Å´ÂØæ„Åó„Å¶ÊÄí„Çã„Å™„ÄÇ", ex2_hira: "„Åç„ÇÉ„Åè„Å´ „Åü„ÅÑ„Åó„Å¶ „Åä„Åì„Çã„Å™", ex2_vn: "ƒê·ª´ng gi·∫≠n v·ªõi kh√°ch." },
            { level: "N3", particle: "„Å´„Å§„ÅÑ„Å¶", reading: "„Å´„Å§„ÅÑ„Å¶", meaning: "V·ªÅ vi·ªác... / Li√™n quan", ex1_jp: "Â∞ÜÊù•„Å´„Å§„ÅÑ„Å¶ËÄÉ„Åà„Åæ„Åô„ÄÇ", ex1_hira: "„Åó„Çá„ÅÜ„Çâ„ÅÑ„Å´ „Å§„ÅÑ„Å¶ „Åã„Çì g„Åà„Åæ„Åô", ex1_vn: "Suy nghƒ© v·ªÅ t∆∞∆°ng lai.", ex2_jp: "„Åì„Çå„Å´„Å§„ÅÑ„Å¶Ë©±„Åù„ÅÜ„ÄÇ", ex2_hira: "„Åì„Çå„Å´„Å§„ÅÑ„Å¶ „ÅØ„Å™„Åù„ÅÜ", ex2_vn: "N√≥i v·ªÅ chuy·ªán n√†y ƒëi." },
            { level: "N3", particle: "„Å´„Çè„Åü„Å£„Å¶", reading: "„Å´„Çè„Åü„Å£„Å¶", meaning: "Su·ªët / Kh·∫Øp (Ph·∫°m vi)", ex1_jp: "20Âπ¥„Å´„Çè„Åü„Å£„Å¶Á†îÁ©∂„Åó„Åæ„Åó„Åü„ÄÇ", ex1_hira: "„Å´„Åò„ÇÖ„ÅÜ„Å≠„Çì„Å´ „Çè„Åü„Å£„Å¶ „Åë„Çì„Åç„ÇÖ„ÅÜ „Åó„Åæ„Åó„Åü", ex1_vn: "Nghi√™n c·ª©u su·ªët 20 nƒÉm.", ex2_jp: "Â∫ÉÁØÑÂõ≤„Å´„Çè„Åü„Çã„ÄÇ", ex2_hira: "„Åì„ÅÜ„ÅØ„Çì„ÅÑ„Å´ „Çè„Åü„Çã", ex2_vn: "Tr·∫£i d√†i tr√™n ph·∫°m vi r·ªông." },
            { level: "N3", particle: "„Å´Ê≤ø„Å£„Å¶", reading: "„Å´„Åù„Å£„Å¶", meaning: "D·ªçc theo / Men theo", ex1_jp: "Â∑ù„Å´Ê≤ø„Å£„Å¶Ê≠©„Åç„Åæ„Åô„ÄÇ", ex1_hira: "„Åã„Çè„Å´ „Åù„Å£„Å¶ „ÅÇ„Çã„Åç„Åæ„Åô", ex1_vn: "ƒêi b·ªô d·ªçc theo con s√¥ng.", ex2_jp: "Ë®àÁîª„Å´Ê≤ø„Å£„Å¶„ÇÑ„Çã„ÄÇ", ex2_hira: "„Åë„ÅÑ„Åã„Åè„Å´ „Åù„Å£„Å¶ „ÇÑ„Çã", ex2_vn: "L√†m theo k·∫ø ho·∫°ch." },
            { level: "N3", particle: "„Å´Èöõ„Åó„Å¶", reading: "„Å´„Åï„ÅÑ„Åó„Å¶", meaning: "Nh√¢n d·ªãp / Khi l√†m g√¨", ex1_jp: "ÂèóÈ®ì„Å´Èöõ„Åó„Å¶Ê≥®ÊÑè„Åô„Çã„Åì„Å®„ÄÇ", ex1_hira: "„Åò„ÇÖ„Åë„Çì„Å´ „Åï„ÅÑ„Åó„Å¶ „Å°„ÇÖ„ÅÜ„ÅÑ „Åô„Çã„Åì„Å®", ex1_vn: "ƒêi·ªÅu c·∫ßn ch√∫ √Ω khi ƒëi thi.", ex2_jp: "Â∏∞ÂõΩ„Å´Èöõ„Åó„Å¶Êå®Êã∂„Åô„Çã„ÄÇ", ex2_hira: "„Åç„Åì„Åè„Å´ „Åï„ÅÑ„Åó„Å¶ „ÅÇ„ÅÑ„Åï„Å§ „Åô„Çã", ex2_vn: "Ch√†o h·ªèi khi v·ªÅ n∆∞·ªõc." },
            { level: "N3", particle: "„Çí„ÇÅ„Åê„Å£„Å¶", reading: "„Çí„ÇÅ„Åê„Å£„Å¶", meaning: "Xoay quanh (Tranh lu·∫≠n)", ex1_jp: "„Åù„ÅÆÂïèÈ°å„Çí„ÇÅ„Åê„Å£„Å¶‰∫â„ÅÑ„Åæ„Åô„ÄÇ", ex1_hira: "„Åù„ÅÆ„ÇÇ„Çì„Å†„ÅÑ„Çí „ÇÅ„Åê„Å£„Å¶ „ÅÇ„Çâ„Åù„ÅÑ„Åæ„Åô", ex1_vn: "Tranh c√£i xoay quanh v·∫•n ƒë·ªÅ ƒë√≥.", ex2_jp: "ÂôÇ„Çí„ÇÅ„Åê„Å£„Å¶Â§ßÈ®í„Åé„Å†„ÄÇ", ex2_hira: "„ÅÜ„Çè„Åï„Çí „ÇÅ„Åê„Å£„Å¶ „Åä„Åä„Åï„Çè„Åé„Å†", ex2_vn: "L√πm x√πm xoay quanh l·ªùi ƒë·ªìn." }
        ];

        let currentIndex = 0;
        let isFlipped = false;

        function initProgressDots() {
            const container = document.getElementById('dots-container');
            container.innerHTML = '';
            flashcards.forEach((_, idx) => {
                const dot = document.createElement('div');
                dot.className = `progress-dot ${idx === currentIndex ? 'active' : ''}`;
                container.appendChild(dot);
            });
        }

        function toggleFlip() {
            isFlipped = !isFlipped;
            const card = document.getElementById('card-container');
            if (isFlipped) card.classList.add('is-flipped');
            else card.classList.remove('is-flipped');
        }

        function updateUI() {
            const data = flashcards[currentIndex];
            const cardInner = document.getElementById('card-inner');
            cardInner.style.opacity = '0';
            
            setTimeout(() => {
                document.getElementById('ui-level').innerText = data.level;
                document.getElementById('ui-particle').innerText = data.particle;
                document.getElementById('ui-reading').innerText = data.reading;
                document.getElementById('ui-meaning').innerText = data.meaning;
                document.getElementById('ui-ex1-jp').innerText = data.ex1_jp;
                document.getElementById('ui-ex1-hira').innerText = data.ex1_hira;
                document.getElementById('ui-ex1-vn').innerText = data.ex1_vn;
                document.getElementById('ui-ex2-jp').innerText = data.ex2_jp;
                document.getElementById('ui-ex2-hira').innerText = data.ex2_hira;
                document.getElementById('ui-ex2-vn').innerText = data.ex2_vn;
                document.getElementById('ui-counter').innerText = `${currentIndex + 1} / ${flashcards.length}`;
                initProgressDots();
                cardInner.style.opacity = '1';
            }, 200);
        }

        function changeCard(dir) {
            isFlipped = false;
            document.getElementById('card-container').classList.remove('is-flipped');
            currentIndex += dir;
            if (currentIndex >= flashcards.length) currentIndex = 0;
            if (currentIndex < 0) currentIndex = flashcards.length - 1;
            updateUI();
        }

        function speakText(exampleNum, event) {
            event.stopPropagation();
            const data = flashcards[currentIndex];
            const text = exampleNum === 1 ? data.ex1_jp : data.ex2_jp;
            
            if (window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
            }

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ja-JP';
            utterance.rate = 0.8;
            utterance.pitch = 1.0;
            utterance.volume = 1.0;

            const voices = window.speechSynthesis.getVoices();
            const jaVoice = voices.find(v => v.lang === 'ja-JP' || v.lang.includes('ja'));
            if (jaVoice) {
                utterance.voice = jaVoice;
            }

            window.speechSynthesis.speak(utterance);
        }

        if ('speechSynthesis' in window) {
            window.speechSynthesis.onvoiceschanged = () => {
                window.speechSynthesis.getVoices();
            };
        }

        window.onload = () => {
            initProgressDots();
            updateUI();
        };
    </script>
</body>
</html>
