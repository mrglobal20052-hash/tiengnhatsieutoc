<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tài liệu học từ vựng Ngày 21</title>
    <meta name="description" content="Tài liệu học từ vựng tiếng Nhật Ngày 21, bao gồm ngữ pháp, từ vựng, câu ví dụ và luyện gõ.">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #374151;
            padding-bottom: 150px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        th, td {
            padding: 0.75rem;
            text-align: left;
            border: 1px solid #e5e7eb;
            vertical-align: top;
        }
        th {
            background-color: #f9fafb;
            font-weight: 600;
            color: #4b5563;
            font-size: 0.875rem;
            text-transform: uppercase;
        }
        tbody tr:nth-child(odd) {
            background-color: #f9fafb;
        }
        tbody tr:hover {
            background-color: #eef2ff;
        }
        .toggle-button {
            background-color: #4f46e5;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .toggle-button:hover {
            background-color: #4338ca;
        }
        .play-button {
            background-color: #10b981;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            cursor: pointer;
            transition: background-color 0.2s;
            font-size: 0.75rem;
            margin-left: 0.5rem;
        }
        .play-button:hover {
            background-color: #059669;
        }
        .hidden-col {
            display: none;
        }
        .grammar-example-text {
            display: inline-block;
            margin-right: 0.5rem;
        }
        .fixed-typing-practice {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #ffffff;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            padding: 1rem;
            z-index: 1000;
            border-top-left-radius: 0.5rem;
            border-top-right-radius: 0.5rem;
        }
    </style>
</head>
<body class="p-4">
    <div class="container bg-white shadow-lg rounded-lg p-6">
        <h1 class="text-3xl font-bold text-gray-800 mb-4 text-center">Tài liệu học từ vựng Ngày 21</h1>

        <div class="flex flex-wrap gap-4 mb-6">
            <button id="toggleRomanji" class="toggle-button">Bật/Tắt Romanji</button>
            <button id="toggleFurigana" class="toggle-button">Bật/Tắt Furigana</button>
        </div>

        <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-2">Các mẫu ngữ pháp được sử dụng trong Ngày 21:</h3>
            <ol class="list-decimal list-inside mb-4 text-gray-600">
                <li><strong>〜がします (ga shimasu)</strong>: Có (giọng, tiếng, mùi, vị)...<br>Công thức: こえ・おと・におい・あじ + がします<br><span class="grammar-example-text">Ví dụ: 変なにおいがします。(Hen na nioi ga shimasu. - Có mùi lạ.)</span><button class="play-button" onclick="speakText('変なにおいがします。')">Đọc</button></li>
                <li><strong>〜すぎます (sugimasu)</strong>: Quá...<br>Công thức: Vます/Aな/Aい + すぎます<br><span class="grammar-example-text">Ví dụ: 昨日お酒を飲みすぎました。(Kinou osake o nomisugimashita. - Hôm qua tôi đã uống quá nhiều rượu.)</span><button class="play-button" onclick="speakText('昨日お酒を飲みすぎました。')">Đọc</button></li>
                <li><strong>〜ので (node)</strong>: Vì/ do/ bởi...<br>Công thức: Thể thông thường + の で、〜 (*A(な) だ, N だ + な)<br><span class="grammar-example-text">Ví dụ: じゅうたいなので、遅れました。(Juutai nanode, okuremashita. - Do tắc đường nên tôi bị muộn.)</span><button class="play-button" onclick="speakText('じゅうたいなので、遅れました。')">Đọc</button></li>
                <li><strong>〜のは A/Câu (no wa A/kou)</strong>: Việc...<br>Công thức: Vる の は A/Câu です。<br><span class="grammar-example-text">Ví dụ: サッカーを見るのはとても面白いです。(Sakkaa o miru no wa totemo omoshiroi desu. - Việc xem đá bóng rất thú vị.)</span><button class="play-button" onclick="speakText('サッカーを見るのはとても面白いです。')">Đọc</button></li>
                <li><strong>〜そうです (sou desu)</strong>: Trông có vẻ... (dựa trên thị giác)<br>Công thức: Vます/Aな/Aい + そうです<br><span class="grammar-example-text">Ví dụ: 雨が降りそうです。(Ame ga furisou desu. - Trời có vẻ sắp mưa.)</span><button class="play-button" onclick="speakText('雨が降りそうです。')">Đọc</button></li>
                <li><strong>Thể て (te-kei)</strong>: Vì/ đã... (chỉ nguyên nhân, kết quả)<br>Công thức: Vて, Aい → Aくて, Aな → Aで, N で + Mệnh đề<br><span class="grammar-example-text">Ví dụ: ニュースをきいて、びっくりしました。(Nyuusu o kiite, bikkuri shimashita. - Vì nghe được bản tin tôi bị sốc.)</span><button class="play-button" onclick="speakText('ニュースをきいて、びっくりしました。')">Đọc</button></li>
                <li><strong>〜やすい・〜にくい (yasui / nikui)</strong>: Dễ... khó...<br>Công thức: Vます + やすい・にくい<br><span class="grammar-example-text">Ví dụ: この交差点では車の事故が起きやすいです。(Kono kousaten de wa kuruma no jiko ga okiyasui desu. - Ở ngã tư thì dễ xảy ra tai nạn ô tô.)</span><button class="play-button" onclick="speakText('この交差点では車の事故が起きやすいです。')">Đọc</button></li>
            </ol>
        </div>

        <div class="overflow-x-auto">
            <table id="vocabularyTable" class="min-w-full">
                <thead class="bg-gray-100">
                    <tr>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">STT</th>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">Kanji</th>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">Nghĩa tiếng Việt</th>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">Furigana</th>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">Romanji</th>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">Câu ví dụ</th>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">Romanji (câu ví dụ)</th>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">Nghĩa tiếng Việt (câu ví dụ)</th>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">Đọc</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                    <!-- Vocabulary rows will be injected here by JavaScript -->
                </tbody>
            </table>
        </div>

        <div class="mt-8 p-4 bg-blue-50 rounded-lg shadow-md fixed-typing-practice">
            <h3 class="text-xl font-bold text-blue-800 mb-4">Luyện gõ từ vựng</h3>
            <p class="text-gray-700 mb-2">Gõ từ vựng (Furigana) hoặc câu ví dụ tiếng Nhật từ bảng trên vào ô dưới đây và nhấn "Kiểm tra".</p>
            <input type="text" id="userInput" class="w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 mb-3 text-gray-800" placeholder="Gõ tiếng Nhật vào đây...">
            <button id="checkButton" class="toggle-button bg-green-600 hover:bg-green-700">Kiểm tra</button>
            <div id="feedback" class="mt-3 text-lg font-semibold"></div>
        </div>
    </div>

    <script>
        const day21VocabularyString = `[
            { "STT": 1, "Kanji": "整理する", "Nghĩa tiếng Việt": "Sắp xếp", "Furigana": "せいりする", "Romanji": "Seiri suru", "Câu ví dụ": "この部屋は整理しにくいです。", "Romanji (câu ví dụ)": "Kono heya wa seiri shinikui desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Căn phòng này khó sắp xếp." },
            { "STT": 2, "Kanji": "冊", "Nghĩa tiếng Việt": "Đơn vị đếm sách", "Furigana": "さつ", "Romanji": "Satsu", "Câu ví dụ": "この本は読みやすいです。", "Romanji (câu ví dụ)": "Kono hon wa yomiyasui desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Cuốn sách này dễ đọc." },
            { "STT": 3, "Kanji": "判子", "Nghĩa tiếng Việt": "Con dấu", "Furigana": "はんこ", "Romanji": "Hanko", "Câu ví dụ": "この判子は押しにくいです。", "Romanji (câu ví dụ)": "Kono hanko wa oshinikui desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Con dấu này khó đóng." },
            { "STT": 4, "Kanji": "押す", "Nghĩa tiếng Việt": "Đóng (dấu)", "Furigana": "おす", "Romanji": "Osu", "Câu ví dụ": "ボタンを押すと、音がします。", "Romanji (câu ví dụ)": "Botan o osu to, oto ga shimasu.", "Nghĩa tiếng Việt (câu ví dụ)": "Khi ấn nút, có tiếng động." },
            { "STT": 5, "Kanji": "双子", "Nghĩa tiếng Việt": "Cặp sinh đôi", "Furigana": "ふたご", "Romanji": "Futago", "Câu ví dụ": "双子の赤ちゃんはとても可愛いそうです。", "Romanji (câu ví dụ)": "Futago no akachan wa totemo kawaii sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói em bé sinh đôi rất dễ thương." },
            { "STT": 6, "Kanji": "姉妹", "Nghĩa tiếng Việt": "Chị em gái", "Furigana": "しまい", "Romanji": "Shimai", "Câu ví dụ": "彼女たちは姉妹なので、よく似ています。", "Romanji (câu ví dụ)": "Kanojotachi wa shimai nanode, yoku nite imasu.", "Nghĩa tiếng Việt (câu ví dụ)": "Vì họ là chị em gái nên rất giống nhau." },
            { "STT": 7, "Kanji": "似ている", "Nghĩa tiếng Việt": "Giống", "Furigana": "にている", "Romanji": "Niteiru", "Câu ví dụ": "彼女は母親に似ているそうです。", "Romanji (câu ví dụ)": "Kanojo wa hahaoya ni nite iru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói cô ấy giống mẹ." },
            { "STT": 8, "Kanji": "性格", "Nghĩa tiếng Việt": "Tính cách", "Furigana": "せいかく", "Romanji": "Seikaku", "Câu ví dụ": "彼の性格はとても優しいそうです。", "Romanji (câu ví dụ)": "Kare no seikaku wa totemo yasashii sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói tính cách của anh ấy rất hiền lành." },
            { "STT": 9, "Kanji": "大人しい", "Nghĩa tiếng Việt": "Hiền lành, trầm", "Furigana": "おとなしい", "Romanji": "Otonashii", "Câu ví dụ": "彼女は大人しいので、話しやすいです。", "Romanji (câu ví dụ)": "Kanojo wa otonashii nanode, hanashiyasui desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Vì cô ấy trầm tính nên dễ nói chuyện." },
            { "STT": 10, "Kanji": "世話をする", "Nghĩa tiếng Việt": "Giúp đỡ, chăm sóc", "Furigana": "せわをする", "Romanji": "Sewa o suru", "Câu ví dụ": "子供の世話をするのは大変です。", "Romanji (câu ví dụ)": "Kodomo no sewa o suru no wa taihen desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Việc chăm sóc con cái rất vất vả." },
            { "STT": 11, "Kanji": "時間が経つ", "Nghĩa tiếng Việt": "Thời gian trôi qua", "Furigana": "じかんがたつ", "Romanji": "Jikan ga tatsu", "Câu ví dụ": "時間が経つのは早いですね。", "Romanji (câu ví dụ)": "Jikan ga tatsu no wa hayai desu ne.", "Nghĩa tiếng Việt (câu ví dụ)": "Thời gian trôi qua nhanh thật nhỉ." },
            { "STT": 12, "Kanji": "大好き(な)", "Nghĩa tiếng Việt": "Rất thích", "Furigana": "だいすき(な)", "Romanji": "Daisuki (na)", "Câu ví dụ": "私はアニメが大好きなので、毎日見ています。", "Romanji (câu ví dụ)": "Watashi wa anime ga daisuki nanode, mainichi mite imasu.", "Nghĩa tiếng Việt (câu ví dụ)": "Vì tôi rất thích anime nên xem mỗi ngày." },
            { "STT": 13, "Kanji": "点", "Nghĩa tiếng Việt": "Điểm", "Furigana": "てん", "Romanji": "Ten", "Câu ví dụ": "試験の点数が悪くて、がっかりしました。", "Romanji (câu ví dụ)": "Shiken no tensuu ga warukute, gakkari shimashita.", "Nghĩa tiếng Việt (câu ví dụ)": "Vì điểm thi kém nên tôi đã thất vọng." },
            { "STT": 14, "Kanji": "喧嘩する", "Nghĩa tiếng Việt": "Cãi nhau", "Furigana": "けんかする", "Romanji": "Kenka suru", "Câu ví dụ": "友達と喧嘩したので、悲しいです。", "Romanji (câu ví dụ)": "Tomodachi to kenka shita node, kanashii desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Vì cãi nhau với bạn nên tôi buồn." },
            { "STT": 15, "Kanji": "不思議(な)", "Nghĩa tiếng Việt": "Bí ẩn, kì thú, kì lạ", "Furigana": "ふしぎ(な)", "Romanji": "Fushigi (na)", "Câu ví dụ": "この場所は不思議なところなので、人気があります。", "Romanji (câu ví dụ)": "Kono basho wa fushigi na tokoro nanode, ninki ga arimasu.", "Nghĩa tiếng Việt (câu ví dụ)": "Vì nơi này là một nơi kỳ lạ nên được yêu thích." },
            { "STT": 16, "Kanji": "(に)答える", "Nghĩa tiếng Việt": "Trả lời (câu hỏi)", "Furigana": "こたえる", "Romanji": "Kotaeru", "Câu ví dụ": "質問に答えるのは難しいです。", "Romanji (câu ví dụ)": "Shitsumon ni kotaeru no wa muzukashii desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Việc trả lời câu hỏi rất khó." },
            { "STT": 17, "Kanji": "(が)倒れる", "Nghĩa tiếng Việt": "Đổ (cây)", "Furigana": "たおれる", "Romanji": "Taoreru", "Câu ví dụ": "木が倒れそうです。", "Romanji (câu ví dụ)": "Ki ga taoresou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Cây có vẻ sắp đổ." },
            { "STT": 18, "Kanji": "(が)焼ける", "Nghĩa tiếng Việt": "Cháy, nướng", "Furigana": "やける", "Romanji": "Yakeru", "Câu ví dụ": "パンが焼けそうです。", "Romanji (câu ví dụ)": "Pan ga yakesou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Bánh mì có vẻ sắp cháy." },
            { "STT": 19, "Kanji": "通る", "Nghĩa tiếng Việt": "Đi qua", "Furigana": "とおる", "Romanji": "Tooru", "Câu ví dụ": "この道は車が通りやすいです。", "Romanji (câu ví dụ)": "Kono michi wa kuruma ga tooriyasui desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Con đường này ô tô dễ đi qua." },
            { "STT": 20, "Kanji": "死ぬ", "Nghĩa tiếng Việt": "Chết", "Furigana": "しぬ", "Romanji": "Shinu", "Câu ví dụ": "彼は病気で死んだそうです。", "Romanji (câu ví dụ)": "Kare wa byouki de shinda sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói anh ấy đã chết vì bệnh." },
            { "STT": 21, "Kanji": "", "Nghĩa tiếng Việt": "Ngạc nhiên", "Furigana": "びっくりする", "Romanji": "Bikkuri suru", "Câu ví dụ": "ニュースを聞いて、びっくりしました。", "Romanji (câu ví dụ)": "Nyuusu o kiite, bikkuri shimashita.", "Nghĩa tiếng Việt (câu ví dụ)": "Vì nghe tin tức nên tôi đã ngạc nhiên." },
            { "STT": 22, "Kanji": "", "Nghĩa tiếng Việt": "Thất vọng", "Furigana": "がっかりする", "Romanji": "Gakkari suru", "Câu ví dụ": "試験に失敗して、がっかりしました。", "Romanji (câu ví dụ)": "Shiken ni shippai shite, gakkari shimashita.", "Nghĩa tiếng Việt (câu ví dụ)": "Vì thi trượt nên tôi đã thất vọng." },
            { "STT": 23, "Kanji": "安心する", "Nghĩa tiếng Việt": "Yên tâm", "Furigana": "あんしんする", "Romanji": "Anshin suru", "Câu ví dụ": "連絡が来て、安心しました。", "Romanji (câu ví dụ)": "Renraku ga kite, anshin shimashita.", "Nghĩa tiếng Việt (câu ví dụ)": "Vì có liên lạc đến nên tôi đã yên tâm." },
            { "STT": 24, "Kanji": "遅刻する", "Nghĩa tiếng Việt": "Đến muộn", "Furigana": "ちこくする", "Romanji": "Chikoku suru", "Câu ví dụ": "交通渋滞なので、遅刻しそうです。", "Romanji (câu ví dụ)": "Koutsuu juutai nanode, chikoku shisou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Vì tắc đường nên có vẻ sẽ đến muộn." },
            { "STT": 25, "Kanji": "早退する", "Nghĩa tiếng Việt": "Về sớm", "Furigana": "そうたいする", "Romanji": "Soutai suru", "Câu ví dụ": "体調が悪いので、早退しそうです。", "Romanji (câu ví dụ)": "Taichou ga warui nanode, soutai shisou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Vì sức khỏe không tốt nên có vẻ sẽ về sớm." },
            { "STT": 26, "Kanji": "離婚する", "Nghĩa tiếng Việt": "Ly hôn", "Furigana": "りこんする", "Romanji": "Rikon suru", "Câu ví dụ": "彼女は離婚したそうです。", "Romanji (câu ví dụ)": "Kanojo wa rikon shita sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói cô ấy đã ly hôn." },
            { "STT": 27, "Kanji": "複雑(な)", "Nghĩa tiếng Việt": "Phức tạp", "Furigana": "ふくざつ(な)", "Romanji": "Fukuzatsu (na)", "Câu ví dụ": "この問題は複雑なので、解きにくいです。", "Romanji (câu ví dụ)": "Kono mondai wa fukuzatsu nanode, tokinikui desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Vấn đề này phức tạp nên khó giải quyết." },
            { "STT": 28, "Kanji": "邪魔(な)", "Nghĩa tiếng Việt": "Phiền hà, trở ngại", "Furigana": "じゃま(な)", "Romanji": "Jama (na)", "Câu ví dụ": "邪魔なものがあるので、どけてください。", "Romanji (câu ví dụ)": "Jama na mono ga aru node, dokete kudasai.", "Nghĩa tiếng Việt (câu ví dụ)": "Vì có vật cản nên xin hãy dẹp đi." },
            { "STT": 29, "Kanji": "汚い", "Nghĩa tiếng Việt": "Bẩn", "Furigana": "きたない", "Romanji": "Kitanai", "Câu ví dụ": "部屋が汚いので、掃除しにくいです。", "Romanji (câu ví dụ)": "Heya ga kitanai nanode, souji shinikui desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Vì phòng bẩn nên khó dọn dẹp." },
            { "STT": 30, "Kanji": "嬉しい", "Nghĩa tiếng Việt": "Vui sướng", "Furigana": "うれしい", "Romanji": "Ureshii", "Câu ví dụ": "嬉しいニュースを聞いて、嬉しかったです。", "Romanji (câu ví dụ)": "Ureshii nyuusu o kiite, ureshikatta desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe tin vui, tôi đã rất vui." },
            { "STT": 31, "Kanji": "悲しい", "Nghĩa tiếng Việt": "Đau buồn", "Furigana": "かなしい", "Romanji": "Kanashii", "Câu ví dụ": "悲しい映画を見て、泣きました。", "Romanji (câu ví dụ)": "Kanashii eiga o mite, nakimashita.", "Nghĩa tiếng Việt (câu ví dụ)": "Xem phim buồn, tôi đã khóc." },
            { "STT": 32, "Kanji": "恥ずかしい", "Nghĩa tiếng Việt": "Xấu hổ", "Furigana": "はずかしい", "Romanji": "Hazukashii", "Câu ví dụ": "失敗して、恥ずかしかったです。", "Romanji (câu ví dụ)": "Shippai shite, hazukashikatta desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Thất bại, tôi đã xấu hổ." },
            { "STT": 33, "Kanji": "地震", "Nghĩa tiếng Việt": "Động đất", "Furigana": "じしん", "Romanji": "Jishin", "Câu ví dụ": "地震が起きそうです。", "Romanji (câu ví dụ)": "Jishin ga okisou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Có vẻ sắp có động đất." },
            { "STT": 34, "Kanji": "台風", "Nghĩa tiếng Việt": "Bão", "Furigana": "たいふう", "Romanji": "Taifuu", "Câu ví dụ": "台風が来るそうです。", "Romanji (câu ví dụ)": "Taifuu ga kuru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói bão sẽ đến." },
            { "STT": 35, "Kanji": "火事", "Nghĩa tiếng Việt": "Hỏa hoạn", "Furigana": "かじ", "Romanji": "Kaji", "Câu ví dụ": "火事があったそうです。", "Romanji (câu ví dụ)": "Kaji ga atta sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói đã có hỏa hoạn." },
            { "STT": 36, "Kanji": "事故", "Nghĩa tiếng Việt": "Sự cố, tai nạn", "Furigana": "じこ", "Romanji": "Jiko", "Câu ví dụ": "事故が起きやすい場所です。", "Romanji (câu ví dụ)": "Jiko ga okiyasui basho desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Đây là nơi dễ xảy ra tai nạn." },
            { "STT": 37, "Kanji": "お見合い", "Nghĩa tiếng Việt": "Làm mối, xem mắt", "Furigana": "おみあい", "Romanji": "Omiai", "Câu ví dụ": "お見合いをするそうです。", "Romanji (câu ví dụ)": "Omiai o suru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói sẽ đi xem mắt." },
            { "STT": 38, "Kanji": "電話代", "Nghĩa tiếng Việt": "Tiền điện thoại", "Furigana": "でんわだい", "Romanji": "Denwadai", "Câu ví dụ": "電話代が高いそうです。", "Romanji (câu ví dụ)": "Denwadai ga takai sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói tiền điện thoại đắt." },
            { "STT": 39, "Kanji": "〜号室", "Nghĩa tiếng Việt": "Phòng số ~", "Furigana": "ごうしつ", "Romanji": "Goushitsu", "Câu ví dụ": "301号室は空いているそうです。", "Romanji (câu ví dụ)": "Sanmaruichi goushitsu wa aite iru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói phòng 301 đang trống." },
            { "STT": 40, "Kanji": "汗", "Nghĩa tiếng Việt": "Mồ hôi", "Furigana": "あせ", "Romanji": "Ase", "Câu ví dụ": "汗がたくさん出そうです。", "Romanji (câu ví dụ)": "Ase ga takusan desou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Có vẻ sẽ đổ nhiều mồ hôi." },
            { "STT": 41, "Kanji": "石鹸", "Nghĩa tiếng Việt": "Xà phòng", "Furigana": "せっけん", "Romanji": "Sekken", "Câu ví dụ": "この石鹸は使いやすいです。", "Romanji (câu ví dụ)": "Kono sekken wa tsukaiyasui desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Xà phòng này dễ dùng." },
            { "STT": 42, "Kanji": "大勢", "Nghĩa tiếng Việt": "Nhiều người", "Furigana": "おおぜい", "Romanji": "Oozei", "Câu ví dụ": "大勢の人が集まりそうです。", "Romanji (câu ví dụ)": "Oozei no hito ga atsumarisou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Có vẻ sẽ có nhiều người tập trung." },
            { "STT": 43, "Kanji": "お疲れ様でした", "Nghĩa tiếng Việt": "Anh/chị đã vất vả rồi", "Furigana": "おつかれさまでした", "Romanji": "Otsukaresama deshita", "Câu ví dụ": "仕事が終わって、お疲れ様でした。", "Romanji (câu ví dụ)": "Shigoto ga owatte, otsukaresama deshita.", "Nghĩa tiếng Việt (câu ví dụ)": "Công việc kết thúc, cảm ơn bạn đã vất vả." },
            { "STT": 44, "Kanji": "伺います", "Nghĩa tiếng Việt": "Đến thăm (khiêm nhường)", "Furigana": "うかがいます", "Romanji": "Ukagaimasu", "Câu ví dụ": "先生の家へ伺うのは緊張します。", "Romanji (câu ví dụ)": "Sensei no ie e ukagau no wa kinchou shimasu.", "Nghĩa tiếng Việt (câu ví dụ)": "Việc đến thăm nhà giáo viên rất căng thẳng." },
            { "STT": 45, "Kanji": "途中で", "Nghĩa tiếng Việt": "Giữa đường, giữa chừng", "Furigana": "とちゅうで", "Romanji": "Tochuu de", "Câu ví dụ": "途中で事故があったそうです。", "Romanji (câu ví dụ)": "Tochuu de jiko ga atta sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói có tai nạn giữa đường." },
            { "STT": 46, "Kanji": "", "Nghĩa tiếng Việt": "Đâm, va chạm", "Furigana": "ぶつかる", "Romanji": "Butsukaru", "Câu ví dụ": "車にぶつかって、怪我しました。", "Romanji (câu ví dụ)": "Kuruma ni butsukatte, kega shimashita.", "Nghĩa tiếng Việt (câu ví dụ)": "Bị xe đâm, tôi đã bị thương." },
            { "STT": 47, "Kanji": "並ぶ", "Nghĩa tiếng Việt": "Xếp hàng", "Furigana": "ならぶ", "Romanji": "Narabu", "Câu ví dụ": "レストランで並ぶのは時間がかかります。", "Romanji (câu ví dụ)": "Resutoran de narabu no wa jikan ga kakarimasu.", "Nghĩa tiếng Việt (câu ví dụ)": "Việc xếp hàng ở nhà hàng tốn thời gian." },
            { "STT": 48, "Kanji": "大人", "Nghĩa tiếng Việt": "Người lớn", "Furigana": "おとな", "Romanji": "Otona", "Câu ví dụ": "大人は子供より背が高いそうです。", "Romanji (câu ví dụ)": "Otona wa kodomo yori se ga takai sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói người lớn cao hơn trẻ con." },
            { "STT": 49, "Kanji": "洋服", "Nghĩa tiếng Việt": "Quần áo kiểu Tây Âu", "Furigana": "ようふく", "Romanji": "Youfuku", "Câu ví dụ": "この洋服は洗いにくいです。", "Romanji (câu ví dụ)": "Kono youfuku wa arainikui desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Bộ quần áo này khó giặt." },
            { "STT": 50, "Kanji": "西洋化する", "Nghĩa tiếng Việt": "Tây Âu hóa", "Furigana": "せいようかする", "Romanji": "Seiyouka suru", "Câu ví dụ": "日本は西洋化しているそうです。", "Romanji (câu ví dụ)": "Nihon wa seiyouka shite iru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói Nhật Bản đang Tây Âu hóa." },
            { "STT": 51, "Kanji": "(が)合う", "Nghĩa tiếng Việt": "Vừa, hợp", "Furigana": "あう", "Romanji": "Au", "Câu ví dụ": "この服は私に合うそうです。", "Romanji (câu ví dụ)": "Kono fuku wa watashi ni au sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói bộ quần áo này hợp với tôi." },
            { "STT": 52, "Kanji": "今では", "Nghĩa tiếng Việt": "Bây giờ thì", "Furigana": "いまでは", "Romanji": "Ima de wa", "Câu ví dụ": "今ではパソコンはとても便利になりました。", "Romanji (câu ví dụ)": "Ima de wa pasokon wa totemo benri ni narimashita.", "Nghĩa tiếng Việt (câu ví dụ)": "Bây giờ thì máy tính đã trở nên rất tiện lợi." },
            { "STT": 53, "Kanji": "成人式", "Nghĩa tiếng Việt": "Lễ trưởng thành", "Furigana": "せいじんしき", "Romanji": "Seijinshiki", "Câu ví dụ": "成人式は来年だそうです。", "Romanji (câu ví dụ)": "Seijinshiki wa rainen da sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói lễ trưởng thành là vào năm sau." },
            { "STT": 54, "Kanji": "数える", "Nghĩa tiếng Việt": "Đếm", "Furigana": "かぞえる", "Romanji": "Kazoeru", "Câu ví dụ": "お金を数えるのは簡単です。", "Romanji (câu ví dụ)": "Okane o kazoeru no wa kantan desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Việc đếm tiền rất dễ." },
            { "STT": 55, "Kanji": "測る、量る", "Nghĩa tiếng Việt": "Đo, cân", "Furigana": "はかる", "Romanji": "Hakaru", "Câu ví dụ": "体重を測るのは健康にいいです。", "Romanji (câu ví dụ)": "Taijuu o hakaru no wa kenkou ni ii desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Việc cân nặng tốt cho sức khỏe." },
            { "STT": 56, "Kanji": "確かめる", "Nghĩa tiếng Việt": "Xác nhận, kiểm tra", "Furigana": "たしかめる", "Romanji": "Tashikameru", "Câu ví dụ": "情報を確かめるのは大切です。", "Romanji (câu ví dụ)": "Jouhou o tashikameru no wa taisetsu desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Việc xác nhận thông tin rất quan trọng." },
            { "STT": 57, "Kanji": "似合う", "Nghĩa tiếng Việt": "Phù hợp (thời trang)", "Furigana": "にあう", "Romanji": "Niau", "Câu ví dụ": "この帽子はあなたに似合うそうです。", "Romanji (câu ví dụ)": "Kono boushi wa anata ni niau sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói chiếc mũ này hợp với bạn." },
            { "STT": 58, "Kanji": "出発する", "Nghĩa tiếng Việt": "Xuất phát", "Furigana": "しゅっぱつする", "Romanji": "Shuppatsu suru", "Câu ví dụ": "彼はもうすぐ出発するそうです。", "Romanji (câu ví dụ)": "Kare wa mou sugu shuppatsu suru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói anh ấy sắp xuất phát rồi." },
            { "STT": 59, "Kanji": "到着する", "Nghĩa tiếng Việt": "Đến nơi", "Furigana": "とうちゃくする", "Romanji": "Touchaku suru", "Câu ví dụ": "電車はもうすぐ駅に到着するそうです。", "Romanji (câu ví dụ)": "Densha wa mou sugu eki ni touchaku suru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói tàu sắp đến ga rồi." },
            { "STT": 60, "Kanji": "酔う", "Nghĩa tiếng Việt": "Say", "Furigana": "よう", "Romanji": "You", "Câu ví dụ": "お酒を飲みすぎると、酔いやすいです。", "Romanji (câu ví dụ)": "Osake o nomisugiru to, yoiyasui desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nếu uống quá nhiều rượu, dễ say." },
            { "STT": 61, "Kanji": "危険(な)", "Nghĩa tiếng Việt": "Nguy hiểm", "Furigana": "きけん(な)", "Romanji": "Kiken (na)", "Câu ví dụ": "この場所は危険なので、近づかないほうがいいです。", "Romanji (câu ví dụ)": "Kono basho wa kiken nanode, chikazukanai hou ga ii desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Vì nơi này nguy hiểm nên không nên đến gần." },
            { "STT": 62, "Kanji": "必要(な)", "Nghĩa tiếng Việt": "Cần thiết", "Furigana": "ひつよう(な)", "Romanji": "Hitsuyou (na)", "Câu ví dụ": "必要なものは買っておきましょう。", "Romanji (câu ví dụ)": "Hitsuyou na mono wa katte okimashou.", "Nghĩa tiếng Việt (câu ví dụ)": "Hãy mua sẵn những thứ cần thiết." },
            { "STT": 63, "Kanji": "会議", "Nghĩa tiếng Việt": "Hội nghị", "Furigana": "かいぎ", "Romanji": "Kaigi", "Câu ví dụ": "会議はもう終わったそうです。", "Romanji (câu ví dụ)": "Kaigi wa mou owatta sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói cuộc họp đã kết thúc rồi." },
            { "STT": 64, "Kanji": "会場", "Nghĩa tiếng Việt": "Hội trường", "Furigana": "かいじょう", "Romanji": "Kaijou", "Câu ví dụ": "会場は広いそうです。", "Romanji (câu ví dụ)": "Kaijou wa hiroi sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói hội trường rộng." },
            { "STT": 65, "Kanji": "二次会", "Nghĩa tiếng Việt": "Tăng hai", "Furigana": "にじかい", "Romanji": "Nijikai", "Câu ví dụ": "二次会は楽しいそうです。", "Romanji (câu ví dụ)": "Nijikai wa tanoshii sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói tăng hai vui." },
            { "STT": 66, "Kanji": "大会", "Nghĩa tiếng Việt": "Đại hội, cuộc thi", "Furigana": "たいかい", "Romanji": "Taikai", "Câu ví dụ": "大会で優勝するのは難しいです。", "Romanji (câu ví dụ)": "Taikai de yuushou suru no wa muzukashii desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Việc vô địch đại hội rất khó." },
            { "STT": 67, "Kanji": "表", "Nghĩa tiếng Việt": "Mặt trước", "Furigana": "おもて", "Romanji": "Omote", "Câu ví dụ": "表に名前が書いてあるそうです。", "Romanji (câu ví dụ)": "Omote ni namae ga kaite aru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói tên được viết ở mặt trước." },
            { "STT": 68, "Kanji": "裏", "Nghĩa tiếng Việt": "Mặt sau", "Furigana": "うら", "Romanji": "Ura", "Câu ví dụ": "裏に何も書いてないそうです。", "Romanji (câu ví dụ)": "Ura ni nani mo kaitenai sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói mặt sau không viết gì cả." },
            { "STT": 69, "Kanji": "返事", "Nghĩa tiếng Việt": "Hồi âm, trả lời", "Furigana": "へんじ", "Romanji": "Henji", "Câu ví dụ": "返事を書くのは時間がかかります。", "Romanji (câu ví dụ)": "Henji o kaku no wa jikan ga kakarimasu.", "Nghĩa tiếng Việt (câu ví dụ)": "Việc viết thư trả lời tốn thời gian." },
            { "STT": 70, "Kanji": "米", "Nghĩa tiếng Việt": "Gạo", "Furigana": "こめ", "Romanji": "Kome", "Câu ví dụ": "米は日本でたくさん作られているそうです。", "Romanji (câu ví dụ)": "Kome wa Nihon de takusan tsukurarete iru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói gạo được sản xuất rất nhiều ở Nhật Bản." },
            { "STT": 71, "Kanji": "麦", "Nghĩa tiếng Việt": "Lúa mạch", "Furigana": "むぎ", "Romanji": "Mugi", "Câu ví dụ": "麦はパンを作るのに使われるそうです。", "Romanji (câu ví dụ)": "Mugi wa pan o tsukawareru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói lúa mạch được dùng để làm bánh mì." },
            { "STT": 72, "Kanji": "石油", "Nghĩa tiếng Việt": "Dầu mỏ", "Furigana": "せきゆ", "Romanji": "Sekiyu", "Câu ví dụ": "石油の値段は上がるそうです。", "Romanji (câu ví dụ)": "Sekiyu no nedan wa agaru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói giá dầu mỏ sẽ tăng." },
            { "STT": 73, "Kanji": "原料", "Nghĩa tiếng Việt": "Nguyên liệu", "Furigana": "げんりょう", "Romanji": "Genryou", "Câu ví dụ": "この製品はどんな原料によって作られているそうですか。", "Romanji (câu ví dụ)": "Kono seihin wa donna genryou ni yotte tsukurarete iru sou desu ka.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói sản phẩm này được làm từ loại nguyên liệu nào?" },
            { "STT": 74, "Kanji": "泥棒", "Nghĩa tiếng Việt": "Kẻ trộm", "Furigana": "どろぼう", "Romanji": "Dorobou", "Câu ví dụ": "泥棒は警察に捕まえられたそうです。", "Romanji (câu ví dụ)": "Dorobou wa keisatsu ni tsukamaerareta sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói kẻ trộm đã bị cảnh sát bắt." },
            { "STT": 75, "Kanji": "警官", "Nghĩa tiếng Việt": "Cảnh sát", "Furigana": "けいかん", "Romanji": "Keikan", "Câu ví dụ": "彼は警官になったそうです。", "Romanji (câu ví dụ)": "Kare wa keikan ni natta sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói anh ấy đã trở thành cảnh sát." },
            { "STT": 76, "Kanji": "建築家", "Nghĩa tiếng Việt": "Kiến trúc sư", "Furigana": "けんちくか", "Romanji": "Kenchikuka", "Câu ví dụ": "このビルは有名な建築家によって設計されたそうです。", "Romanji (câu ví dụ)": "Kono biru wa yuumei na kenchikuka ni yotte sekkei sareta sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói tòa nhà này được thiết kế bởi một kiến trúc sư nổi tiếng." },
            { "STT": 77, "Kanji": "科学者", "Nghĩa tiếng Việt": "Nhà khoa học", "Furigana": "かがくしゃ", "Romanji": "Kagakusha", "Câu ví dụ": "科学者は新しい発見をしたそうです。", "Romanji (câu ví dụ)": "Kagakusha wa atarashii hakken o shita sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói nhà khoa học đã có phát hiện mới." },
            { "STT": 78, "Kanji": "世界中", "Nghĩa tiếng Việt": "Khắp thế giới", "Furigana": "せかいじゅう", "Romanji": "Sekaijuu", "Câu ví dụ": "日本語は世界中で使われているそうです。", "Romanji (câu ví dụ)": "Nihongo wa sekaijuu de tsukawarete iru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói tiếng Nhật đang được sử dụng trên toàn thế giới." },
            { "STT": 79, "Kanji": "〜によって", "Nghĩa tiếng Việt": "Do~", "Furigana": "によって", "Romanji": "Ni yotte", "Câu ví dụ": "この歌は有名な歌手によって歌われているそうです。", "Romanji (câu ví dụ)": "Kono uta wa yuumei na kashu ni yotte utawarete iru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói bài hát này được hát bởi một ca sĩ nổi tiếng." },
            { "STT": 80, "Kanji": "埋め立てる", "Nghĩa tiếng Việt": "Lấp (biển)", "Furigana": "うめたてる", "Romanji": "Umetateru", "Câu ví dụ": "海を埋め立てるのは大変だそうです。", "Romanji (câu ví dụ)": "Umi o umetateru no wa taihen da sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói việc lấp biển rất vất vả." },
            { "STT": 81, "Kanji": "技術", "Nghĩa tiếng Việt": "Kỹ thuật", "Furigana": "ぎじゅつ", "Romanji": "Gijutsu", "Câu ví dụ": "日本の技術は世界中で使われているそうです。", "Romanji (câu ví dụ)": "Nihon no gijutsu wa sekaijuu de tsukawarete iru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói kỹ thuật của Nhật Bản đang được sử dụng trên toàn thế giới." },
            { "STT": 82, "Kanji": "土地", "Nghĩa tiếng Việt": "Đất, diện tích đất", "Furigana": "とち", "Romanji": "Tochi", "Câu ví dụ": "土地を買うのはお金がかかるそうです。", "Romanji (câu ví dụ)": "Tochi o kau no wa okane ga kakaru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói việc mua đất tốn tiền." },
            { "STT": 83, "Kanji": "騒音", "Nghĩa tiếng Việt": "Tiếng ồn", "Furigana": "そうおん", "Romanji": "Souon", "Câu ví dụ": "騒音は健康に悪いそうです。", "Romanji (câu ví dụ)": "Souon wa kenkou ni warui sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói tiếng ồn không tốt cho sức khỏe." },
            { "STT": 84, "Kanji": "使用する", "Nghĩa tiếng Việt": "Sử dụng", "Furigana": "しようする", "Romanji": "Shiyou suru", "Câu ví dụ": "この機械は誰でも使用できるそうです。", "Romanji (câu ví dụ)": "Kono kikai wa dare demo shiyou dekiru sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói máy này ai cũng có thể sử dụng." },
            { "STT": 85, "Kanji": "世間", "Nghĩa tiếng Việt": "Thế gian", "Furigana": "せけん", "Romanji": "Seken", "Câu ví dụ": "世間の話は面白いそうです。", "Romanji (câu ví dụ)": "Seken no hanashi wa omoshiroi sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói chuyện thế gian thú vị." },
            { "STT": 86, "Kanji": "豪華(な)", "Nghĩa tiếng Việt": "Hào hoa, sang trọng", "Furigana": "ごうか(な)", "Romanji": "Gouka (na)", "Câu ví dụ": "豪華なホテルに泊まったそうです。", "Romanji (câu ví dụ)": "Gouka na hoteru ni tomatta sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói đã ở khách sạn sang trọng." },
            { "STT": 87, "Kanji": "彫刻", "Nghĩa tiếng Việt": "Điêu khắc", "Furigana": "ちょうこく", "Romanji": "Choukoku", "Câu ví dụ": "彫刻は美しいそうです。", "Romanji (câu ví dụ)": "Choukoku wa utsukushii sou desu.", "Nghĩa tiếng Việt (câu ví dụ)": "Nghe nói tác phẩm điêu khắc đẹp." },
            { "STT": 88, "Kanji": "", "Nghĩa tiếng Việt": "", "Furigana": "", "Romanji": "", "Câu ví dụ": "", "Romanji (câu ví dụ)": "", "Nghĩa tiếng Việt (câu ví dụ)": "" },
            { "STT": 89, "Kanji": "", "Nghĩa tiếng Việt": "", "Furigana": "", "Romanji": "", "Câu ví dụ": "", "Romanji (câu ví dụ)": "", "Nghĩa tiếng Việt (câu ví dụ)": "" }
        ]`;

        const day21Vocabulary = JSON.parse(day21VocabularyString);
        const vocabularyTableBody = document.querySelector('#vocabularyTable tbody');
        const toggleRomanjiButton = document.getElementById('toggleRomanji');
        const toggleFuriganaButton = document.getElementById('toggleFurigana');
        const userInput = document.getElementById('userInput');
        const checkButton = document.getElementById('checkButton');
        const feedbackDiv = document.getElementById('feedback');

        let showRomanji = true;
        let showFurigana = true;

        // Function to speak text
        function speakText(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ja-JP';
                speechSynthesis.speak(utterance);
            } else {
                feedbackDiv.textContent = 'Trình duyệt của bạn không hỗ trợ Speech Synthesis API.';
                feedbackDiv.style.color = 'red';
            }
        }

        // Function to render table rows
        function renderTable() {
            vocabularyTableBody.innerHTML = '';
            day21Vocabulary.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="py-3 px-4 text-sm text-gray-700">${item.STT}</td>
                    <td class="py-3 px-4 text-sm text-gray-700">${item.Kanji}</td>
                    <td class="py-3 px-4 text-sm text-gray-700">${item['Nghĩa tiếng Việt']}</td>
                    <td class="py-3 px-4 text-sm text-gray-700 furigana-col">${item.Furigana}</td>
                    <td class="py-3 px-4 text-sm text-gray-700 romanji-col">${item.Romanji}</td>
                    <td class="py-3 px-4 text-sm text-gray-700">${item['Câu ví dụ']}</td>
                    <td class="py-3 px-4 text-sm text-gray-700 romanji-example-col">${item['Romanji (câu ví dụ)']}</td>
                    <td class="py-3 px-4 text-sm text-gray-700">${item['Nghĩa tiếng Việt (câu ví dụ)']}</td>
                    <td class="py-3 px-4 text-sm text-gray-700">
                        <button class="play-button" onclick="speakText('${item.Furigana}')">Từ</button>
                        <button class="play-button" onclick="speakText('${item['Câu ví dụ'].replace(/'/g, "\\'")}')">Câu</button>
                    </td>
                `;
                vocabularyTableBody.appendChild(row);
            });
            updateColumnVisibility();
        }

        // Function to update column visibility
        function updateColumnVisibility() {
            const romanjiCols = document.querySelectorAll('.romanji-col, .romanji-example-col');
            const furiganaCols = document.querySelectorAll('.furigana-col');
            const headers = document.querySelectorAll('#vocabularyTable th');
            const furiganaHeader = headers[3];
            const romanjiHeader = headers[4];
            const romanjiExampleHeader = headers[6];

            romanjiCols.forEach(col => {
                col.style.display = showRomanji ? '' : 'none';
            });
            furiganaCols.forEach(col => {
                col.style.display = showFurigana ? '' : 'none';
            });

            if (furiganaHeader) furiganaHeader.style.display = showFurigana ? '' : 'none';
            if (romanjiHeader) romanjiHeader.style.display = showRomanji ? '' : 'none';
            if (romanjiExampleHeader) romanjiExampleHeader.style.display = showRomanji ? '' : 'none';
        }

        // Function to normalize text for comparison
        function normalizeText(text) {
            return text.toLowerCase().replace(/[.,\/#!$%\^&\*;:{}=\-_`~() ]/g,"").replace(/\s/g, '');
        }

        // Event listener for check button
        checkButton.addEventListener('click', () => {
            const userInputText = normalizeText(userInput.value);
            let isCorrect = false;

            for (const item of day21Vocabulary) {
                if (item.Furigana && normalizeText(item.Furigana) === userInputText) {
                    isCorrect = true;
                    break;
                }
                if (item['Câu ví dụ'] && normalizeText(item['Câu ví dụ']) === userInputText) {
                    isCorrect = true;
                    break;
                }
            }

            if (isCorrect) {
                feedbackDiv.textContent = 'Đúng rồi!';
                feedbackDiv.style.color = 'green';
            } else {
                feedbackDiv.textContent = 'Sai rồi. Hãy thử lại!';
                feedbackDiv.style.color = 'red';
            }
        });

        // Event listeners for toggle buttons
        toggleRomanjiButton.addEventListener('click', () => {
            showRomanji = !showRomanji;
            updateColumnVisibility();
            toggleRomanjiButton.textContent = showRomanji ? 'Tắt Romanji' : 'Bật Romanji';
        });

        toggleFuriganaButton.addEventListener('click', () => {
            showFurigana = !showFurigana;
            updateColumnVisibility();
            toggleFuriganaButton.textContent = showFurigana ? 'Tắt Furigana' : 'Bật Furigana';
        });

        // Initial render
        renderTable();
        toggleRomanjiButton.textContent = showRomanji ? 'Tắt Romanji' : 'Bật Romanji';
        toggleFuriganaButton.textContent = showFurigana ? 'Tắt Furigana' : 'Bật Furigana';
    </script>
</body>
</html>
