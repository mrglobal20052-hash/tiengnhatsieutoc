<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªçc Tr·ª£ t·ª´ Ti·∫øng Nh·∫≠t (Japanese Particles)</title>
    <meta name="description" content="H·ªçc c√°c tr·ª£ t·ª´ ti·∫øng Nh·∫≠t (Joshi) qua b·∫£ng tra c·ª©u chi ti·∫øt, v√≠ d·ª•, v√† luy·ªán g√µ t∆∞∆°ng t√°c. C·∫£i thi·ªán ng·ªØ ph√°p ti·∫øng Nh·∫≠t c·ªßa b·∫°n m·ªôt c√°ch hi·ªáu qu·∫£.">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #374151;
            /* Padding-bottom s·∫Ω ƒë∆∞·ª£c thi·∫øt l·∫≠p ƒë·ªông b·∫±ng JavaScript */
            padding-bottom: 0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        th, td {
            padding: 0.75rem;
            text-align: left;
            border: 1px solid #e5e7eb;
            vertical-align: top;
        }
        th {
            background-color: #f9fafb;
            font-weight: 600;
            color: #4b5563;
            font-size: 0.875rem;
            text-transform: uppercase;
        }
        tbody tr:nth-child(odd) {
            background-color: #f9fafb;
        }
        tbody tr:hover {
            background-color: #eef2ff;
        }
        .toggle-button {
            background-color: #4f46e5;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .toggle-button:hover {
            background-color: #4338ca;
        }
        .play-button {
            background-color: #10b981;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            cursor: pointer;
            transition: background-color 0.2s;
            font-size: 0.75rem;
            margin-top: 0.25rem;
            display: inline-block;
        }
        .play-button:hover {
            background-color: #059669;
        }
        .hidden-text {
            display: none;
        }
        .fixed-typing-practice {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #ffffff;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            padding: 1rem;
            z-index: 1000;
            border-top-left-radius: 0.5rem;
            border-top-right-radius: 0.5rem;
        }
        .detail-row {
            background-color: #eef2ff;
        }
        .expand-button {
            background-color: #6366f1;
            color: white;
            padding: 0.3rem 0.6rem;
            border-radius: 0.25rem;
            cursor: pointer;
            transition: background-color 0.2s;
            font-size: 0.75rem;
        }
        .expand-button:hover {
            background-color: #4f46e5;
        }
        .detail-content {
            background-color: #f0f2f5;
            padding: 1rem;
            border-radius: 0.5rem;
        }
        .detail-content h5 {
            font-weight: 600;
            color: #1e3a8a;
            margin-top: 0.5rem;
            margin-bottom: 0.25rem;
        }
        .detail-content p, .detail-content li {
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body class="p-4">
    <div class="container bg-white shadow-lg rounded-lg p-6">
        <h1 class="text-3xl font-bold text-gray-800 mb-4 text-center">H·ªçc Tr·ª£ t·ª´ Ti·∫øng Nh·∫≠t (Âä©Ë©û - Joshi)</h1>

        <div class="flex flex-wrap gap-4 mb-6">
            <button id="toggleRomanji" class="toggle-button">·∫®n Romanji</button>
            <button id="toggleFurigana" class="toggle-button">·∫®n Furigana</button>
        </div>

        <div class="mb-6 bg-blue-50 p-4 rounded-lg">
            <h3 class="text-lg font-semibold text-gray-700 mb-2">Tr·ª£ t·ª´ (Âä©Ë©û - Joshi) l√† g√¨?</h3>
            <p class="text-gray-600">
                Tr·ª£ t·ª´ l√† nh·ªØng t·ª´ ng·∫Øn ƒë∆∞·ª£c s·ª≠ d·ª•ng trong ng·ªØ ph√°p ti·∫øng Nh·∫≠t ƒë·ªÉ ch·ªâ m·ªëi quan h·ªá gi·ªØa c√°c t·ª´ trong m·ªôt c√¢u. Ch√∫ng th∆∞·ªùng ƒë·ª©ng sau danh t·ª´, ƒë·ªông t·ª´, t√≠nh t·ª´ v√† x√°c ƒë·ªãnh vai tr√≤ ng·ªØ ph√°p c·ªßa t·ª´ ƒë√≥ (v√≠ d·ª•: ch·ªß ng·ªØ, t√¢n ng·ªØ, ƒë·ªãa ƒëi·ªÉm, th·ªùi gian). Vi·ªác s·ª≠ d·ª•ng ƒë√∫ng tr·ª£ t·ª´ l√† c·ª±c k·ª≥ quan tr·ªçng ƒë·ªÉ x√¢y d·ª±ng c√¢u c√≥ nghƒ©a v√† t·ª± nhi√™n.
            </p>
        </div>

        <div class="overflow-x-auto">
            <table id="particleTable" class="min-w-full">
                <thead class="bg-gray-100">
                    <tr>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">STT</th>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">Tr·ª£ t·ª´</th>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">C√°ch ƒë·ªçc</th>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">√ù nghƒ©a ch√≠nh</th>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">C√¢u v√≠ d·ª•</th>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">Ph√°t √¢m</th>
                        <th class="py-3 px-4 text-left text-sm font-semibold text-gray-600">Chi ti·∫øt</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-200">
                    <!-- C√°c h√†ng tr·ª£ t·ª´ s·∫Ω ƒë∆∞·ª£c ch√®n v√†o ƒë√¢y b·ªüi JavaScript -->
                </tbody>
            </table>
        </div>

        <div id="typingPracticeSection" class="mt-8 p-4 bg-blue-50 rounded-lg shadow-md fixed-typing-practice">
            <h3 class="text-xl font-bold text-blue-800 mb-4">Luy·ªán g√µ tr·ª£ t·ª´</h3>
            <p class="text-gray-700 mb-2">G√µ tr·ª£ t·ª´ ho·∫∑c c√¢u v√≠ d·ª• ti·∫øng Nh·∫≠t t·ª´ b·∫£ng tr√™n v√†o √¥ d∆∞·ªõi ƒë√¢y v√† nh·∫•n "Ki·ªÉm tra".</p>
            <input type="text" id="userInput" class="w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 mb-3 text-gray-800" placeholder="G√µ ti·∫øng Nh·∫≠t v√†o ƒë√¢y...">
            <button id="checkButton" class="toggle-button bg-green-600 hover:bg-green-700">Ki·ªÉm tra</button>
            <div id="feedback" class="mt-3 text-lg font-semibold"></div>
        </div>
    </div>

    <footer class="text-center py-4 text-gray-600 text-sm mt-8">
        <p>AzaCan 2025. All rights reserved.</p>
    </footer>

    <script>
        // D·ªØ li·ªáu tr·ª£ t·ª´ ti·∫øng Nh·∫≠t d∆∞·ªõi d·∫°ng chu·ªói JSON
        const japaneseParticlesString = `[
            {
                "STT": 1,
                "Particle": "„ÅØ",
                "Reading": "wa",
                "VietnameseMeaning": "Ch·ªâ ch·ªß ƒë·ªÅ (l√†, th√¨, ·ªü)",
                "ExampleSentence": {
                    "Japanese": "ÁßÅ„ÅØÂ≠¶Áîü„Åß„Åô„ÄÇ",
                    "Furigana": "„Çè„Åü„Åó„ÅØ„Åå„Åè„Åõ„ÅÑ„Åß„Åô„ÄÇ",
                    "Romanji": "Watashi wa gakusei desu.",
                    "VietnameseMeaning": "T√¥i l√† h·ªçc sinh."
                },
                "Details": {
                    "DetailedUsage": "ƒê√°nh d·∫•u ch·ªß ƒë·ªÅ c·ªßa c√¢u. Ch·ªß ƒë·ªÅ l√† c√°i m√† ng∆∞·ªùi n√≥i mu·ªën n√≥i v·ªÅ. N√≥ nh·∫•n m·∫°nh v√†o ph·∫ßn th√¥ng tin (v·ªã ng·ªØ) ƒë·ª©ng sau n√≥.",
                    "Nuances": "Th∆∞·ªùng ƒë∆∞·ª£c so s√°nh v·ªõi '„Åå'. '„ÅØ' d√πng cho th√¥ng tin ƒë√£ bi·∫øt ho·∫∑c ƒë·ªÉ t·∫°o s·ª± t∆∞∆°ng ph·∫£n. V√≠ d·ª•: '„Éì„Éº„É´„ÅØÈ£≤„Åø„Åæ„Åô„Åå„ÄÅ„ÉØ„Ç§„É≥„ÅØÈ£≤„Åø„Åæ„Åõ„Çì„ÄÇ' (Bia th√¨ t√¥i u·ªëng, nh∆∞ng r∆∞·ª£u vang th√¨ kh√¥ng).",
                    "MoreExamples": [
                        { "Japanese": "‰ªäÊó•„ÅØÊöë„ÅÑ„Åß„Åô„ÄÇ", "Furigana": "„Åç„Çá„ÅÜ„ÅØ„ÅÇ„Å§„ÅÑ„Åß„Åô„ÄÇ", "Romanji": "Kyou wa atsui desu.", "VietnameseMeaning": "H√¥m nay tr·ªùi n√≥ng." },
                        { "Japanese": "Êó•Êú¨Ë™û„ÅØÈù¢ÁôΩ„ÅÑ„Åß„Åô„ÄÇ", "Furigana": "„Å´„Åª„Çì„Åî„ÅØ„Åä„ÇÇ„Åó„Çç„ÅÑ„Åß„Åô„ÄÇ", "Romanji": "Nihongo wa omoshiroi desu.", "VietnameseMeaning": "Ti·∫øng Nh·∫≠t th√¨ th√∫ v·ªã." }
                    ]
                }
            },
            {
                "STT": 2,
                "Particle": "„Åå",
                "Reading": "ga",
                "VietnameseMeaning": "Ch·ªâ ch·ªß ng·ªØ",
                "ExampleSentence": {
                    "Japanese": "Áå´„ÅåÂ•Ω„Åç„Åß„Åô„ÄÇ",
                    "Furigana": "„Å≠„Åì„Åå„Åô„Åç„Åß„Åô„ÄÇ",
                    "Romanji": "Neko ga suki desu.",
                    "VietnameseMeaning": "T√¥i th√≠ch m√®o."
                },
                "Details": {
                    "DetailedUsage": "ƒê√°nh d·∫•u ch·ªß ng·ªØ c·ªßa h√†nh ƒë·ªông ho·∫∑c tr·∫°ng th√°i. N√≥ nh·∫•n m·∫°nh v√†o ch√≠nh ch·ªß ng·ªØ ƒë√≥. Th∆∞·ªùng d√πng khi gi·ªõi thi·ªáu th√¥ng tin m·ªõi ho·∫∑c trong c√°c m·ªánh ƒë·ªÅ ph·ª•.",
                    "Nuances": "Khi t·ª´ ƒë·ªÉ h·ªèi (Ë™∞, ‰Ωï, „Å©„Çå) l√† ch·ªß ng·ªØ, c√¢u tr·∫£ l·ªùi ph·∫£i d√πng '„Åå'. V√≠ d·ª•: 'Ë™∞„ÅåÊù•„Åæ„Åó„Åü„ÅãÔºü' - 'Áî∞‰∏≠„Åï„Çì„ÅåÊù•„Åæ„Åó„Åü„ÄÇ' (Ai ƒë√£ ƒë·∫øn v·∫≠y? - Anh Tanaka ƒë√£ ƒë·∫øn.)",
                    "MoreExamples": [
                        { "Japanese": "Èõ®„ÅåÈôç„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ", "Furigana": "„ÅÇ„ÇÅ„Åå„Åµ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ", "Romanji": "Ame ga futte imasu.", "VietnameseMeaning": "Tr·ªùi ƒëang m∆∞a." },
                        { "Japanese": "Ë∂≥„ÅåÁóõ„ÅÑ„Åß„Åô„ÄÇ", "Furigana": "„ÅÇ„Åó„Åå„ÅÑ„Åü„ÅÑ„Åß„Åô„ÄÇ", "Romanji": "Ashi ga itai desu.", "VietnameseMeaning": "Ch√¢n t√¥i b·ªã ƒëau." }
                    ]
                }
            },
            {
                "STT": 3,
                "Particle": "„Çí",
                "Reading": "o",
                "VietnameseMeaning": "Ch·ªâ t√¢n ng·ªØ tr·ª±c ti·∫øp",
                "ExampleSentence": {
                    "Japanese": "Êú¨„ÇíË™≠„Åø„Åæ„Åô„ÄÇ",
                    "Furigana": "„Åª„Çì„Çí„Çà„Åø„Åæ„Åô„ÄÇ",
                    "Romanji": "Hon o yomimasu.",
                    "VietnameseMeaning": "T√¥i ƒë·ªçc s√°ch."
                },
                "Details": {
                    "DetailedUsage": "ƒê√°nh d·∫•u danh t·ª´ l√† t√¢n ng·ªØ tr·ª±c ti·∫øp c·ªßa m·ªôt ngo·∫°i ƒë·ªông t·ª´ (ƒë·ªông t·ª´ y√™u c·∫ßu m·ªôt ƒë·ªëi t∆∞·ª£ng t√°c ƒë·ªông).",
                    "Nuances": "C≈©ng ƒë∆∞·ª£c d√πng ƒë·ªÉ ch·ªâ n∆°i ch·ªën m√† m·ªôt h√†nh ƒë·ªông di chuy·ªÉn di·ªÖn ra. V√≠ d·ª•: 'ÂÖ¨Âúí„ÇíÊï£Ê≠©„Åó„Åæ„Åô„ÄÇ' (ƒêi d·∫°o trong c√¥ng vi√™n). 'Ê©ã„ÇíÊ∏°„Çä„Åæ„Åô„ÄÇ' (ƒêi qua c·∫ßu).",
                    "MoreExamples": [
                        { "Japanese": "Èü≥Ê•Ω„ÇíËÅ¥„Åç„Åæ„Åô„ÄÇ", "Furigana": "„Åä„Çì„Åå„Åè„Çí„Åç„Åç„Åæ„Åô„ÄÇ", "Romanji": "Ongaku o kikimasu.", "VietnameseMeaning": "T√¥i nghe nh·∫°c." },
                        { "Japanese": "Ëßí„ÇíÊõ≤„Åå„Çä„Åæ„Åô„ÄÇ", "Furigana": "„Åã„Å©„Çí„Åæ„Åå„Çä„Åæ„Åô„ÄÇ", "Romanji": "Kado o magarimasu.", "VietnameseMeaning": "R·∫Ω ·ªü g√≥c ƒë∆∞·ªùng." }
                    ]
                }
            },
            {
                "STT": 4,
                "Particle": "„Å´",
                "Reading": "ni",
                "VietnameseMeaning": "Ch·ªâ th·ªùi gian, ƒë·ªãa ƒëi·ªÉm, m·ª•c ti√™u",
                "ExampleSentence": {
                    "Japanese": "Êó•ÊõúÊó•„Å´Êïô‰ºö„Å∏Ë°å„Åç„Åæ„Åô„ÄÇ",
                    "Furigana": "„Å´„Å°„Çà„ÅÜ„Å≥„Å´„Åç„Çá„ÅÜ„Åã„ÅÑ„Å∏„ÅÑ„Åç„Åæ„Åô„ÄÇ",
                    "Romanji": "Nichiyoubi ni kyoukai e ikimasu.",
                    "VietnameseMeaning": "T√¥i ƒëi nh√† th·ªù v√†o Ch·ªß Nh·∫≠t."
                },
                "Details": {
                    "DetailedUsage": "C√≥ r·∫•t nhi·ªÅu c√°ch d√πng: 1. Ch·ªâ th·ªùi ƒëi·ªÉm c·ª• th·ªÉ (ÔºóÊôÇ„Å´). 2. Ch·ªâ ƒë√≠ch ƒë·∫øn c·ªßa s·ª± di chuy·ªÉn (Êó•Êú¨„Å´Ë°å„Åç„Åæ„Åô). 3. Ch·ªâ s·ª± t·ªìn t·∫°i c·ªßa v·∫≠t/ng∆∞·ªùi ·ªü m·ªôt n∆°i (Êú∫„ÅÆ‰∏ä„Å´„ÅÇ„Çä„Åæ„Åô). 4. Ch·ªâ m·ª•c ƒë√≠ch (Ë≤∑„ÅÑÁâ©„Å´Ë°å„Åç„Åæ„Åô). 5. Ch·ªâ ƒë·ªëi t∆∞·ª£ng c·ªßa h√†nh ƒë·ªông (ÂèãÈÅî„Å´‰ºö„ÅÑ„Åæ„Åô).",
                    "Nuances": "Khi ch·ªâ ƒë√≠ch ƒë·∫øn, '„Å´' v√† '„Å∏' kh√° t∆∞∆°ng ƒë·ªìng, nh∆∞ng '„Å∏' nh·∫•n m·∫°nh h∆∞·ªõng ƒëi h∆°n l√† ƒëi·ªÉm ƒë·∫øn cu·ªëi c√πng.",
                    "MoreExamples": [
                        { "Japanese": "ÔºóÊôÇ„Å´Ëµ∑„Åç„Åæ„Åô„ÄÇ", "Furigana": "„Åó„Å°„Åò„Å´„Åä„Åç„Åæ„Åô„ÄÇ", "Romanji": "Shichiji ni okimasu.", "VietnameseMeaning": "T√¥i th·ª©c d·∫≠y l√∫c 7 gi·ªù." },
                        { "Japanese": "Ê§ÖÂ≠ê„Å´Â∫ß„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ", "Furigana": "„ÅÑ„Åô„Å´„Åô„Çè„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ", "Romanji": "Isu ni suwatte kudasai.", "VietnameseMeaning": "Xin h√£y ng·ªìi v√†o gh·∫ø." }
                    ]
                }
            },
            {
                "STT": 5,
                "Particle": "„Å∏",
                "Reading": "e",
                "VietnameseMeaning": "Ch·ªâ ph∆∞∆°ng h∆∞·ªõng",
                "ExampleSentence": {
                    "Japanese": "Â§ßÈò™„Å∏Ë°å„Åç„Åæ„Åô„ÄÇ",
                    "Furigana": "„Åä„Åä„Åï„Åã„Å∏„ÅÑ„Åç„Åæ„Åô„ÄÇ",
                    "Romanji": "Oosaka e ikimasu.",
                    "VietnameseMeaning": "T√¥i ƒëi ƒë·∫øn Osaka."
                },
                "Details": {
                    "DetailedUsage": "ƒê√°nh d·∫•u ph∆∞∆°ng h∆∞·ªõng c·ªßa h√†nh ƒë·ªông di chuy·ªÉn. N√≥ nh·∫•n m·∫°nh v√†o 'h∆∞·ªõng ƒëi v·ªÅ ph√≠a' m·ªôt n∆°i n√†o ƒë√≥.",
                    "Nuances": "Trong vƒÉn n√≥i hi·ªán ƒë·∫°i, '„Å´' th∆∞·ªùng ƒë∆∞·ª£c d√πng thay cho '„Å∏' ƒë·ªÉ ch·ªâ ƒë√≠ch ƒë·∫øn. '„Å∏' mang s·∫Øc th√°i trang tr·ªçng ho·∫∑c vƒÉn vi·∫øt h∆°n m·ªôt ch√∫t.",
                    "MoreExamples": [
                        { "Japanese": "Âè≥„Å∏Êõ≤„Åå„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ", "Furigana": "„Åø„Åé„Å∏„Åæ„Åå„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ", "Romanji": "Migi e magatte kudasai.", "VietnameseMeaning": "Xin h√£y r·∫Ω v·ªÅ ph√≠a b√™n ph·∫£i." },
                        { "Japanese": "Êú™Êù•„Å∏ÈÄ≤„ÇÇ„ÅÜ„ÄÇ", "Furigana": "„Åø„Çâ„ÅÑ„Å∏„Åô„Åô„ÇÅ„ÇÇ„ÅÜ„ÄÇ", "Romanji": "Mirai e susumou.", "VietnameseMeaning": "H√£y c√πng ti·∫øn v·ªÅ t∆∞∆°ng lai." }
                    ]
                }
            },
            {
                "STT": 6,
                "Particle": "„Åß",
                "Reading": "de",
                "VietnameseMeaning": "Ch·ªâ ƒë·ªãa ƒëi·ªÉm, ph∆∞∆°ng ti·ªán",
                "ExampleSentence": {
                    "Japanese": "„É¨„Çπ„Éà„É©„É≥„ÅßÈ£ü„Åπ„Åæ„Åô„ÄÇ",
                    "Furigana": "„É¨„Çπ„Éà„É©„É≥„Åß„Åü„Åπ„Åæ„Åô„ÄÇ",
                    "Romanji": "Resutoran de tabemasu.",
                    "VietnameseMeaning": "T√¥i ƒÉn ·ªü nh√† h√†ng."
                },
                "Details": {
                    "DetailedUsage": "1. Ch·ªâ n∆°i h√†nh ƒë·ªông x·∫£y ra (Âõ≥Êõ∏È§®„ÅßÂãâÂº∑„Åó„Åæ„Åô). 2. Ch·ªâ ph∆∞∆°ng ti·ªán ho·∫∑c c√¥ng c·ª• („Éê„Çπ„ÅßÊù•„Åæ„Åô, „Éö„É≥„ÅßÊõ∏„Åç„Åæ„Åô). 3. Ch·ªâ nguy√™n nh√¢n (ÁóÖÊ∞ó„Åß‰ºë„Åø„Åæ„Åó„Åü). 4. Ch·ªâ ph·∫°m vi (‰∏ñÁïå„Åß‰∏ÄÁï™).",
                    "Nuances": "Kh√¥ng nh·∫ßm l·∫´n v·ªõi '„Å´' khi ch·ªâ ƒë·ªãa ƒëi·ªÉm. '„Åß' d√πng cho n∆°i di·ªÖn ra h√†nh ƒë·ªông, trong khi '„Å´' d√πng cho n∆°i t·ªìn t·∫°i c·ªßa v·∫≠t/ng∆∞·ªùi (Êù±‰∫¨„Å´‰Ωè„Çì„Åß„ÅÑ„Åæ„Åô - T√¥i s·ªëng ·ªü Tokyo).",
                    "MoreExamples": [
                        { "Japanese": "ÈõªËªä„Åß‰ºöÁ§æ„Å∏Ë°å„Åç„Åæ„Åô„ÄÇ", "Furigana": "„Åß„Çì„Åó„ÇÉ„Åß„Åã„ÅÑ„Åó„ÇÉ„Å∏„ÅÑ„Åç„Åæ„Åô„ÄÇ", "Romanji": "Densha de kaisha e ikimasu.", "VietnameseMeaning": "T√¥i ƒëi l√†m b·∫±ng t√†u ƒëi·ªán." },
                        { "Japanese": "È¢®ÈÇ™„ÅßÂ≠¶Ê†°„Çí‰ºë„Åø„Åæ„Åó„Åü„ÄÇ", "Furigana": "„Åã„Åú„Åß„Åå„Å£„Åì„ÅÜ„Çí„ÇÑ„Åô„Åø„Åæ„Åó„Åü„ÄÇ", "Romanji": "Kaze de gakkou o yasumimashita.", "VietnameseMeaning": "T√¥i ƒë√£ ngh·ªâ h·ªçc v√¨ b·ªã c·∫£m." }
                    ]
                }
            },
            {
                "STT": 7,
                "Particle": "„ÅÆ",
                "Reading": "no",
                "VietnameseMeaning": "Ch·ªâ s·ª± s·ªü h·ªØu (c·ªßa)",
                "ExampleSentence": {
                    "Japanese": "ÁßÅ„ÅÆÊú¨„Åß„Åô„ÄÇ",
                    "Furigana": "„Çè„Åü„Åó„ÅÆ„Åª„Çì„Åß„Åô„ÄÇ",
                    "Romanji": "Watashi no hon desu.",
                    "VietnameseMeaning": "ƒê√¢y l√† s√°ch c·ªßa t√¥i."
                },
                "Details": {
                    "DetailedUsage": "K·∫øt n·ªëi hai danh t·ª´. 1. Ch·ªâ s·ª± s·ªü h·ªØu („ÅÇ„Å™„Åü„ÅÆ„Ç´„Éê„É≥). 2. Ch·ªâ v·ªã tr√≠ (Êú∫„ÅÆ‰∏ä). 3. Ch·ªâ thu·ªôc t√≠nh, ch·∫•t li·ªáu (Êó•Êú¨Ë™û„ÅÆÂÖàÁîü, Êú®„ÅÆÊ§ÖÂ≠ê).",
                    "Nuances": "C√≥ th·ªÉ d√πng ƒë·ªÉ danh t·ª´ h√≥a ƒë·ªông t·ª´ ho·∫∑c c·∫£ m·ªánh ƒë·ªÅ. V√≠ d·ª•: 'Êú¨„ÇíË™≠„ÇÄ„ÅÆ„ÅåÂ•Ω„Åç„Åß„Åô„ÄÇ' (T√¥i th√≠ch vi·ªác ƒë·ªçc s√°ch).",
                    "MoreExamples": [
                        { "Japanese": "„Åì„Çå„ÅØÊó•Êú¨„ÅÆËªä„Åß„Åô„ÄÇ", "Furigana": "„Åì„Çå„ÅØ„Å´„Åª„Çì„ÅÆ„Åè„Çã„Åæ„Åß„Åô„ÄÇ", "Romanji": "Kore wa Nihon no kuruma desu.", "VietnameseMeaning": "ƒê√¢y l√† xe h∆°i c·ªßa Nh·∫≠t." },
                        { "Japanese": "Áî∞‰∏≠„Åï„Çì„ÅÆÈõªË©±Áï™Âè∑„ÇíÁü•„Å£„Å¶„ÅÑ„Åæ„Åô„Åã„ÄÇ", "Furigana": "„Åü„Å™„Åã„Åï„Çì„ÅÆ„Åß„Çì„Çè„Å∞„Çì„Åî„ÅÜ„Çí„Åó„Å£„Å¶„ÅÑ„Åæ„Åô„Åã„ÄÇ", "Romanji": "Tanaka-san no denwa bangou o shitte imasu ka.", "VietnameseMeaning": "B·∫°n c√≥ bi·∫øt s·ªë ƒëi·ªán tho·∫°i c·ªßa anh Tanaka kh√¥ng?" }
                    ]
                }
            },
            {
                "STT": 8,
                "Particle": "„Å®",
                "Reading": "to",
                "VietnameseMeaning": "V√†, v·ªõi",
                "ExampleSentence": {
                    "Japanese": "„Éë„É≥„Å®Âçµ„ÇíË≤∑„ÅÑ„Åæ„Åó„Åü„ÄÇ",
                    "Furigana": "„Éë„É≥„Å®„Åü„Åæ„Åî„Çí„Åã„ÅÑ„Åæ„Åó„Åü„ÄÇ",
                    "Romanji": "Pan to tamago o kaimashita.",
                    "VietnameseMeaning": "T√¥i ƒë√£ mua b√°nh m√¨ v√† tr·ª©ng."
                },
                "Details": {
                    "DetailedUsage": "1. Li·ªát k√™ m·ªôt danh s√°ch ƒë·∫ßy ƒë·ªß, to√†n di·ªán (A„Å®B). 2. Ch·ªâ ng∆∞·ªùi c√πng th·ª±c hi·ªán h√†nh ƒë·ªông (ÂèãÈÅî„Å®Ë©±„Åó„Åæ„Åô). 3. Tr√≠ch d·∫´n tr·ª±c ti·∫øp („Äå„ÅØ„ÅÑ„Äç„Å®Ë®Ä„ÅÑ„Åæ„Åó„Åü). 4. Ch·ªâ k·∫øt qu·∫£ t·ª± nhi√™n (Êò•„Å´„Å™„Çã„Å®„ÄÅÊöñ„Åã„Åè„Å™„Çã).",
                    "Nuances": "ƒê·ªÉ li·ªát k√™ kh√¥ng ƒë·∫ßy ƒë·ªß (v√¢n v√¢n), d√πng '„ÇÑ'. V√≠ d·ª•: 'Êú∫„ÅÆ‰∏ä„Å´Êú¨„ÇÑ„Éö„É≥„Å™„Å©„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ' (Tr√™n b√†n c√≥ s√°ch, b√∫t, v.v...)",
                    "MoreExamples": [
                        { "Japanese": "Êò®Êó•„ÄÅÂèãÈÅî„Å®Êò†Áîª„ÇíË¶ã„Åæ„Åó„Åü„ÄÇ", "Furigana": "„Åç„ÅÆ„ÅÜ„ÄÅ„Å®„ÇÇ„Å†„Å°„Å®„Åà„ÅÑ„Åå„Çí„Åø„Åæ„Åó„Åü„ÄÇ", "Romanji": "Kinou, tomodachi to eiga o mimashita.", "VietnameseMeaning": "H√¥m qua t√¥i ƒë√£ xem phim v·ªõi b·∫°n." },
                        { "Japanese": "ÂΩº„ÅØ„Äå„Åï„Çà„ÅÜ„Å™„Çâ„Äç„Å®Ë®Ä„Å£„Åü„ÄÇ", "Furigana": "„Åã„Çå„ÅØ„Äå„Åï„Çà„ÅÜ„Å™„Çâ„Äç„Å®„ÅÑ„Å£„Åü„ÄÇ", "Romanji": "Kare wa 'sayounara' to itta.", "VietnameseMeaning": "Anh ·∫•y ƒë√£ n√≥i 'T·∫°m bi·ªát'." }
                    ]
                }
            },
            {
                "STT": 9,
                "Particle": "„ÇÇ",
                "Reading": "mo",
                "VietnameseMeaning": "C≈©ng, ƒë·∫øn m·ª©c",
                "ExampleSentence": {
                    "Japanese": "ÁßÅ„ÇÇÂ≠¶Áîü„Åß„Åô„ÄÇ",
                    "Furigana": "„Çè„Åü„Åó„ÇÇ„Åå„Åè„Åõ„ÅÑ„Åß„Åô„ÄÇ",
                    "Romanji": "Watashi mo gakusei desu.",
                    "VietnameseMeaning": "T√¥i c≈©ng l√† h·ªçc sinh."
                },
                "Details": {
                    "DetailedUsage": "1. Th·ªÉ hi·ªán s·ª± t∆∞∆°ng ƒë·ªìng, thay th·∫ø cho „ÅØ, „Åå, „Çí (ÁßÅ„ÇÇË°å„Åç„Åæ„Åô). 2. Nh·∫•n m·∫°nh s·ªë l∆∞·ª£ng l·ªõn ho·∫∑c m·ª©c ƒë·ªô cao (ÔºëÊôÇÈñì„ÇÇÂæÖ„Å°„Åæ„Åó„Åü - ƒê√£ ƒë·ª£i ƒë·∫øn c·∫£ 1 ti·∫øng).",
                    "Nuances": "Khi d√πng v·ªõi d·∫°ng ph·ªß ƒë·ªãnh, n√≥ c√≥ nghƒ©a l√† 'c≈©ng kh√¥ng'. V√≠ d·ª•: '‰Ωï„ÇÇÈ£ü„Åπ„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ' (T√¥i ƒë√£ kh√¥ng ƒÉn g√¨ c·∫£).",
                    "MoreExamples": [
                        { "Japanese": "Êò®Êó•„ÇÇÈõ®„Åß„Åó„Åü„ÄÇ", "Furigana": "„Åç„ÅÆ„ÅÜ„ÇÇ„ÅÇ„ÇÅ„Åß„Åó„Åü„ÄÇ", "Romanji": "Kinou mo ame deshita.", "VietnameseMeaning": "H√¥m qua c≈©ng m∆∞a." },
                        { "Japanese": "ÔºëÔºê‰∫∫„ÇÇÊù•„Åæ„Åó„Åü„ÄÇ", "Furigana": "„Åò„ÇÖ„ÅÜ„Å´„Çì„ÇÇ„Åç„Åæ„Åó„Åü„ÄÇ", "Romanji": "Juunin mo kimashita.", "VietnameseMeaning": "C√≥ ƒë·∫øn 10 ng∆∞·ªùi ƒë√£ ƒë·∫øn." }
                    ]
                }
            },
            {
                "STT": 10,
                "Particle": "„Åã„Çâ",
                "Reading": "kara",
                "VietnameseMeaning": "T·ª´, v√¨",
                "ExampleSentence": {
                    "Japanese": "ÔºôÊôÇ„Åã„ÇâÂÉç„Åç„Åæ„Åô„ÄÇ",
                    "Furigana": "„Åè„Åò„Åã„Çâ „ÅØ„Åü„Çâ„Åç„Åæ„Åô„ÄÇ",
                    "Romanji": "Kuji kara hatarakimasu.",
                    "VietnameseMeaning": "T√¥i l√†m vi·ªác t·ª´ 9 gi·ªù."
                },
                "Details": {
                    "DetailedUsage": "1. Ch·ªâ ƒëi·ªÉm b·∫Øt ƒë·∫ßu v·ªÅ th·ªùi gian ho·∫∑c kh√¥ng gian (Êù±‰∫¨„Åã„Çâ). 2. Ch·ªâ nguy√™n li·ªáu („ÉØ„Ç§„É≥„ÅØ„Å∂„Å©„ÅÜ„Åã„Çâ‰Ωú„Çâ„Çå„Åæ„Åô). 3. Ch·ªâ nguy√™n nh√¢n, l√Ω do (ÊôÇÈñì„Åå„Å™„ÅÑ„Åã„Çâ„ÄÅË°å„Åç„Åæ„Åõ„Çì).",
                    "Nuances": "Th∆∞·ªùng ƒëi c·∫∑p v·ªõi '„Åæ„Åß' (ƒë·∫øn). '„Åã„Çâ' ch·ªâ l√Ω do mang t√≠nh ch·ªß quan c·ªßa ng∆∞·ªùi n√≥i, trong khi '„ÅÆ„Åß' (node) ch·ªâ l√Ω do kh√°ch quan h∆°n.",
                    "MoreExamples": [
                        { "Japanese": "ÂÆ∂„Åã„ÇâÈßÖ„Åæ„ÅßÊ≠©„Åç„Åæ„Åô„ÄÇ", "Furigana": "„ÅÑ„Åà„Åã„Çâ„Åà„Åç„Åæ„Åß„ÅÇ„Çã„Åç„Åæ„Åô„ÄÇ", "Romanji": "Ie kara eki made arukimasu.", "VietnameseMeaning": "T√¥i ƒëi b·ªô t·ª´ nh√† ƒë·∫øn ga." },
                        { "Japanese": "Âç±„Å™„ÅÑ„Åß„Åô„Åã„Çâ„ÄÅËß¶„Çâ„Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ„ÄÇ", "Furigana": "„ÅÇ„Å∂„Å™„ÅÑ„Åß„Åô„Åã„Çâ„ÄÅ„Åï„Çè„Çâ„Å™„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ„ÄÇ", "Romanji": "Abunai desu kara, sawaranaide kudasai.", "VietnameseMeaning": "V√¨ nguy hi·ªÉm n√™n xin ƒë·ª´ng ch·∫°m v√†o." }
                    ]
                }
            },
            {
                "STT": 11,
                "Particle": "„Åæ„Åß",
                "Reading": "made",
                "VietnameseMeaning": "ƒê·∫øn, cho ƒë·∫øn khi",
                "ExampleSentence": {
                    "Japanese": "ÔºïÊôÇ„Åæ„ÅßÂÉç„Åç„Åæ„Åô„ÄÇ",
                    "Furigana": "„Åî„Åò„Åæ„Åß„ÅØ„Åü„Çâ„Åç„Åæ„Åô„ÄÇ",
                    "Romanji": "Goji made hatarakimasu.",
                    "VietnameseMeaning": "T√¥i l√†m vi·ªác ƒë·∫øn 5 gi·ªù."
                },
                "Details": {
                    "DetailedUsage": "Ch·ªâ ƒëi·ªÉm k·∫øt th√∫c v·ªÅ th·ªùi gian ho·∫∑c kh√¥ng gian. N√≥ ng·ª• √Ω r·∫±ng h√†nh ƒë·ªông ho·∫∑c tr·∫°ng th√°i k√©o d√†i li√™n t·ª•c cho ƒë·∫øn ƒëi·ªÉm ƒë√≥.",
                    "Nuances": "Ph√¢n bi·ªát v·ªõi '„Åæ„Åß„Å´' (made ni). '„Åæ„Åß' ch·ªâ h√†nh ƒë·ªông k√©o d√†i ƒë·∫øn m·ªôt th·ªùi ƒëi·ªÉm, c√≤n '„Åæ„Åß„Å´' ch·ªâ h·∫°n ch√≥t m√† m·ªôt h√†nh ƒë·ªông ph·∫£i ƒë∆∞·ª£c ho√†n th√†nh. V√≠ d·ª•: 'ÔºïÊôÇ„Åæ„Åß„Å´„É¨„Éù„Éº„Éà„ÇíÂá∫„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ' (H√£y n·ªôp b√°o c√°o tr∆∞·ªõc 5 gi·ªù).",
                    "MoreExamples": [
                        { "Japanese": "Ê¨°„ÅÆÈßÖ„Åæ„Åß„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„ÄÇ", "Furigana": "„Å§„Åé„ÅÆ„Åà„Åç„Åæ„Åß„Åä„Å≠„Åå„ÅÑ„Åó„Åæ„Åô„ÄÇ", "Romanji": "Tsugi no eki made onegaishimasu.", "VietnameseMeaning": "L√†m ∆°n cho t√¥i ƒë·∫øn ga ti·∫øp theo." },
                        { "Japanese": "Â≠ê‰æõ„Åã„ÇâÂ§ß‰∫∫„Åæ„ÅßÊ•Ω„Åó„ÇÅ„Åæ„Åô„ÄÇ", "Furigana": "„Åì„Å©„ÇÇ„Åã„Çâ„Åä„Å®„Å™„Åæ„Åß„Åü„ÅÆ„Åó„ÇÅ„Åæ„Åô„ÄÇ", "Romanji": "Kodomo kara otona made tanoshimemasu.", "VietnameseMeaning": "T·ª´ tr·∫ª em ƒë·∫øn ng∆∞·ªùi l·ªõn ƒë·ªÅu c√≥ th·ªÉ th∆∞·ªüng th·ª©c." }
                    ]
                }
            },
            {
                "STT": 12,
                "Particle": "„ÇÑ",
                "Reading": "ya",
                "VietnameseMeaning": "V√† (li·ªát k√™ kh√¥ng ƒë·∫ßy ƒë·ªß)",
                "ExampleSentence": {
                    "Japanese": "Êú∫„ÅÆ‰∏ä„Å´Êú¨„ÇÑ„Éö„É≥„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ",
                    "Furigana": "„Å§„Åè„Åà„ÅÆ„ÅÜ„Åà„Å´„Åª„Çì„ÇÑ„Éö„É≥„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ",
                    "Romanji": "Tsukue no ue ni hon ya pen ga arimasu.",
                    "VietnameseMeaning": "Tr√™n b√†n c√≥ s√°ch v√† b√∫t (v√† nh·ªØng th·ª© kh√°c)."
                },
                "Details": {
                    "DetailedUsage": "D√πng ƒë·ªÉ li·ªát k√™ m·ªôt v√†i v√≠ d·ª• ti√™u bi·ªÉu t·ª´ m·ªôt danh s√°ch d√†i h∆°n. Th∆∞·ªùng ƒëi k√®m v·ªõi '„Å™„Å©' ·ªü cu·ªëi.",
                    "Nuances": "Kh√°c v·ªõi '„Å®' (d√πng ƒë·ªÉ li·ªát k√™ ƒë·∫ßy ƒë·ªß). D√πng '„ÇÑ' khi b·∫°n kh√¥ng mu·ªën ho·∫∑c kh√¥ng th·ªÉ li·ªát k√™ t·∫•t c·∫£ m·ªçi th·ª©.",
                    "MoreExamples": [
                        { "Japanese": "„Çπ„Éº„Éë„Éº„ÅßÈáéËèú„ÇÑÊûúÁâ©„ÇíË≤∑„ÅÑ„Åæ„Åó„Åü„ÄÇ", "Furigana": "„Çπ„Éº„Éë„Éº„Åß„ÇÑ„Åï„ÅÑ„ÇÑ„Åè„Å†„ÇÇ„ÅÆ„Çí„Åã„ÅÑ„Åæ„Åó„Åü„ÄÇ", "Romanji": "Suupaa de yasai ya kudamono o kaimashita.", "VietnameseMeaning": "T√¥i ƒë√£ mua rau v√† tr√°i c√¢y ·ªü si√™u th·ªã." },
                        { "Japanese": "‰ºë„Åø„ÅÆÊó•„Å´„ÅØ„ÄÅÊéÉÈô§„ÇÑÊ¥óÊøØ„Å™„Å©„Çí„Åó„Åæ„Åô„ÄÇ", "Furigana": "„ÇÑ„Åô„Åø„ÅÆ„Å≤„Å´„ÅØ„ÄÅ„Åù„ÅÜ„Åò„ÇÑ„Åõ„Çì„Åü„Åè„Å™„Å©„Çí„Åó„Åæ„Åô„ÄÇ", "Romanji": "Yasumi no hi niwa, souji ya sentaku nado o shimasu.", "VietnameseMeaning": "V√†o ng√†y ngh·ªâ, t√¥i l√†m nh·ªØng vi·ªác nh∆∞ d·ªçn d·∫πp v√† gi·∫∑t gi≈©." }
                    ]
                }
            }
        ]`;

        // Ph√¢n t√≠ch c√∫ ph√°p chu·ªói JSON th√†nh ƒë·ªëi t∆∞·ª£ng JavaScript
        const japaneseParticles = JSON.parse(japaneseParticlesString);

        // L·∫•y c√°c ph·∫ßn t·ª≠ DOM c·∫ßn thi·∫øt
        const particleTableBody = document.querySelector('#particleTable tbody');
        const toggleRomanjiButton = document.getElementById('toggleRomanji');
        const toggleFuriganaButton = document.getElementById('toggleFurigana');
        const userInput = document.getElementById('userInput');
        const checkButton = document.getElementById('checkButton');
        const feedbackDiv = document.getElementById('feedback');
        const typingPracticeSection = document.getElementById('typingPracticeSection');

        // Bi·∫øn tr·∫°ng th√°i ƒë·ªÉ ki·ªÉm so√°t hi·ªÉn th·ªã Romanji v√† Furigana
        let showRomanji = false; // M·∫∑c ƒë·ªãnh ·∫©n Romanji
        let showFurigana = true;

        /**
         * H√†m ph√°t √¢m vƒÉn b·∫£n ti·∫øng Nh·∫≠t.
         * S·ª≠ d·ª•ng SpeechSynthesis API c·ªßa tr√¨nh duy·ªát.
         * @param {string} text - VƒÉn b·∫£n c·∫ßn ph√°t √¢m.
         */
        function speakText(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ja-JP'; // ƒê·∫∑t ng√¥n ng·ªØ l√† ti·∫øng Nh·∫≠t
                utterance.rate = 0.9;
                speechSynthesis.speak(utterance);
            } else {
                feedbackDiv.textContent = 'Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph√°t √¢m.';
                feedbackDiv.style.color = 'red';
            }
        }

        /**
         * H√†m c·∫≠p nh·∫≠t hi·ªÉn th·ªã c·ªßa c√°c vƒÉn b·∫£n Romanji v√† Furigana.
         */
        function updateTextVisibility() {
            document.querySelectorAll('.romanji-text').forEach(span => {
                span.classList.toggle('hidden-text', !showRomanji);
            });
            document.querySelectorAll('.furigana-text').forEach(span => {
                span.classList.toggle('hidden-text', !showFurigana);
            });

            toggleRomanjiButton.textContent = showRomanji ? '·∫®n Romanji' : 'Hi·ªán Romanji';
            toggleFuriganaButton.textContent = showFurigana ? '·∫®n Furigana' : 'Hi·ªán Furigana';
        }

        /**
         * H√†m hi·ªÉn th·ªã c√°c h√†ng tr·ª£ t·ª´ v√†o b·∫£ng.
         */
        function renderTable() {
            particleTableBody.innerHTML = ''; // X√≥a c√°c h√†ng hi·ªán c√≥
            japaneseParticles.forEach(item => {
                const row = document.createElement('tr');
                row.dataset.particleId = item.STT;

                row.innerHTML = `
                    <td class="py-3 px-4 text-sm text-gray-700">${item.STT}</td>
                    <td class="py-3 px-4 text-lg font-bold text-indigo-700">${item.Particle}</td>
                    <td class="py-3 px-4 text-sm text-gray-700">${item.Reading}</td>
                    <td class="py-3 px-4 text-sm text-gray-700">${item.VietnameseMeaning}</td>
                    <td class="py-3 px-4 text-sm text-gray-700">
                        <span class="japanese-text">${item.ExampleSentence.Japanese}</span><br>
                        <span class="furigana-text text-blue-600">${item.ExampleSentence.Furigana}</span>
                        <span class="romanji-text text-gray-500">${item.ExampleSentence.Romanji}</span><br>
                        <span class="text-green-700">${item.ExampleSentence.VietnameseMeaning}</span>
                    </td>
                    <td class="py-3 px-4 text-sm text-gray-700">
                        <button class="play-button" onclick="speakText('${item.ExampleSentence.Japanese.replace(/'/g, "\\'")}')">Ph√°t √¢m</button>
                    </td>
                    <td class="py-3 px-4 text-sm text-gray-700">
                        <button class="expand-button" data-action="expand">Chi ti·∫øt</button>
                    </td>
                `;
                particleTableBody.appendChild(row);

                // T·∫°o h√†ng chi ti·∫øt ·∫©n
                const detailRow = document.createElement('tr');
                detailRow.classList.add('detail-row', 'hidden-text');
                detailRow.dataset.particleId = item.STT;
                
                let moreExamplesHTML = item.Details.MoreExamples.map(ex => `
                    <li class="ml-4 list-disc">
                        <span class="japanese-text">${ex.Japanese}</span><br>
                        <span class="furigana-text text-blue-600">${ex.Furigana}</span>
                        <span class="romanji-text text-gray-500">${ex.Romanji}</span><br>
                        <span class="text-green-700">${ex.VietnameseMeaning}</span>
                        <button class="play-button" onclick="speakText('${ex.Japanese.replace(/'/g, "\\'")}')">Nghe</button>
                    </li>
                `).join('');

                detailRow.innerHTML = `
                    <td colspan="7" class="p-4">
                        <div class="detail-content">
                            <h5 class="text-md font-semibold">C√°ch d√πng chi ti·∫øt:</h5>
                            <p>${item.Details.DetailedUsage}</p>
                            <h5 class="text-md font-semibold">L∆∞u √Ω / So s√°nh:</h5>
                            <p>${item.Details.Nuances}</p>
                            <h5 class="text-md font-semibold">V√≠ d·ª• th√™m:</h5>
                            <ul>${moreExamplesHTML}</ul>
                        </div>
                    </td>
                `;
                particleTableBody.appendChild(detailRow);
            });
            updateTextVisibility();
        }

        /**
         * H√†m chu·∫©n h√≥a vƒÉn b·∫£n ƒë·ªÉ so s√°nh.
         * @param {string} text - VƒÉn b·∫£n c·∫ßn chu·∫©n h√≥a.
         * @returns {string} VƒÉn b·∫£n ƒë√£ chu·∫©n h√≥a.
         */
        function normalizeText(text) {
            return text.toLowerCase().replace(/[.,\/#!$%\^&\*;:{}=\-_`~() ]/g,"").replace(/\s/g, '');
        }

        /**
         * H√†m t√≠nh to√°n v√† ƒë·∫∑t padding-bottom cho body.
         */
        function setBodyPadding() {
            const footerHeight = typingPracticeSection.offsetHeight;
            document.body.style.paddingBottom = `${footerHeight + 20}px`;
        }

        // L·∫Øng nghe s·ª± ki·ªán click cho n√∫t ki·ªÉm tra
        checkButton.addEventListener('click', () => {
            const userInputText = normalizeText(userInput.value);
            if (!userInputText) return;
            
            let isCorrect = false;

            for (const item of japaneseParticles) {
                const textsToCompare = [
                    item.Particle,
                    item.Reading,
                    item.ExampleSentence.Japanese,
                    item.ExampleSentence.Furigana
                ];
                item.Details.MoreExamples.forEach(ex => {
                    textsToCompare.push(ex.Japanese, ex.Furigana);
                });

                if (textsToCompare.some(text => normalizeText(text) === userInputText)) {
                    isCorrect = true;
                    break;
                }
            }

            if (isCorrect) {
                feedbackDiv.textContent = 'üéâ ƒê√∫ng r·ªìi!';
                feedbackDiv.style.color = 'green';
                userInput.value = '';
            } else {
                feedbackDiv.textContent = 'Sai r·ªìi. H√£y th·ª≠ l·∫°i!';
                feedbackDiv.style.color = 'red';
            }
        });
        
        userInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                checkButton.click();
            }
        });

        // L·∫Øng nghe s·ª± ki·ªán click cho n√∫t b·∫≠t/t·∫Øt Romanji
        toggleRomanjiButton.addEventListener('click', () => {
            showRomanji = !showRomanji;
            updateTextVisibility();
        });

        // L·∫Øng nghe s·ª± ki·ªán click cho n√∫t b·∫≠t/t·∫Øt Furigana
        toggleFuriganaButton.addEventListener('click', () => {
            showFurigana = !showFurigana;
            updateTextVisibility();
        });

        // L·∫Øng nghe s·ª± ki·ªán click cho c√°c n√∫t m·ªü r·ªông/thu g·ªçn
        particleTableBody.addEventListener('click', (event) => {
            const button = event.target.closest('.expand-button');
            if (button) {
                const row = button.closest('tr');
                const particleId = row.dataset.particleId;
                const detailRow = document.querySelector(`.detail-row[data-particle-id="${particleId}"]`);

                if (detailRow) {
                    detailRow.classList.toggle('hidden-text');
                    button.textContent = detailRow.classList.contains('hidden-text') ? 'Chi ti·∫øt' : 'Thu g·ªçn';
                    updateTextVisibility();
                }
            }
        });

        // Kh·ªüi t·∫°o
        document.addEventListener('DOMContentLoaded', () => {
            renderTable();
            setBodyPadding();
        });
        window.addEventListener('resize', setBodyPadding);
    </script>
</body>
</html>
