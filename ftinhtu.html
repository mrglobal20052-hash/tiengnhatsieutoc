<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AzaKanji - Flashcard T√≠nh T·ª´ N3</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-green: #22c55e; /* Green-500 */
            --primary-teal: #14b8a6;  /* Teal-500 */
            --bg-gradient: linear-gradient(135deg, #f0fdf4 0%, #ffffff 100%);
            --card-shadow: 0 20px 40px rgba(0,0,0,0.08);
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            overflow-x: hidden;
            touch-action: manipulation;
        }

        .kanji-font {
            font-family: 'Noto Sans JP', sans-serif;
        }

        .glow-aura {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(34, 197, 94, 0.1) 0%, rgba(255, 255, 255, 0) 70%);
            z-index: -1;
            animation: pulse 8s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.5; }
        }

        .perspective-container {
            perspective: 2000px;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            transform-style: preserve-3d;
            cursor: pointer;
        }

        .is-flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1.5rem;
            box-shadow: var(--card-shadow);
            border: 4px solid white;
        }

        .card-front {
            background: white;
            border: 6px solid var(--primary-green);
        }
        
        /* Level styling */
        .level-n5n4 .card-front { border-color: #22c55e; } /* Green */
        .level-n3 .card-front { border-color: #8b5cf6; }   /* Purple */

        .card-back {
            background: var(--primary-green);
            transform: rotateY(180deg);
        }
        
        .level-n5n4 .card-back { background: #dcfce7; } /* Light Green */
        .level-n3 .card-back { background: #f3e8ff; }   /* Light Purple */

        .word-main {
            font-size: 3rem;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 0.5rem;
        }
        
        .level-n5n4 .word-main { color: #15803d; }
        .level-n3 .word-main { color: #7e22ce; }

        .level-tag {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: #22c55e;
            color: white;
            padding: 0.3rem 1rem;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .level-n3 .level-tag { background: #8b5cf6; }

        .meaning-box {
            background: #dcfce7;
            padding: 0.8rem 2rem;
            border-radius: 999px;
            color: #14532d;
            font-weight: 700;
            font-size: 1.1rem;
            max-width: 90%;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
        }
        .level-n3 .meaning-box { background: #f3e8ff; color: #581c87; }

        .example-item {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 1.2rem;
            padding: 1rem;
            width: 100%;
            transition: all 0.3s ease;
            text-align: left;
            position: relative;
            margin-bottom: 0.8rem;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .speaker-btn {
            position: absolute;
            right: 0.8rem;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            color: #22c55e;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 50;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border: 2px solid #dcfce7;
            transition: transform 0.2s;
        }

        .speaker-btn:active {
            transform: translateY(-50%) scale(0.9);
            background: #22c55e;
            color: white;
        }

        .floating {
            animation: floating 4s ease-in-out infinite;
        }

        @keyframes floating {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        .scroll-box {
            overflow-y: auto;
            max-height: 100%;
            width: 100%;
            padding: 0.2rem;
        }
        
        .category-btn {
            padding: 0.5rem 1rem;
            border-radius: 99px;
            font-weight: bold;
            font-size: 0.9rem;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        .cat-active {
            background: white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }
        
        .shaking {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center p-4 min-h-screen">
    <div class="glow-aura"></div>

    <!-- Header -->
    <header class="text-center mb-4 w-full max-w-sm">
        <h1 class="text-2xl font-bold text-gray-800 tracking-tight flex items-center justify-center gap-2">
            <span class="text-3xl">üåø</span> Flashcard T√≠nh T·ª´
        </h1>
        <div class="flex flex-wrap justify-center gap-2 mt-4">
            <button onclick="filterCards('all')" id="btn-all" class="category-btn cat-active text-gray-600 bg-gray-100">T·∫•t c·∫£</button>
            <button onclick="filterCards('n5n4')" id="btn-n5n4" class="category-btn text-green-600 bg-green-50 border-green-200">N5/N4 C∆° B·∫£n</button>
            <button onclick="filterCards('n3')" id="btn-n3" class="category-btn text-purple-600 bg-purple-50 border-purple-200">N3 N√¢ng Cao</button>
            <button onclick="shuffleCards()" class="category-btn text-teal-600 bg-teal-50 border-teal-200" title="Tr·ªôn th·∫ª (Ph√≠m S)"><span class="text-lg">üîÄ</span></button>
        </div>
    </header>

    <!-- Main App -->
    <main class="w-full max-w-sm flex flex-col items-center">
        
        <div id="card-container" class="perspective-container w-full aspect-[4/5] mb-6 level-n5n4" 
             ontouchstart="handleTouchStart(event)" 
             ontouchmove="handleTouchMove(event)" 
             ontouchend="handleTouchEnd(event)">
             
            <div class="card-inner" id="card-inner">
                <!-- Front -->
                <div class="card-face card-front" onclick="toggleFlip()">
                    <div class="level-tag" id="ui-level">N5</div>
                    <div class="flex flex-col items-center justify-center w-full flex-1">
                        <div class="word-main floating kanji-font" id="ui-word">Â§ß„Åç„ÅÑ</div>
                        <div id="ui-reading" class="text-xl font-bold text-gray-500 mb-6 bg-gray-100 px-4 py-1 rounded-full kanji-font">„Åä„Åä„Åç„ÅÑ</div>
                        <div class="meaning-box mb-2 text-center" id="ui-meaning">To, l·ªõn</div>
                    </div>
                    <p class="text-gray-400 text-[10px] font-medium absolute bottom-6">Ch·∫°m ƒë·ªÉ xem v√≠ d·ª• ‚ú®</p>
                </div>
                
                <!-- Back -->
                <div class="card-face card-back">
                    <div class="scroll-box flex flex-col justify-center h-full w-full">
                        <div class="example-item shadow-sm">
                            <div class="pr-10">
                                <p class="text-lg font-bold text-gray-800 leading-snug kanji-font" id="ui-ex1-jp"></p>
                                <p class="text-xs text-gray-500 font-medium mt-1" id="ui-ex1-hira"></p>
                                <p class="text-sm text-gray-600 border-t border-gray-200 pt-1 mt-1 font-semibold" id="ui-ex1-vn"></p>
                            </div>
                            <button class="speaker-btn" onclick="speakText(1, event)">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
                            </button>
                        </div>

                        <div class="example-item shadow-sm">
                            <div class="pr-10">
                                <p class="text-lg font-bold text-gray-800 leading-snug kanji-font" id="ui-ex2-jp"></p>
                                <p class="text-xs text-gray-500 font-medium mt-1" id="ui-ex2-hira"></p>
                                <p class="text-sm text-gray-600 border-t border-gray-200 pt-1 mt-1 font-semibold" id="ui-ex2-vn"></p>
                            </div>
                            <button class="speaker-btn" onclick="speakText(2, event)">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
                            </button>
                        </div>
                    </div>
                    <div class="text-gray-500 font-bold text-[10px] cursor-pointer opacity-70 absolute bottom-4 w-full text-center" onclick="toggleFlip()">
                        ‚Ü∫ Quay l·∫°i
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="flex items-center space-x-6">
            <button onclick="changeCard(-1)" class="w-14 h-14 bg-white rounded-2xl shadow-lg flex items-center justify-center text-2xl hover:bg-gray-50 hover:scale-105 transition-all text-gray-700">‚Üê</button>
            <div class="bg-white/90 px-5 py-2 rounded-full shadow-inner border border-gray-200">
                <span class="text-xl font-bold text-gray-700" id="ui-counter">1 / 60</span>
            </div>
            <button onclick="changeCard(1)" class="w-14 h-14 bg-white rounded-2xl shadow-lg flex items-center justify-center text-2xl hover:bg-gray-50 hover:scale-105 transition-all text-gray-700">‚Üí</button>
        </div>
        <p class="text-gray-400 text-[10px] mt-4 hidden md:block">G·ª£i √Ω: D√πng ph√≠m ‚¨Ö ‚û° ƒë·ªÉ chuy·ªÉn, Space ƒë·ªÉ l·∫≠t, S ƒë·ªÉ tr·ªôn.</p>
    </main>

    <footer class="mt-4 text-center max-w-xs px-4 pb-4">
        <p class="text-gray-400 italic text-[11px] leading-relaxed">"S·ª≠a nƒÉng l∆∞·ª£ng c∆° th·ªÉ, h∆∞·ªõng t·ªõi m·ª•c ti√™u N3 th√°ng 7/2026."</p>
    </footer>

    <script>
        const adjectivesData = [
            // --- N5/N4 C∆† B·∫¢N ---
            { group: "n5n4", k: "Â§ß„Åç„ÅÑ", h: "„Åä„Åä„Åç„ÅÑ", m: "To, l·ªõn", ex1_j: "„Åì„ÅÆÈù¥„ÅØÂ§ß„Åç„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åì„ÅÆ „Åè„Å§„ÅØ „Åä„Åä„Åç„ÅÑ „Åß„Åô", ex1_v: "ƒê√¥i gi√†y n√†y to.", ex2_j: "Â§ß„Åç„Å™Â§¢„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ", ex2_h: "„Åä„Åä„Åç„Å™ „ÇÜ„ÇÅ„Åå „ÅÇ„Çä„Åæ„Åô", ex2_v: "T√¥i c√≥ m·ªôt gi·∫•c m∆° l·ªõn." },
            { group: "n5n4", k: "Â∞è„Åï„ÅÑ", h: "„Å°„ÅÑ„Åï„ÅÑ", m: "Nh·ªè, b√©", ex1_j: "Â≠ó„ÅåÂ∞è„Åï„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åò„Åå „Å°„ÅÑ„Åï„ÅÑ „Åß„Åô", ex1_v: "Ch·ªØ nh·ªè qu√°.", ex2_j: "Â∞è„Åï„ÅÑÂ£∞„ÅßË©±„Åô„ÄÇ", ex2_h: "„Å°„ÅÑ„Åï„ÅÑ „Åì„Åà„Åß „ÅØ„Å™„Åô", ex2_v: "N√≥i chuy·ªán b·∫±ng gi·ªçng nh·ªè." },
            { group: "n5n4", k: "È´ò„ÅÑ", h: "„Åü„Åã„ÅÑ", m: "Cao, ƒë·∫Øt", ex1_j: "ÂØåÂ£´Â±±„ÅØÈ´ò„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åµ„Åò„Åï„Çì„ÅØ „Åü„Åã„ÅÑ „Åß„Åô", ex1_v: "N√∫i Ph√∫ Sƒ© r·∫•t cao.", ex2_j: "ÂÄ§ÊÆµ„ÅåÈ´ò„ÅÑ„ÄÇ", ex2_h: "„Å≠„Å†„Çì„Åå „Åü„Åã„ÅÑ", ex2_v: "Gi√° c·∫£ ƒë·∫Øt ƒë·ªè." },
            { group: "n5n4", k: "‰Ωé„ÅÑ", h: "„Å≤„Åè„ÅÑ", m: "Th·∫•p", ex1_j: "ËÉå„Åå‰Ωé„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åõ„Åå „Å≤„Åè„ÅÑ „Åß„Åô", ex1_v: "D√°ng ng∆∞·ªùi th·∫•p.", ex2_j: "Ê∏©Â∫¶„Åå‰Ωé„ÅÑ„ÄÇ", ex2_h: "„Åä„Çì„Å©„Åå „Å≤„Åè„ÅÑ", ex2_v: "Nhi·ªát ƒë·ªô th·∫•p." },
            { group: "n5n4", k: "Èï∑„ÅÑ", h: "„Å™„Åå„ÅÑ", m: "D√†i", ex1_j: "È´™„ÅåÈï∑„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åã„Åø„Åå „Å™„Åå„ÅÑ „Åß„Åô", ex1_v: "T√≥c d√†i.", ex2_j: "Ë©±„ÅåÈï∑„ÅÑ„ÄÇ", ex2_h: "„ÅØ„Å™„Åó„Åå „Å™„Åå„ÅÑ", ex2_v: "C√¢u chuy·ªán d√†i d√≤ng." },
            { group: "n5n4", k: "Áü≠„ÅÑ", h: "„Åø„Åò„Åã„ÅÑ", m: "Ng·∫Øn", ex1_j: "„Çπ„Ç´„Éº„Éà„ÅåÁü≠„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Çπ„Ç´„Éº„Éà„Åå „Åø„Åò„Åã„ÅÑ „Åß„Åô", ex1_v: "V√°y ng·∫Øn.", ex2_j: "Áü≠„ÅÑÊôÇÈñì„ÄÇ", ex2_h: "„Åø„Åò„Åã„ÅÑ „Åò„Åã„Çì", ex2_v: "Th·ªùi gian ng·∫Øn ng·ªßi." },
            { group: "n5n4", k: "Â§™„ÅÑ", h: "„Åµ„Å®„ÅÑ", m: "B√©o, d√†y", ex1_j: "Ë∂≥„ÅåÂ§™„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„ÅÇ„Åó„Åå „Åµ„Å®„ÅÑ „Åß„Åô", ex1_v: "Ch√¢n to (m·∫≠p).", ex2_j: "Â§™„ÅÑÁ∑ö„ÇíÊèè„Åè„ÄÇ", ex2_h: "„Åµ„Å®„ÅÑ „Åõ„Çì„Çí „Åã„Åè", ex2_v: "V·∫Ω ƒë∆∞·ªùng n√©t ƒë·∫≠m/d√†y." },
            { group: "n5n4", k: "Á¥∞„ÅÑ", h: "„Åª„Åù„ÅÑ", m: "G·∫ßy, m·ªèng", ex1_j: "Êåá„ÅåÁ¥∞„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„ÇÜ„Å≥„Åå „Åª„Åù„ÅÑ „Åß„Åô", ex1_v: "Ng√≥n tay thon nh·ªè.", ex2_j: "ÈÅì„ÅåÁ¥∞„ÅÑ„ÄÇ", ex2_h: "„Åø„Å°„Åå „Åª„Åù„ÅÑ", ex2_v: "Con ƒë∆∞·ªùng h·∫πp/nh·ªè." },
            { group: "n5n4", k: "Â∫É„ÅÑ", h: "„Å≤„Çç„ÅÑ", m: "R·ªông", ex1_j: "ÈÉ®Â±ã„ÅåÂ∫É„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Å∏„ÇÑ„Åå „Å≤„Çç„ÅÑ „Åß„Åô", ex1_v: "CƒÉn ph√≤ng r·ªông r√£i.", ex2_j: "ÂøÉ„ÅåÂ∫É„ÅÑ‰∫∫„ÄÇ", ex2_h: "„Åì„Åì„Çç„Åå „Å≤„Çç„ÅÑ „Å≤„Å®", ex2_v: "Ng∆∞·ªùi c√≥ t·∫•m l√≤ng r·ªông l∆∞·ª£ng." },
            { group: "n5n4", k: "Áã≠„ÅÑ", h: "„Åõ„Åæ„ÅÑ", m: "H·∫πp", ex1_j: "ÈÅì„ÅåÁã≠„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åø„Å°„Åå „Åõ„Åæ„ÅÑ „Åß„Åô", ex1_v: "Con ƒë∆∞·ªùng ch·∫≠t h·∫πp.", ex2_j: "‰∏ñÈñì„ÅØÁã≠„ÅÑ„ÄÇ", ex2_h: "„Åõ„Åë„Çì„ÅØ „Åõ„Åæ„ÅÑ", ex2_v: "Th·∫ø gian th·∫≠t nh·ªè b√© (Tr√°i ƒë·∫•t tr√≤n)." },
            { group: "n5n4", k: "Êöë„ÅÑ", h: "„ÅÇ„Å§„ÅÑ", m: "N√≥ng (Th·ªùi ti·∫øt)", ex1_j: "‰ªäÊó•„ÅØÊöë„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åç„Çá„ÅÜ„ÅØ „ÅÇ„Å§„ÅÑ „Åß„Åô", ex1_v: "H√¥m nay tr·ªùi n√≥ng.", ex2_j: "Ëí∏„ÅóÊöë„ÅÑ„ÄÇ", ex2_h: "„ÇÄ„Åó„ÅÇ„Å§„ÅÑ", ex2_v: "N√≥ng oi b·ª©c." },
            { group: "n5n4", k: "ÂØí„ÅÑ", h: "„Åï„ÇÄ„ÅÑ", m: "L·∫°nh (Th·ªùi ti·∫øt)", ex1_j: "Â§ñ„ÅØÂØí„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åù„Å®„ÅØ „Åï„ÇÄ„ÅÑ „Åß„Åô", ex1_v: "B√™n ngo√†i tr·ªùi l·∫°nh.", ex2_j: "ÂØí„ÅÑÂÜ¨„ÄÇ", ex2_h: "„Åï„ÇÄ„ÅÑ „Åµ„ÇÜ", ex2_v: "M√πa ƒë√¥ng l·∫°nh gi√°." },
            { group: "n5n4", k: "ÁÜ±„ÅÑ", h: "„ÅÇ„Å§„ÅÑ", m: "N√≥ng (V·∫≠t/C·∫£m x√∫c)", ex1_j: "„ÅäËå∂„ÅåÁÜ±„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åä„Å°„ÇÉ„Åå „ÅÇ„Å§„ÅÑ „Åß„Åô", ex1_v: "Tr√† n√≥ng.", ex2_j: "ÁÜ±„ÅÑÂøÉ„ÄÇ", ex2_h: "„ÅÇ„Å§„ÅÑ „Åì„Åì„Çç", ex2_v: "Tr√°i tim nhi·ªát huy·∫øt." },
            { group: "n5n4", k: "ÂÜ∑„Åü„ÅÑ", h: "„Å§„ÇÅ„Åü„ÅÑ", m: "L·∫°nh (V·∫≠t/Th√°i ƒë·ªô)", ex1_j: "Ê∞¥„ÅåÂÜ∑„Åü„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åø„Åö„Åå „Å§„ÇÅ„Åü„ÅÑ „Åß„Åô", ex1_v: "N∆∞·ªõc l·∫°nh.", ex2_j: "ÊÖãÂ∫¶„ÅåÂÜ∑„Åü„ÅÑ„ÄÇ", ex2_h: "„Åü„ÅÑ„Å©„Åå „Å§„ÇÅ„Åü„ÅÑ", ex2_v: "Th√°i ƒë·ªô l·∫°nh l√πng." },
            { group: "n5n4", k: "Êöñ„Åã„ÅÑ", h: "„ÅÇ„Åü„Åü„Åã„ÅÑ", m: "·∫§m (Th·ªùi ti·∫øt)", ex1_j: "Êò•„ÅØÊöñ„Åã„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„ÅØ„Çã„ÅØ „ÅÇ„Åü„Åü„Åã„ÅÑ „Åß„Åô", ex1_v: "M√πa xu√¢n th√¨ ·∫•m √°p.", ex2_j: "Êöñ„Åã„ÅÑÊó•„ÄÇ", ex2_h: "„ÅÇ„Åü„Åü„Åã„ÅÑ „Å≤", ex2_v: "M·ªôt ng√†y ·∫•m √°p." },
            { group: "n5n4", k: "Ê∂º„Åó„ÅÑ", h: "„Åô„Åö„Åó„ÅÑ", m: "M√°t m·∫ª", ex1_j: "È¢®„ÅåÊ∂º„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åã„Åú„Åå „Åô„Åö„Åó„ÅÑ „Åß„Åô", ex1_v: "Gi√≥ m√°t m·∫ª.", ex2_j: "Ê∂º„Åó„ÅÑÂ†¥ÊâÄ„ÄÇ", ex2_h: "„Åô„Åö„Åó„ÅÑ „Å∞„Åó„Çá", ex2_v: "N∆°i m√°t m·∫ª." },
            { group: "n5n4", k: "ËâØ„ÅÑ", h: "„ÅÑ„ÅÑ", m: "T·ªët", ex1_j: "Â§©Ê∞ó„Åå„ÅÑ„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Å¶„Çì„Åç„Åå „ÅÑ„ÅÑ „Åß„Åô", ex1_v: "Th·ªùi ti·∫øt t·ªët.", ex2_j: "È†≠„Åå„ÅÑ„ÅÑ„ÄÇ", ex2_h: "„ÅÇ„Åü„Åæ„Åå „ÅÑ„ÅÑ", ex2_v: "Th√¥ng minh." },
            { group: "n5n4", k: "ÊÇ™„ÅÑ", h: "„Çè„Çã„ÅÑ", m: "X·∫•u", ex1_j: "ÁõÆ„ÅåÊÇ™„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„ÇÅ„Åå „Çè„Çã„ÅÑ „Åß„Åô", ex1_v: "M·∫Øt k√©m.", ex2_j: "Ê∞óÂàÜ„ÅåÊÇ™„ÅÑ„ÄÇ", ex2_h: "„Åç„Å∂„Çì„Åå „Çè„Çã„ÅÑ", ex2_v: "Kh√≥ ch·ªãu / C·∫£m th·∫•y kh√¥ng kh·ªèe." },
            { group: "n5n4", k: "Êñ∞„Åó„ÅÑ", h: "„ÅÇ„Åü„Çâ„Åó„ÅÑ", m: "M·ªõi", ex1_j: "Êñ∞„Åó„ÅÑËªä„Åß„Åô„ÄÇ", ex1_h: "„ÅÇ„Åü„Çâ„Åó„ÅÑ „Åè„Çã„Åæ „Åß„Åô", ex1_v: "L√† chi·∫øc xe m·ªõi.", ex2_j: "Êñ∞„Åó„Åè„Å™„Çã„ÄÇ", ex2_h: "„ÅÇ„Åü„Çâ„Åó„Åè „Å™„Çã", ex2_v: "Tr·ªü n√™n m·ªõi m·∫ª." },
            { group: "n5n4", k: "Âè§„ÅÑ", h: "„Åµ„Çã„ÅÑ", m: "C≈©", ex1_j: "„Åì„ÅÆÂÆ∂„ÅØÂè§„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åì„ÅÆ „ÅÑ„Åà„ÅØ „Åµ„Çã„ÅÑ „Åß„Åô", ex1_v: "Ng√¥i nh√† n√†y c≈© r·ªìi.", ex2_j: "Âè§„ÅÑËÄÉ„Åà„ÄÇ", ex2_h: "„Åµ„Çã„ÅÑ „Åã„Çì„Åå„Åà", ex2_v: "Suy nghƒ© c·ªï h·ªß." },
            { group: "n5n4", k: "Âº∑„ÅÑ", h: "„Å§„Çà„ÅÑ", m: "M·∫°nh", ex1_j: "È¢®„ÅåÂº∑„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åã„Åú„Åå „Å§„Çà„ÅÑ „Åß„Åô", ex1_v: "Gi√≥ m·∫°nh.", ex2_j: "„ÅäÈÖí„Å´Âº∑„ÅÑ„ÄÇ", ex2_h: "„Åä„Åï„Åë„Å´ „Å§„Çà„ÅÑ", ex2_v: "T·ª≠u l∆∞·ª£ng t·ªët (u·ªëng r∆∞·ª£u gi·ªèi)." },
            { group: "n5n4", k: "Âº±„ÅÑ", h: "„Çà„Çè„ÅÑ", m: "Y·∫øu", ex1_j: "‰Ωì„ÅåÂº±„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åã„Çâ„Å†„Åå „Çà„Çè„ÅÑ „Åß„Åô", ex1_v: "C∆° th·ªÉ y·∫øu ·ªõt.", ex2_j: "Ê∞ó„ÅåÂº±„ÅÑ„ÄÇ", ex2_h: "„Åç„Åå „Çà„Çè„ÅÑ", ex2_v: "Nh√∫t nh√°t / R·ª•t r√®." },
            { group: "n5n4", k: "Èõ£„Åó„ÅÑ", h: "„ÇÄ„Åö„Åã„Åó„ÅÑ", m: "Kh√≥", ex1_j: "Êó•Êú¨Ë™û„ÅØÈõ£„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Å´„Åª„Çì„Åî„ÅØ „ÇÄ„Åö„Åã„Åó„ÅÑ „Åß„Åô", ex1_v: "Ti·∫øng Nh·∫≠t kh√≥.", ex2_j: "Èõ£„Åó„ÅÑÈ°î„ÄÇ", ex2_h: "„ÇÄ„Åö„Åã„Åó„ÅÑ „Åã„Åä", ex2_v: "V·∫ª m·∫∑t ƒëƒÉm chi√™u (kh√≥ khƒÉn)." },
            { group: "n5n4", k: "Êòì„Åó„ÅÑ", h: "„ÇÑ„Åï„Åó„ÅÑ", m: "D·ªÖ", ex1_j: "„Åì„ÅÆÂïèÈ°å„ÅØÊòì„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åì„ÅÆ „ÇÇ„Çì„Å†„ÅÑ„ÅØ „ÇÑ„Åï„Åó„ÅÑ „Åß„Åô", ex1_v: "V·∫•n ƒë·ªÅ n√†y d·ªÖ.", ex2_j: "Êòì„Åó„ÅÑË®ÄËëâ„ÄÇ", ex2_h: "„ÇÑ„Åï„Åó„ÅÑ „Åì„Å®„Å∞", ex2_v: "T·ª´ ng·ªØ ƒë∆°n gi·∫£n." },
            { group: "n5n4", k: "Áîò„ÅÑ", h: "„ÅÇ„Åæ„ÅÑ", m: "Ng·ªçt / Nu√¥ng chi·ªÅu", ex1_j: "„Ç±„Éº„Ç≠„ÅåÁîò„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Ç±„Éº„Ç≠„Åå „ÅÇ„Åæ„ÅÑ „Åß„Åô", ex1_v: "B√°nh ng·ªçt.", ex2_j: "ËÄÉ„Åà„ÅåÁîò„ÅÑ„ÄÇ", ex2_h: "„Åã„Çì„Åå„Åà„Åå „ÅÇ„Åæ„ÅÑ", ex2_v: "Suy nghƒ© ng√¢y th∆° / ƒê∆°n gi·∫£n." },
            { group: "n5n4", k: "Ëæõ„ÅÑ", h: "„Åã„Çâ„ÅÑ", m: "Cay", ex1_j: "„Ç´„É¨„Éº„ÅåËæõ„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Ç´„É¨„Éº„Åå „Åã„Çâ„ÅÑ „Åß„Åô", ex1_v: "C√† ri cay.", ex2_j: "Ëæõ„ÅÑË©ï‰æ°„ÄÇ", ex2_h: "„Åã„Çâ„ÅÑ „Å≤„Çá„ÅÜ„Åã", ex2_v: "ƒê√°nh gi√° kh·∫Øt khe." },
            { group: "n5n4", k: "Âøô„Åó„ÅÑ", h: "„ÅÑ„Åù„Åå„Åó„ÅÑ", m: "B·∫≠n r·ªôn", ex1_j: "ÊØéÊó•Âøô„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åæ„ÅÑ„Å´„Å° „ÅÑ„Åù„Åå„Åó„ÅÑ „Åß„Åô", ex1_v: "M·ªói ng√†y ƒë·ªÅu b·∫≠n r·ªôn.", ex2_j: "ÁõÆ„ÅåÂõû„Çã„Åª„Å©Âøô„Åó„ÅÑ„ÄÇ", ex2_h: "„ÇÅ„Åå „Åæ„Çè„Çã „Åª„Å© „ÅÑ„Åù„Åå„Åó„ÅÑ", ex2_v: "B·∫≠n t·ªëi m·∫Øt t·ªëi m≈©i." },
            { group: "n5n4", k: "Â•Ω„Åç", h: "„Åô„Åç", m: "Th√≠ch", ex1_j: "Êó•Êú¨„ÅåÂ•Ω„Åç„Åß„Åô„ÄÇ", ex1_h: "„Å´„Åª„Çì„Åå „Åô„Åç „Åß„Åô", ex1_v: "T√¥i th√≠ch Nh·∫≠t B·∫£n.", ex2_j: "Â•Ω„Åç„Å™È£ü„ÅπÁâ©„ÄÇ", ex2_h: "„Åô„Åç„Å™ „Åü„Åπ„ÇÇ„ÅÆ", ex2_v: "ƒê·ªì ƒÉn y√™u th√≠ch." },
            { group: "n5n4", k: "Â´å„ÅÑ", h: "„Åç„Çâ„ÅÑ", m: "Gh√©t", ex1_j: "Á¥çË±Ü„ÅåÂ´å„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Å™„Å£„Å®„ÅÜ„Åå „Åç„Çâ„ÅÑ „Åß„Åô", ex1_v: "T√¥i gh√©t Natto.", ex2_j: "Ë≤†„Åë„ÅöÂ´å„ÅÑ„ÄÇ", ex2_h: "„Åæ„Åë„Åö „Åé„Çâ„ÅÑ", ex2_v: "Hi·∫øu th·∫Øng (Gh√©t thua cu·ªôc)." },
            { group: "n5n4", k: "‰∏äÊâã", h: "„Åò„Çá„ÅÜ„Åö", m: "Gi·ªèi", ex1_j: "Ê≠å„Åå‰∏äÊâã„Åß„Åô„ÄÇ", ex1_h: "„ÅÜ„Åü„Åå „Åò„Çá„ÅÜ„Åö „Åß„Åô", ex1_v: "H√°t hay.", ex2_j: "Êó•Êú¨Ë™û„Åå„Åä‰∏äÊâã„Åß„Åô„Å≠„ÄÇ", ex2_h: "„Å´„Åª„Çì„Åî„Åå „Åä„Åò„Çá„ÅÜ„Åö „Åß„Åô„Å≠", ex2_v: "Ti·∫øng Nh·∫≠t c·ªßa b·∫°n gi·ªèi qu√°." },
            { group: "n5n4", k: "‰∏ãÊâã", h: "„Å∏„Åü", m: "K√©m", ex1_j: "Áµµ„Åå‰∏ãÊâã„Åß„Åô„ÄÇ", ex1_h: "„Åà„Åå „Å∏„Åü „Åß„Åô", ex1_v: "V·∫Ω k√©m.", ex2_j: "Âè£‰∏ãÊâã„ÄÇ", ex2_h: "„Åè„Å° „Åπ„Åü", ex2_v: "K√©m ƒÉn n√≥i." },
            { group: "n5n4", k: "„Åç„Çå„ÅÑ", h: "„Åç„Çå„ÅÑ", m: "ƒê·∫πp / S·∫°ch", ex1_j: "Ëä±„Åå„Åç„Çå„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„ÅØ„Å™„Åå „Åç„Çå„ÅÑ „Åß„Åô", ex1_v: "Hoa ƒë·∫πp.", ex2_j: "ÈÉ®Â±ã„Çí„Åç„Çå„ÅÑ„Å´„Åô„Çã„ÄÇ", ex2_h: "„Å∏„ÇÑ„Çí „Åç„Çå„ÅÑ„Å´ „Åô„Çã", ex2_v: "D·ªçn d·∫πp ph√≤ng s·∫°ch s·∫Ω." },
            { group: "n5n4", k: "Èùô„Åã", h: "„Åó„Åö„Åã", m: "Y√™n tƒ©nh", ex1_j: "Âõ≥Êõ∏È§®„ÅØÈùô„Åã„Åß„Åô„ÄÇ", ex1_h: "„Å®„Åó„Çá„Åã„Çì„ÅØ „Åó„Åö„Åã „Åß„Åô", ex1_v: "Th∆∞ vi·ªán y√™n tƒ©nh.", ex2_j: "Èùô„Åã„Å™Â§ú„ÄÇ", ex2_h: "„Åó„Åö„Åã„Å™ „Çà„Çã", ex2_v: "ƒê√™m tƒ©nh l·∫∑ng." },
            { group: "n5n4", k: "‰æøÂà©", h: "„Åπ„Çì„Çä", m: "Ti·ªán l·ª£i", ex1_j: "„Çπ„Éû„Éõ„ÅØ‰æøÂà©„Åß„Åô„ÄÇ", ex1_h: "„Çπ„Éû„Éõ„ÅØ „Åπ„Çì„Çä „Åß„Åô", ex1_v: "ƒêi·ªán tho·∫°i th√¥ng minh r·∫•t ti·ªán.", ex2_j: "‰∫§ÈÄö„Åå‰æøÂà©„Å†„ÄÇ", ex2_h: "„Åì„ÅÜ„Å§„ÅÜ„Åå „Åπ„Çì„Çä „Å†", ex2_v: "Giao th√¥ng thu·∫≠n ti·ªán." },
            { group: "n5n4", k: "‰∏ç‰æø", h: "„Åµ„Åπ„Çì", m: "B·∫•t ti·ªán", ex1_j: "Ëªä„Åå„Å™„ÅÑ„Å®‰∏ç‰æø„Åß„Åô„ÄÇ", ex1_h: "„Åè„Çã„Åæ„Åå „Å™„ÅÑ„Å® „Åµ„Åπ„Çì „Åß„Åô", ex1_v: "Kh√¥ng c√≥ xe th√¨ b·∫•t ti·ªán.", ex2_j: "‰∏ç‰æø„Å™ÁîüÊ¥ª„ÄÇ", ex2_h: "„Åµ„Åπ„Çì„Å™ „Åõ„ÅÑ„Åã„Å§", ex2_v: "Cu·ªôc s·ªëng b·∫•t ti·ªán." },
            { group: "n5n4", k: "Êöá", h: "„Å≤„Åæ", m: "R·∫£nh r·ªói", ex1_j: "ÊòéÊó•„ÅØÊöá„Åß„Åô„ÄÇ", ex1_h: "„ÅÇ„Åó„Åü„ÅØ „Å≤„Åæ „Åß„Åô", ex1_v: "Ng√†y mai t√¥i r·∫£nh.", ex2_j: "Êöá„Å™ÊôÇÈñì„ÄÇ", ex2_h: "„Å≤„Åæ„Å™ „Åò„Åã„Çì", ex2_v: "Th·ªùi gian r·∫£nh." },
            { group: "n5n4", k: "Ë¶™Âàá", h: "„Åó„Çì„Åõ„Å§", m: "T·ªët b·ª•ng", ex1_j: "ÂΩº„ÅØË¶™Âàá„Åß„Åô„ÄÇ", ex1_h: "„Åã„Çå„ÅØ „Åó„Çì„Åõ„Å§ „Åß„Åô", ex1_v: "Anh ·∫•y t·ªët b·ª•ng.", ex2_j: "Ë¶™Âàá„Å™‰∫∫„ÄÇ", ex2_h: "„Åó„Çì„Åõ„Å§„Å™ „Å≤„Å®", ex2_v: "Ng∆∞·ªùi th√¢n thi·ªán/t·ªët b·ª•ng." },
            { group: "n5n4", k: "ÊúâÂêç", h: "„ÇÜ„ÅÜ„ÇÅ„ÅÑ", m: "N·ªïi ti·∫øng", ex1_j: "„Åì„ÅÆÂ∫ó„ÅØÊúâÂêç„Åß„Åô„ÄÇ", ex1_h: "„Åì„ÅÆ „Åø„Åõ„ÅØ „ÇÜ„ÅÜ„ÇÅ„ÅÑ „Åß„Åô", ex1_v: "C·ª≠a h√†ng n√†y n·ªïi ti·∫øng.", ex2_j: "ÊúâÂêç„Å™Ê≠åÊâã„ÄÇ", ex2_h: "„ÇÜ„ÅÜ„ÇÅ„ÅÑ„Å™ „Åã„Åó„ÇÖ", ex2_v: "Ca sƒ© n·ªïi ti·∫øng." },
            { group: "n5n4", k: "Â§ßÂàá", h: "„Åü„ÅÑ„Åõ„Å§", m: "Quan tr·ªçng", ex1_j: "ÂÆ∂Êóè„ÅåÂ§ßÂàá„Åß„Åô„ÄÇ", ex1_h: "„Åã„Åû„Åè„Åå „Åü„ÅÑ„Åõ„Å§ „Åß„Åô", ex1_v: "Gia ƒë√¨nh l√† quan tr·ªçng.", ex2_j: "Â§ßÂàá„Å™ÊÄù„ÅÑÂá∫„ÄÇ", ex2_h: "„Åü„ÅÑ„Åõ„Å§„Å™ „Åä„ÇÇ„ÅÑ„Åß", ex2_v: "K·ª∑ ni·ªám qu√Ω gi√°." },
            { group: "n5n4", k: "Â§ß‰∏àÂ§´", h: "„Å†„ÅÑ„Åò„Çá„ÅÜ„Å∂", m: "·ªîn / Kh√¥ng sao", ex1_j: "ÁßÅ„ÅØÂ§ß‰∏àÂ§´„Åß„Åô„ÄÇ", ex1_h: "„Çè„Åü„Åó„ÅØ „Å†„ÅÑ„Åò„Çá„ÅÜ„Å∂ „Åß„Åô", ex1_v: "T√¥i ·ªïn.", ex2_j: "Â§ß‰∏àÂ§´„Å™Ë®àÁîª„ÄÇ", ex2_h: "„Å†„ÅÑ„Åò„Çá„ÅÜ„Å∂„Å™ „Åë„ÅÑ„Åã„Åè", ex2_v: "K·∫ø ho·∫°ch ·ªïn th·ªèa." },

            // --- N3 N√ÇNG CAO ---
            { group: "n3", k: "Ëã¶„Åó„ÅÑ", h: "„Åè„Çã„Åó„ÅÑ", m: "ƒêau kh·ªï / Kh√≥ th·ªü", ex1_j: "ÁîüÊ¥ª„ÅåËã¶„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åõ„ÅÑ„Åã„Å§„Åå „Åè„Çã„Åó„ÅÑ „Åß„Åô", ex1_v: "Cu·ªôc s·ªëng kh·ªï c·ª±c.", ex2_j: "ËÉ∏„ÅåËã¶„Åó„ÅÑ„ÄÇ", ex2_h: "„ÇÄ„Å≠„Åå „Åè„Çã„Åó„ÅÑ", ex2_v: "ƒêau ng·ª±c / Kh√≥ th·ªü." },
            { group: "n3", k: "ÊÇî„Åó„ÅÑ", h: "„Åè„ÇÑ„Åó„ÅÑ", m: "Ti·∫øc nu·ªëi / Cay c√∫", ex1_j: "Ë≤†„Åë„Å¶ÊÇî„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åæ„Åë„Å¶ „Åè„ÇÑ„Åó„ÅÑ „Åß„Åô", ex1_v: "Thua n√™n th·∫•y cay c√∫/ti·∫øc.", ex2_j: "ÊÇî„Åó„ÅÑÊ∂ô„ÄÇ", ex2_h: "„Åè„ÇÑ„Åó„ÅÑ „Å™„Åø„Å†", ex2_v: "Gi·ªçt n∆∞·ªõc m·∫Øt ti·∫øc nu·ªëi." },
            { group: "n3", k: "Êáê„Åã„Åó„ÅÑ", h: "„Å™„Å§„Åã„Åó„ÅÑ", m: "Nh·ªõ nhung (Ho√†i ni·ªám)", ex1_j: "ÊïÖÈÉ∑„ÅåÊáê„Åã„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åµ„Çã„Åï„Å®„Åå „Å™„Å§„Åã„Åó„ÅÑ „Åß„Åô", ex1_v: "Nh·ªõ qu√™ h∆∞∆°ng.", ex2_j: "Êáê„Åã„Åó„ÅÑÊõ≤„ÄÇ", ex2_h: "„Å™„Å§„Åã„Åó„ÅÑ „Åç„Çá„Åè", ex2_v: "Ca kh√∫c ƒë·∫ßy ho√†i ni·ªám." },
            { group: "n3", k: "Áæ®„Åæ„Åó„ÅÑ", h: "„ÅÜ„Çâ„ÇÑ„Åæ„Åó„ÅÑ", m: "Ghen t·ªã", ex1_j: "ÂΩº„ÅåÁæ®„Åæ„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åã„Çå„Åå „ÅÜ„Çâ„ÇÑ„Åæ„Åó„ÅÑ „Åß„Åô", ex1_v: "Ghen t·ªã v·ªõi anh ·∫•y.", ex2_j: "Áæ®„Åæ„Åó„ÅÑÁîüÊ¥ª„ÄÇ", ex2_h: "„ÅÜ„Çâ„ÇÑ„Åæ„Åó„ÅÑ „Åõ„ÅÑ„Åã„Å§", ex2_v: "Cu·ªôc s·ªëng ƒë√°ng ghen t·ªã." },
            { group: "n3", k: "ÊÅ•„Åö„Åã„Åó„ÅÑ", h: "„ÅØ„Åö„Åã„Åó„ÅÑ", m: "X·∫•u h·ªï", ex1_j: "Â§±Êïó„Åó„Å¶ÊÅ•„Åö„Åã„Åó„ÅÑ„ÄÇ", ex1_h: "„Åó„Å£„Å±„ÅÑ „Åó„Å¶ „ÅØ„Åö„Åã„Åó„ÅÑ", ex1_v: "Th·∫•t b·∫°i n√™n x·∫•u h·ªï.", ex2_j: "ÊÅ•„Åö„Åã„Åó„ÅÑÂßø„ÄÇ", ex2_h: "„ÅØ„Åö„Åã„Åó„ÅÑ „Åô„Åå„Åü", ex2_v: "D√°ng v·∫ª ƒë√°ng x·∫•u h·ªï." },
            { group: "n3", k: "Ê≠£„Åó„ÅÑ", h: "„Åü„Å†„Åó„ÅÑ", m: "ƒê√∫ng ƒë·∫Øn", ex1_j: "Á≠î„Åà„ÅåÊ≠£„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åì„Åü„Åà„Åå „Åü„Å†„Åó„ÅÑ „Åß„Åô", ex1_v: "C√¢u tr·∫£ l·ªùi ch√≠nh x√°c.", ex2_j: "Ê≠£„Åó„ÅÑË°å„ÅÑ„ÄÇ", ex2_h: "„Åü„Å†„Åó„ÅÑ „Åä„Åì„Å™„ÅÑ", ex2_v: "H√†nh ƒë·ªông ƒë√∫ng ƒë·∫Øn." },
            { group: "n3", k: "Áèç„Åó„ÅÑ", h: "„ÇÅ„Åö„Çâ„Åó„ÅÑ", m: "Hi·∫øm / L·∫°", ex1_j: "„Åì„Çå„ÅØÁèç„Åó„ÅÑÈ≥•„Åß„Åô„ÄÇ", ex1_h: "„Åì„Çå„ÅØ „ÇÅ„Åö„Çâ„Åó„ÅÑ „Å®„Çä „Åß„Åô", ex1_v: "ƒê√¢y l√† lo√†i chim hi·∫øm.", ex2_j: "Áèç„Åó„ÅÑÂàáÊâã„ÄÇ", ex2_h: "„ÇÅ„Åö„Çâ„Åó„ÅÑ „Åç„Å£„Å¶", ex2_v: "Con tem qu√Ω hi·∫øm." },
            { group: "n3", k: "ÊøÄ„Åó„ÅÑ", h: "„ÅØ„Åí„Åó„ÅÑ", m: "M√£nh li·ªát", ex1_j: "Èõ®„ÅåÊøÄ„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„ÅÇ„ÇÅ„Åå „ÅØ„Åí„Åó„ÅÑ „Åß„Åô", ex1_v: "M∆∞a d·ªØ d·ªôi.", ex2_j: "ÊøÄ„Åó„ÅÑÈÅãÂãï„ÄÇ", ex2_h: "„ÅØ„Åí„Åó„ÅÑ „ÅÜ„Çì„Å©„ÅÜ", ex2_v: "V·∫≠n ƒë·ªông m·∫°nh." },
            { group: "n3", k: "Âãá„Åæ„Åó„ÅÑ", h: "„ÅÑ„Åï„Åæ„Åó„ÅÑ", m: "D≈©ng c·∫£m", ex1_j: "ÂÖµÂ£´„ÅåÂãá„Åæ„Åó„ÅÑ„ÄÇ", ex1_h: "„Å∏„ÅÑ„Åó„Åå „ÅÑ„Åï„Åæ„Åó„ÅÑ", ex1_v: "Ng∆∞·ªùi l√≠nh d≈©ng c·∫£m.", ex2_j: "Âãá„Åæ„Åó„ÅÑÂ£∞„ÄÇ", ex2_h: "„ÅÑ„Åï„Åæ„Åó„ÅÑ „Åì„Åà", ex2_v: "Gi·ªçng n√≥i h√πng d≈©ng." },
            { group: "n3", k: "ÊÄ™„Åó„ÅÑ", h: "„ÅÇ„ÇÑ„Åó„ÅÑ", m: "ƒê√°ng nghi", ex1_j: "„ÅÇ„ÅÆ‰∫∫„ÅØÊÄ™„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„ÅÇ„ÅÆ „Å≤„Å® „ÅØ „ÅÇ„ÇÑ„Åó„ÅÑ „Åß„Åô", ex1_v: "Ng∆∞·ªùi kia tr√¥ng ƒë√°ng nghi.", ex2_j: "ÊÄ™„Åó„ÅÑÈõ≤Ë°å„Åç„ÄÇ", ex2_h: "„ÅÇ„ÇÑ„Åó„ÅÑ „Åè„ÇÇ„ÇÜ„Åç", ex2_v: "M√¢y ƒëen v·∫ßn v≈© (ƒêi·ªÅm b√°o x·∫•u)." },
            { group: "n3", k: "ÊÅê„Çç„Åó„ÅÑ", h: "„Åä„Åù„Çç„Åó„ÅÑ", m: "ƒê√°ng s·ª£", ex1_j: "Âú∞Èúá„ÅØÊÅê„Çç„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åò„Åó„Çì„ÅØ „Åä„Åù„Çç„Åó„ÅÑ „Åß„Åô", ex1_v: "ƒê·ªông ƒë·∫•t th·∫≠t ƒë√°ng s·ª£.", ex2_j: "ÊÅê„Çç„Åó„ÅÑ‰∫ã‰ª∂„ÄÇ", ex2_h: "„Åä„Åù„Çç„Åó„ÅÑ „Åò„Åë„Çì", ex2_v: "V·ª• √°n kinh ho√†ng." },
            { group: "n3", k: "Ë©≥„Åó„ÅÑ", h: "„Åè„Çè„Åó„ÅÑ", m: "Chi ti·∫øt / T∆∞·ªùng t·∫≠n", ex1_j: "Ë™¨Êòé„ÅåË©≥„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åõ„Å§„ÇÅ„ÅÑ„Åå „Åè„Çè„Åó„ÅÑ „Åß„Åô", ex1_v: "Gi·∫£i th√≠ch chi ti·∫øt.", ex2_j: "„Éë„ÇΩ„Ç≥„É≥„Å´Ë©≥„Åó„ÅÑ„ÄÇ", ex2_h: "„Éë„ÇΩ„Ç≥„É≥„Å´ „Åè„Çè„Åó„ÅÑ", ex2_v: "Am hi·ªÉu v·ªÅ m√°y t√≠nh." },
            { group: "n3", k: "Èô∫„Åó„ÅÑ", h: "„Åë„Çè„Åó„ÅÑ", m: "Hi·ªÉm tr·ªü / Nghi√™m kh·∫Øc", ex1_j: "Â±±ÈÅì„ÅåÈô∫„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„ÇÑ„Åæ„Åø„Å°„Åå „Åë„Çè„Åó„ÅÑ „Åß„Åô", ex1_v: "ƒê∆∞·ªùng n√∫i hi·ªÉm tr·ªü.", ex2_j: "Èô∫„Åó„ÅÑÈ°î„ÄÇ", ex2_h: "„Åë„Çè„Åó„ÅÑ „Åã„Åä", ex2_v: "V·∫ª m·∫∑t nghi√™m ngh·ªã." },
            { group: "n3", k: "Á≠â„Åó„ÅÑ", h: "„Å≤„Å®„Åó„ÅÑ", m: "B·∫±ng nhau", ex1_j: "ÂÆüÂäõ„ÅØÁ≠â„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åò„Å§„Çä„Çá„Åè„ÅØ „Å≤„Å®„Åó„ÅÑ „Åß„Åô", ex1_v: "Th·ª±c l·ª±c ngang nhau.", ex2_j: "Ê≠ª„Å´Á≠â„Åó„ÅÑ„ÄÇ", ex2_h: "„Åó„Å´ „Å≤„Å®„Åó„ÅÑ", ex2_v: "Ch·∫≥ng kh√°c g√¨ ƒë√£ ch·∫øt." },
            { group: "n3", k: "Ëôö„Åó„ÅÑ", h: "„ÇÄ„Å™„Åó„ÅÑ", m: "Tr·ªëng r·ªóng / V√¥ √≠ch", ex1_j: "Âä™Âäõ„ÅåËôö„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Å©„Çä„Çá„Åè„Åå „ÇÄ„Å™„Åó„ÅÑ „Åß„Åô", ex1_v: "N·ªó l·ª±c v√¥ √≠ch.", ex2_j: "Ëôö„Åó„ÅÑÊ∞óÊåÅ„Å°„ÄÇ", ex2_h: "„ÇÄ„Å™„Åó„ÅÑ „Åç„ÇÇ„Å°", ex2_v: "C·∫£m gi√°c tr·ªëng r·ªóng." },
            { group: "n3", k: "Áú©„Åó„ÅÑ", h: "„Åæ„Å∂„Åó„ÅÑ", m: "Ch√≥i chang", ex1_j: "Â§™ÈôΩ„ÅåÁú©„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åü„ÅÑ„Çà„ÅÜ„Åå „Åæ„Å∂„Åó„ÅÑ „Åß„Åô", ex1_v: "M·∫∑t tr·ªùi ch√≥i chang.", ex2_j: "Áú©„Åó„ÅÑÁ¨ëÈ°î„ÄÇ", ex2_h: "„Åæ„Å∂„Åó„ÅÑ „Åà„Åå„Åä", ex2_v: "N·ª• c∆∞·ªùi t·ªèa n·∫Øng." },
            { group: "n3", k: "Èã≠„ÅÑ", h: "„Åô„Çã„Å©„ÅÑ", m: "S·∫Øc b√©n", ex1_j: "„Éä„Ç§„Éï„ÅåÈã≠„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Éä„Ç§„Éï„Åå „Åô„Çã„Å©„ÅÑ „Åß„Åô", ex1_v: "Con dao s·∫Øc.", ex2_j: "Èã≠„ÅÑË≥™Âïè„ÄÇ", ex2_h: "„Åô„Çã„Å©„ÅÑ „Åó„Å§„ÇÇ„Çì", ex2_v: "C√¢u h·ªèi s·∫Øc b√©n." },
            { group: "n3", k: "Èàç„ÅÑ", h: "„Å´„Å∂„ÅÑ", m: "C√πn / Ch·∫≠m ch·∫°p", ex1_j: "Âãï„Åç„ÅåÈàç„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„ÅÜ„Åî„Åç„Åå „Å´„Å∂„ÅÑ „Åß„Åô", ex1_v: "Chuy·ªÉn ƒë·ªông ch·∫≠m ch·∫°p.", ex2_j: "ÊÑüË¶ö„ÅåÈàç„ÅÑ„ÄÇ", ex2_h: "„Åã„Çì„Åã„Åè„Åå „Å´„Å∂„ÅÑ", ex2_v: "C·∫£m gi√°c t√™ li·ªát/ch·∫≠m ch·∫°p." },
            { group: "n3", k: "È®í„Åå„Åó„ÅÑ", h: "„Åï„Çè„Åå„Åó„ÅÑ", m: "·ªín √†o", ex1_j: "Â§ñ„ÅåÈ®í„Åå„Åó„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åù„Å®„Åå „Åï„Çè„Åå„Åó„ÅÑ „Åß„Åô", ex1_v: "B√™n ngo√†i ·ªìn √†o.", ex2_j: "È®í„Åå„Åó„ÅÑÈÄö„Çä„ÄÇ", ex2_h: "„Åï„Çè„Åå„Åó„ÅÑ „Å®„Åä„Çä", ex2_v: "Con ph·ªë huy√™n n√°o." },
            { group: "n3", k: "Ê∑±„ÅÑ", h: "„Åµ„Åã„ÅÑ", m: "S√¢u", ex1_j: "Â∑ù„ÅåÊ∑±„ÅÑ„Åß„Åô„ÄÇ", ex1_h: "„Åã„Çè„Åå „Åµ„Åã„ÅÑ „Åß„Åô", ex1_v: "S√¥ng s√¢u.", ex2_j: "ÊÑèÂë≥„ÅåÊ∑±„ÅÑ„ÄÇ", ex2_h: "„ÅÑ„Åø„Åå „Åµ„Åã„ÅÑ", ex2_v: "√ù nghƒ©a s√¢u s·∫Øc." },
            { group: "n3", k: "Á©è„ÇÑ„Åã", h: "„Åä„Å†„ÇÑ„Åã", m: "√în h√≤a / ƒêi·ªÅm tƒ©nh", ex1_j: "ÊÄßÊ†º„ÅåÁ©è„ÇÑ„Åã„Åß„Åô„ÄÇ", ex1_h: "„Åõ„ÅÑ„Åã„Åè„Åå „Åä„Å†„ÇÑ„Åã „Åß„Åô", ex1_v: "T√≠nh c√°ch √¥n h√≤a.", ex2_j: "Á©è„ÇÑ„Åã„Å™Êµ∑„ÄÇ", ex2_h: "„Åä„Å†„ÇÑ„Åã„Å™ „ÅÜ„Åø", ex2_v: "Bi·ªÉn l·∫∑ng." },
            { group: "n3", k: "ÁàΩ„ÇÑ„Åã", h: "„Åï„Çè„ÇÑ„Åã", m: "S·∫£ng kho√°i / D·ªÖ ch·ªãu", ex1_j: "Ê∞óÂàÜ„ÅåÁàΩ„ÇÑ„Åã„Åß„Åô„ÄÇ", ex1_h: "„Åç„Å∂„Çì„Åå „Åï„Çè„ÇÑ„Åã „Åß„Åô", ex1_v: "T√¢m tr·∫°ng s·∫£ng kho√°i.", ex2_j: "ÁàΩ„ÇÑ„Åã„Å™È¢®„ÄÇ", ex2_h: "„Åï„Çè„ÇÑ„Åã„Å™ „Åã„Åú", ex2_v: "L√†n gi√≥ m√°t l√†nh." },
            { group: "n3", k: "Ë§áÈõë", h: "„Åµ„Åè„Åñ„Å§", m: "Ph·ª©c t·∫°p", ex1_j: "‰ªïÁµÑ„Åø„ÅåË§áÈõë„Åß„Åô„ÄÇ", ex1_h: "„Åó„Åè„Åø„Åå „Åµ„Åè„Åñ„Å§ „Åß„Åô", ex1_v: "C∆° c·∫•u ph·ª©c t·∫°p.", ex2_j: "Ë§áÈõë„Å™ÂøÉÂ¢É„ÄÇ", ex2_h: "„Åµ„Åè„Åñ„Å§„Å™ „Åó„Çì„Åç„Çá„ÅÜ", ex2_v: "T√¢m tr·∫°ng r·ªëi b·ªùi." },
            { group: "n3", k: "Ë≤¥Èáç", h: "„Åç„Å°„Çá„ÅÜ", m: "Qu√Ω gi√°", ex1_j: "Ë≤¥Èáç„Å™‰ΩìÈ®ì„Åß„Åô„ÄÇ", ex1_h: "„Åç„Å°„Çá„ÅÜ„Å™ „Åü„ÅÑ„Åë„Çì „Åß„Åô", ex1_v: "Tr·∫£i nghi·ªám qu√Ω gi√°.", ex2_j: "Ë≤¥ÈáçÂìÅ„ÄÇ", ex2_h: "„Åç„Å°„Çá„ÅÜ„Å≤„Çì", ex2_v: "ƒê·ªì qu√Ω gi√°." },
            { group: "n3", k: "ÈÇ™È≠î", h: "„Åò„ÇÉ„Åæ", m: "C·∫£n tr·ªü / Phi·ªÅn", ex1_j: "‰ªï‰∫ã„ÅÆÈÇ™È≠î„Åß„Åô„ÄÇ", ex1_h: "„Åó„Åî„Å®„ÅÆ „Åò„ÇÉ„Åæ „Åß„Åô", ex1_v: "C·∫£n tr·ªü c√¥ng vi·ªác.", ex2_j: "„ÅäÈÇ™È≠î„Åó„Åæ„Åô„ÄÇ", ex2_h: "„Åä„Åò„ÇÉ„Åæ „Åó„Åæ„Åô", ex2_v: "Xin l·ªói ƒë√£ l√†m phi·ªÅn (Khi v√†o nh√†)." },
            { group: "n3", k: "Âø´ÈÅ©", h: "„Åã„ÅÑ„Å¶„Åç", m: "Tho·∫£i m√°i", ex1_j: "Âø´ÈÅ©„Å™ÈÉ®Â±ã„Åß„Åô„ÄÇ", ex1_h: "„Åã„ÅÑ„Å¶„Åç„Å™ „Å∏„ÇÑ „Åß„Åô", ex1_v: "CƒÉn ph√≤ng ti·ªán nghi/tho·∫£i m√°i.", ex2_j: "Âø´ÈÅ©„Å´ÈÅé„Åî„Åô„ÄÇ", ex2_h: "„Åã„ÅÑ„Å¶„Åç„Å´ „Åô„Åî„Åô", ex2_v: "S·ªëng tho·∫£i m√°i." },
            { group: "n3", k: "Ê∑±Âàª", h: "„Åó„Çì„Åì„Åè", m: "Nghi√™m tr·ªçng", ex1_j: "ÂïèÈ°å„ÅåÊ∑±Âàª„Åß„Åô„ÄÇ", ex1_h: "„ÇÇ„Çì„Å†„ÅÑ„Åå „Åó„Çì„Åì„Åè „Åß„Åô", ex1_v: "V·∫•n ƒë·ªÅ nghi√™m tr·ªçng.", ex2_j: "Ê∑±Âàª„Å™È°î„ÄÇ", ex2_h: "„Åó„Çì„Åì„Åè„Å™ „Åã„Åä", ex2_v: "V·∫ª m·∫∑t nghi√™m tr·ªçng." },
            { group: "n3", k: "ÈÅ©ÂΩì", h: "„Å¶„Åç„Å®„ÅÜ", m: "Th√≠ch h·ª£p / Qua loa", ex1_j: "ÈÅ©ÂΩì„Å™Ë®ÄËëâ„ÄÇ", ex1_h: "„Å¶„Åç„Å®„ÅÜ„Å™ „Åì„Å®„Å∞", ex1_v: "T·ª´ ng·ªØ th√≠ch h·ª£p.", ex2_j: "ÈÅ©ÂΩì„Å´„ÇÑ„Çã„ÄÇ", ex2_h: "„Å¶„Åç„Å®„ÅÜ„Å´ „ÇÑ„Çã", ex2_v: "L√†m qua loa/ƒë·∫°i kh√°i." },
            { group: "n3", k: "Áã¨Áâπ", h: "„Å©„Åè„Å®„Åè", m: "ƒê·ªôc ƒë√°o", ex1_j: "Áã¨Áâπ„Å™Âë≥„Åß„Åô„ÄÇ", ex1_h: "„Å©„Åè„Å®„Åè„Å™ „ÅÇ„Åò „Åß„Åô", ex1_v: "H∆∞∆°ng v·ªã ƒë·ªôc ƒë√°o.", ex2_j: "Áã¨Áâπ„Å™Èõ∞Âõ≤Ê∞ó„ÄÇ", ex2_h: "„Å©„Åè„Å®„Åè„Å™ „Åµ„Çì„ÅÑ„Åç", ex2_v: "B·∫ßu kh√¥ng kh√≠ ƒë·∫∑c bi·ªát." },
            { group: "n3", k: "ÊÆãÂøµ", h: "„Åñ„Çì„Å≠„Çì", m: "ƒê√°ng ti·∫øc", ex1_j: "„Åù„Çå„ÅØÊÆãÂøµ„Åß„Åô„ÄÇ", ex1_h: "„Åù„Çå„ÅØ „Åñ„Çì„Å≠„Çì „Åß„Åô", ex1_v: "ƒêi·ªÅu ƒë√≥ th·∫≠t ƒë√°ng ti·∫øc.", ex2_j: "ÊÆãÂøµ„Å™ÁµêÊûú„ÄÇ", ex2_h: "„Åñ„Çì„Å≠„Çì„Å™ „Åë„Å£„Åã", ex2_v: "K·∫øt qu·∫£ ƒë√°ng ti·∫øc." },
            { group: "n3", k: "Áõõ„Çì", h: "„Åï„Åã„Çì", m: "Th·ªãnh h√†nh / Ph√°t ƒë·∫°t", ex1_j: "„Çπ„Éù„Éº„ÉÑ„ÅåÁõõ„Çì„Åß„Åô„ÄÇ", ex1_h: "„Çπ„Éù„Éº„ÉÑ„Åå „Åï„Åã„Çì „Åß„Åô", ex1_v: "Th·ªÉ thao r·∫•t th·ªãnh h√†nh.", ex2_j: "Áõõ„Çì„Å™ÊãçÊâã„ÄÇ", ex2_h: "„Åï„Åã„Çì„Å™ „ÅØ„Åè„Åó„ÇÖ", ex2_v: "Tr√†ng ph√°o tay n·ªìng nhi·ªát." },
            { group: "n3", k: "Â§¢‰∏≠", h: "„ÇÄ„Å°„ÇÖ„ÅÜ", m: "Say m√™", ex1_j: "„Ç≤„Éº„É†„Å´Â§¢‰∏≠„Åß„Åô„ÄÇ", ex1_h: "„Ç≤„Éº„É†„Å´ „ÇÄ„Å°„ÇÖ„ÅÜ „Åß„Åô", ex1_v: "Say m√™ ch∆°i game.", ex2_j: "Â§¢‰∏≠„ÅßËµ∞„Çã„ÄÇ", ex2_h: "„ÇÄ„Å°„ÇÖ„ÅÜ„Åß „ÅØ„Åó„Çã", ex2_v: "C·∫Øm ƒë·∫ßu ch·∫°y (qu√™n h·∫øt xung quanh)." },
            { group: "n3", k: "‰∏ÅÂØß", h: "„Å¶„ÅÑ„Å≠„ÅÑ", m: "L·ªãch s·ª± / C·∫©n th·∫≠n", ex1_j: "‰∏ÅÂØß„Å™Ë®ÄËëâ„ÄÇ", ex1_h: "„Å¶„ÅÑ„Å≠„ÅÑ„Å™ „Åì„Å®„Å∞", ex1_v: "L·ªùi l·∫Ω l·ªãch s·ª±.", ex2_j: "‰∏ÅÂØß„Å´Êõ∏„Åè„ÄÇ", ex2_h: "„Å¶„ÅÑ„Å≠„ÅÑ„Å´ „Åã„Åè", ex2_v: "Vi·∫øt n·∫Øn n√≥t/c·∫©n th·∫≠n." }
        ];

        let activeCards = [...adjectivesData];
        let currentIndex = 0;
        let isFlipped = false;

        function filterCards(group) {
            // Update buttons
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('cat-active', 'bg-white', 'shadow-md');
                if (group === 'all' && btn.id === 'btn-all') btn.classList.add('cat-active', 'text-gray-800');
                if (group === 'n5n4' && btn.id === 'btn-n5n4') btn.classList.add('cat-active');
                if (group === 'n3' && btn.id === 'btn-n3') btn.classList.add('cat-active');
            });

            if (group === 'all') activeCards = [...adjectivesData];
            else activeCards = adjectivesData.filter(item => item.group === group);
            
            currentIndex = 0;
            isFlipped = false;
            document.getElementById('card-container').classList.remove('is-flipped');
            updateUI();
        }

        function shuffleCards() {
            const container = document.getElementById('card-container');
            container.classList.add('shaking');
            setTimeout(() => container.classList.remove('shaking'), 500);

            for (let i = activeCards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [activeCards[i], activeCards[j]] = [activeCards[j], activeCards[i]];
            }
            
            currentIndex = 0;
            isFlipped = false;
            container.classList.remove('is-flipped');
            updateUI();
        }

        function toggleFlip() {
            isFlipped = !isFlipped;
            const card = document.getElementById('card-container');
            if (isFlipped) card.classList.add('is-flipped');
            else card.classList.remove('is-flipped');
        }

        function updateUI() {
            if (activeCards.length === 0) return;
            const data = activeCards[currentIndex];
            const cardContainer = document.getElementById('card-container');
            const cardInner = document.getElementById('card-inner');
            
            cardInner.style.opacity = '0';
            
            setTimeout(() => {
                // Apply theme based on group
                if(data.group === 'n3') {
                    cardContainer.classList.remove('level-n5n4');
                    cardContainer.classList.add('level-n3');
                    document.getElementById('ui-level').innerText = "N3";
                } else {
                    cardContainer.classList.remove('level-n3');
                    cardContainer.classList.add('level-n5n4');
                    document.getElementById('ui-level').innerText = "N5/N4";
                }

                document.getElementById('ui-word').innerText = data.k;
                document.getElementById('ui-reading').innerText = data.h;
                document.getElementById('ui-meaning').innerText = data.m;
                document.getElementById('ui-ex1-jp').innerText = data.ex1_j;
                document.getElementById('ui-ex1-hira').innerText = data.ex1_h;
                document.getElementById('ui-ex1-vn').innerText = data.ex1_v;
                document.getElementById('ui-ex2-jp').innerText = data.ex2_j;
                document.getElementById('ui-ex2-hira').innerText = data.ex2_h;
                document.getElementById('ui-ex2-vn').innerText = data.ex2_v;
                document.getElementById('ui-counter').innerText = `${currentIndex + 1} / ${activeCards.length}`;
                
                cardInner.style.opacity = '1';
            }, 200);
        }

        function changeCard(dir) {
            isFlipped = false;
            document.getElementById('card-container').classList.remove('is-flipped');
            
            setTimeout(() => {
                currentIndex += dir;
                if (currentIndex >= activeCards.length) currentIndex = 0;
                if (currentIndex < 0) currentIndex = activeCards.length - 1;
                updateUI();
            }, 150);
        }

        function speakText(exampleNum, event) {
            event.stopPropagation();
            const data = activeCards[currentIndex];
            const text = exampleNum === 1 ? data.ex1_j : data.ex2_j;
            
            if (window.speechSynthesis.speaking) window.speechSynthesis.cancel();

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ja-JP';
            utterance.rate = 0.85;

            const voices = window.speechSynthesis.getVoices();
            const jaVoice = voices.find(v => v.lang === 'ja-JP' || v.lang.includes('ja'));
            if (jaVoice) utterance.voice = jaVoice;

            window.speechSynthesis.speak(utterance);
        }

        // Touch & Keyboard
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') changeCard(1);
            else if (e.key === 'ArrowLeft') changeCard(-1);
            else if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); toggleFlip(); }
            else if (e.key === 's' || e.key === 'S') shuffleCards();
        });

        let touchStartX = 0;
        let touchEndX = 0;
        function handleTouchStart(e) { touchStartX = e.changedTouches[0].screenX; }
        function handleTouchMove(e) {}
        function handleTouchEnd(e) {
            touchEndX = e.changedTouches[0].screenX;
            if (touchEndX < touchStartX - 50) changeCard(1);
            if (touchEndX > touchStartX + 50) changeCard(-1);
        }

        if ('speechSynthesis' in window) {
            window.speechSynthesis.onvoiceschanged = () => window.speechSynthesis.getVoices();
        }

        window.onload = updateUI;
    </script>
</body>
</html>
