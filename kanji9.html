<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AzaKanji - NgÃ y 9/24 (80 HÃ¡n Tá»±)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Nunito', sans-serif; background-color: #f0f9ff; overflow-x: hidden; }
        .kanji-font { font-family: 'Noto Sans JP', sans-serif; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }

        /* Animations */
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .modal-enter { animation: modalIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes modalIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        .correct-anim { animation: pulse-green 0.5s; }
        @keyframes pulse-green { 0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); } 100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); } }
        
        .wrong-anim { animation: shake 0.4s; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }

        /* Tab Active State */
        .tab-active { background-color: #0369a1; color: white; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        .tab-inactive { background-color: #e0f2fe; color: #0c4a6e; }

        /* Stroke Grid Styles */
        .stroke-path { fill: none; stroke: #333; stroke-width: 3; stroke-linecap: round; stroke-linejoin: round; }
        .stroke-grid-box { border: 1px solid #e5e7eb; background-color: white; position: relative; }
        .stroke-grid-box::after { content: ''; position: absolute; top: 0; left: 50%; width: 1px; height: 100%; background: repeating-linear-gradient(to bottom, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); z-index: 0; }
        .stroke-grid-box::before { content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 1px; background: repeating-linear-gradient(to right, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); z-index: 0; }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-sky-700 text-white shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 py-3">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center space-x-3 cursor-pointer" onclick="location.reload()">
                    <i class="fas fa-torii-gate text-3xl text-yellow-400"></i>
                    <div>
                        <h1 class="text-xl font-bold uppercase tracking-wider">AZAKANJI</h1>
                        <p class="text-xs text-sky-200">Kanji siÃªu tá»‘c, há»c rá»™ng hiá»ƒu sÃ¢u</p>
                    </div>
                </div>
                
                <div class="flex items-center gap-2 overflow-x-auto max-w-full pb-1 md:pb-0">
                    <div class="flex bg-sky-800 rounded-lg p-1">
                        <button onclick="switchTab('learn')" id="tab-learn" class="px-4 py-2 rounded-md text-sm font-bold transition whitespace-nowrap tab-active">
                            <i class="fas fa-book-open mr-2"></i>Há»c Táº­p
                        </button>
                        <button onclick="switchTab('quiz')" id="tab-quiz" class="px-4 py-2 rounded-md text-sm font-bold transition whitespace-nowrap tab-inactive ml-1">
                            <i class="fas fa-gamepad mr-2"></i>Kiá»ƒm Tra
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6 flex-grow" id="app-container">
        
        <!-- LEARN SECTION -->
        <div id="learn-section" class="fade-in">
            <div class="mb-6 bg-white p-4 rounded-xl shadow-sm border-l-4 border-sky-500 flex justify-between items-center">
                <div>
                    <h3 class="text-lg font-bold text-gray-800 mb-1"><i class="fas fa-calendar-day text-sky-500 mr-2"></i>NgÃ y 9: 80 HÃ¡n Tá»± (N3)</h3>
                    <p class="text-sm text-gray-600">XÃ£ há»™i, Tá»± nhiÃªn & Äá»i sá»‘ng (Pháº§n 1).</p>
                </div>
            </div>
            
            <div id="kanji-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                <!-- Cards will be injected here -->
            </div>
        </div>

        <!-- QUIZ SECTION -->
        <div id="quiz-section" class="hidden fade-in max-w-2xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200">
                <div class="bg-gradient-to-r from-emerald-500 to-teal-600 p-6 text-white flex justify-between items-center">
                    <div>
                        <h2 class="text-xl font-bold"><i class="fas fa-puzzle-piece mr-2"></i>Thá»­ ThÃ¡ch NgÃ y 9</h2>
                        <p class="text-emerald-100 text-xs mt-1">Ã”n táº­p 80 chá»¯ vá»«a há»c</p>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-emerald-200 uppercase font-bold">Äiá»ƒm sá»‘</div>
                        <div class="text-3xl font-bold" id="score-display">0</div>
                    </div>
                </div>
                
                <div class="p-6 md:p-8">
                    <!-- Progress Bar -->
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-6">
                        <div id="quiz-progress" class="bg-emerald-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>

                    <div id="question-area" class="text-center mb-8">
                        <div class="text-gray-500 text-sm font-bold mb-4 uppercase tracking-wide">CÃ¢u há»i <span id="q-current">1</span> / <span id="q-total">10</span></div>
                        <div class="mb-4">
                            <span class="text-6xl kanji-font font-bold text-gray-800" id="quiz-kanji-display"></span>
                        </div>
                        <div class="text-lg text-gray-600 font-medium" id="quiz-question-text">HÃ¡n tá»± nÃ y cÃ³ nghÄ©a lÃ  gÃ¬?</div>
                    </div>

                    <div id="options-area" class="grid grid-cols-2 gap-4 mb-6">
                        <!-- Options injected here -->
                    </div>

                    <div id="feedback-area" class="hidden bg-gray-50 rounded-xl p-4 border border-gray-200 text-left animate-fade-in">
                        <div id="feedback-title" class="font-bold text-lg mb-2 flex items-center"></div>
                        <p id="feedback-detail" class="text-gray-600 text-sm mb-3"></p>
                        <button onclick="nextQuestion()" class="w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 rounded-lg shadow transition">Tiáº¿p tá»¥c <i class="fas fa-arrow-right ml-2"></i></button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- STROKE ORDER MODAL -->
    <div id="stroke-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeStrokeModal()"></div>
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl w-full modal-enter relative">
                <div class="bg-sky-600 px-4 py-3 flex justify-between items-center text-white">
                    <h3 class="font-bold text-lg"><i class="fas fa-pen-nib mr-2"></i>Táº­p Viáº¿t: <span id="stroke-modal-char" class="text-2xl ml-2 font-bold"></span></h3>
                    <button onclick="closeStrokeModal()" class="hover:text-gray-200 text-2xl">&times;</button>
                </div>
                <div class="p-4 md:p-6 bg-gray-50 max-h-[80vh] overflow-y-auto">
                    <div class="flex flex-col md:flex-row gap-6 md:gap-8 items-center md:items-start justify-center">
                        <div class="bg-white p-4 rounded-lg shadow border border-gray-200 text-center w-full md:w-auto">
                            <p class="text-xs text-gray-500 mb-2 font-bold uppercase tracking-wider">MÃ´ phá»ng</p>
                            <div id="stroke-animation-container" class="w-40 h-40 mx-auto bg-white border border-gray-300 relative stroke-grid-box flex items-center justify-center">
                                <span class="text-gray-400 text-xs">Äang táº£i...</span>
                            </div>
                            <button onclick="replayStrokeAnimation()" class="mt-3 text-sm bg-sky-100 text-sky-700 px-4 py-2 rounded-full hover:bg-sky-200 transition w-full font-bold flex items-center justify-center"><i class="fas fa-redo mr-2"></i> Viáº¿t láº¡i</button>
                        </div>
                        <div class="flex-1 w-full">
                            <p class="text-xs text-gray-500 mb-3 font-bold uppercase tracking-wider text-center md:text-left">Thá»© tá»± nÃ©t</p>
                            <div id="stroke-grid-container" class="flex flex-wrap gap-2 justify-center md:justify-start"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- DATA DAY 9 (80 Kanji N3 - AzaKanji Method) ---
        const kanjiData = [
            // Abstract & Concepts - 10
            { char: "æ„›", nghiaHV: "ÃI", nghiaTV: "YÃªu", on: "ã‚¢ã‚¤", kun: "-", ti: "Nháº­n (**Thá»¥ å—**) tÃ¬nh cáº£m tá»« trÃ¡i tim (**TÃ¢m å¿ƒ**).", ta: "**Ai** (Ai) yÃªu ai.", examples: [{ w: "æ„›", r: "ã‚ã„", m: "TÃ¬nh yÃªu" }, { w: "æ„›ã™ã‚‹", r: "ã‚ã„ã™ã‚‹", m: "YÃªu" }] },
            { char: "æ¡ˆ", nghiaHV: "ÃN", nghiaTV: "Äá» Ã¡n/PhÆ°Æ¡ng Ã¡n", on: "ã‚¢ãƒ³", kun: "-", ti: "Äáº·t sá»± an tÃ¢m (**An å®‰**) lÃªn bÃ n gá»— (**Má»™c æœ¨**).", ta: "**An** (An) tÃ¢m vá»›i Ä‘á» Ã¡n.", examples: [{ w: "æ¡ˆå†…", r: "ã‚ã‚“ãªã„", m: "HÆ°á»›ng dáº«n" }, { w: "ææ¡ˆ", r: "ã¦ã„ã‚ã‚“", m: "Äá» xuáº¥t" }] },
            { char: "ä»¥", nghiaHV: "DÄ¨", nghiaTV: "Láº¥y lÃ m má»‘c", on: "ã‚¤", kun: "-", ti: "NgÆ°á»i (**NhÃ¢n äºº** - biáº¿n thá»ƒ) cÃ y ruá»™ng láº¥y má»‘c.", ta: "**Y** (I) nhÆ° dÄ© vÃ£ng.", examples: [{ w: "ä»¥ä¸Š", r: "ã„ã˜ã‚‡ã†", m: "Trá»Ÿ lÃªn" }, { w: "ä»¥ä¸‹", r: "ã„ã‹", m: "Trá»Ÿ xuá»‘ng" }] },
            { char: "è¡£", nghiaHV: "Y", nghiaTV: "Y phá»¥c", on: "ã‚¤", kun: "ã“ã‚ã‚‚", ti: "Äáº§u (**Äáº§u äº **) máº·c Ã¡o che thÃ¢n.", ta: "**Y** (I) phá»¥c **CÃ´ RÃ´ MÃ´** (Koromo).", examples: [{ w: "è¡£æœ", r: "ã„ãµã", m: "Y phá»¥c" }, { w: "è¡£é¡", r: "ã„ã‚‹ã„", m: "Quáº§n Ã¡o" }] },
            { char: "ä½", nghiaHV: "Vá»Š", nghiaTV: "Vá»‹ trÃ­/Háº¡ng", on: "ã‚¤", kun: "ãã‚‰ã„", ti: "NgÆ°á»i (**NhÃ¢n äº»**) Ä‘á»©ng (**Láº­p ç«‹**) á»Ÿ vá»‹ trÃ­.", ta: "**Y** (I) nhÆ° **CÆ° Ra** (Kurai) á»Ÿ vá»‹ trÃ­.", examples: [{ w: "ä½ç½®", r: "ã„ã¡", m: "Vá»‹ trÃ­" }, { w: "ä¸€ä½", r: "ã„ã¡ã„", m: "Vá»‹ trÃ­ sá»‘ 1" }] },
            { char: "å›²", nghiaHV: "VI", nghiaTV: "Bao vÃ¢y", on: "ã‚¤", kun: "ã‹ã“", ti: "VÃ¢y quanh (**Vi å›—**) cÃ¡i giáº¿ng (**Tá»‰nh äº•**).", ta: "**Y** (I) phá»¥c **Ca CÃ´** (Kako) bao vÃ¢y.", examples: [{ w: "ç¯„å›²", r: "ã¯ã‚“ã„", m: "Pháº¡m vi" }, { w: "å›²ã‚€", r: "ã‹ã“ã‚€", m: "Bao quanh" }] },
            { char: "èƒƒ", nghiaHV: "Vá»Š", nghiaTV: "Dáº¡ dÃ y", on: "ã‚¤", kun: "-", ti: "Dáº¡ dÃ y lÃ  thá»‹t (**Nhá»¥c æœˆ**) chá»©a thá»©c Äƒn nhÆ° ruá»™ng (**Äiá»n ç”°**).", ta: "**Y** (I) tÃ¡ chá»¯a dáº¡ dÃ y.", examples: [{ w: "èƒƒ", r: "ã„", m: "Dáº¡ dÃ y" }, { w: "èƒƒç‚", r: "ã„ãˆã‚“", m: "ViÃªm dáº¡ dÃ y" }] },
            { char: "å°", nghiaHV: "áº¤N", nghiaTV: "Dáº¥u/In", on: "ã‚¤ãƒ³", kun: "ã—ã‚‹ã—", ti: "MÃ³ng vuá»‘t (**Tráº£o çˆ«**) Ä‘Ã³ng dáº¥u (**Tiáº¿t å©**).", ta: "**In** (In) dáº¥u **Si RÆ° Si** (Shirushi).", examples: [{ w: "å°åˆ·", r: "ã„ã‚“ã•ã¤", m: "In áº¥n" }, { w: "ç›®å°", r: "ã‚ã˜ã‚‹ã—", m: "Dáº¥u hiá»‡u" }] },
            { char: "è‹±", nghiaHV: "ANH", nghiaTV: "Anh/TÃ i giá»i", on: "ã‚¨ã‚¤", kun: "-", ti: "Cá» (**Tháº£o è‰¹**) á»Ÿ trung tÃ¢m (**Æ¯Æ¡ng å¤®**) nÆ°á»›c Anh.", ta: "**ÃŠ** (Ei) tiáº¿ng Anh.", examples: [{ w: "è‹±èª", r: "ãˆã„ã”", m: "Tiáº¿ng Anh" }, { w: "è‹±é›„", r: "ãˆã„ã‚†ã†", m: "Anh hÃ¹ng" }] },
            { char: "æ „", nghiaHV: "VINH", nghiaTV: "Vinh quang", on: "ã‚¨ã‚¤", kun: "ã•ã‹", ti: "CÃ¢y (**Má»™c æœ¨**) Ä‘á»™i vÆ°Æ¡ng miá»‡n (**Má»‹ch å†–**) rá»±c rá»¡.", ta: "**ÃŠ** (Ei) **Sa Ca** (Saka) vinh quang.", examples: [{ w: "æ „é¤Š", r: "ãˆã„ã‚ˆã†", m: "Dinh dÆ°á»¡ng" }, { w: "æ „ãˆã‚‹", r: "ã•ã‹ãˆã‚‹", m: "Phá»“n vinh" }] },

            // Materials & Nature - 10
            { char: "å¡©", nghiaHV: "DIÃŠM", nghiaTV: "Muá»‘i", on: "ã‚¨ãƒ³", kun: "ã—ãŠ", ti: "NgÆ°á»i (**NhÃ¢n äº»**) náº±m trÃªn Ä‘áº¥t (**Thá»• åœŸ**) canh Ä‘Ä©a (**MÃ£nh çš¿**) muá»‘i.", ta: "**Em** (En) Äƒn **Si Ã”** (Shio) muá»‘i.", examples: [{ w: "å¡©åˆ†", r: "ãˆã‚“ã¶ã‚“", m: "LÆ°á»£ng muá»‘i" }, { w: "å¡©", r: "ã—ãŠ", m: "Muá»‘i" }] },
            { char: "å„„", nghiaHV: "á»¨C", nghiaTV: "100 triá»‡u", on: "ã‚ªã‚¯", kun: "-", ti: "NgÆ°á»i (**NhÃ¢n äº»**) cÃ³ Ã½ (**Ã æ„**) chÃ­ kiáº¿m trÄƒm triá»‡u.", ta: "**á»c** (Oku) Ä‘áº£o trÄƒm triá»‡u.", examples: [{ w: "ä¸€å„„", r: "ã„ã¡ãŠã", m: "100 triá»‡u" }] },
            { char: "è²¨", nghiaHV: "HÃ“A", nghiaTV: "HÃ ng hÃ³a/Tiá»n", on: "ã‚«", kun: "-", ti: "NgÆ°á»i (**NhÃ¢n äº»**) dÃ¹ng thÃ¬a (**Chá»§y åŒ•**) Ä‘á»•i tiá»n (**Bá»‘i è²**).", ta: "**Ca** (Ka) mua hÃ ng hÃ³a.", examples: [{ w: "è²¨ç‰©", r: "ã‹ã‚‚ã¤", m: "HÃ ng hÃ³a" }, { w: "é€šè²¨", r: "ã¤ã†ã‹", m: "Tiá»n tá»‡" }] },
            { char: "èª²", nghiaHV: "KHÃ“A", nghiaTV: "BÃ i há»c/Khoa", on: "ã‚«", kun: "-", ti: "NÃ³i (**NgÃ´n è¨€**) vá» káº¿t quáº£ (**Quáº£ æœ**) khÃ³a há»c.", ta: "**Ca** (Ka) há»c bÃ i.", examples: [{ w: "èª²é•·", r: "ã‹ã¡ã‚‡ã†", m: "TrÆ°á»Ÿng khoa" }, { w: "èª²é¡Œ", r: "ã‹ã ã„", m: "Chá»§ Ä‘á»" }] },
            { char: "èŠ½", nghiaHV: "NHA", nghiaTV: "Máº§m", on: "ã‚¬", kun: "ã‚", ti: "Cá» (**Tháº£o è‰¹**) má»c rÄƒng (**Nha ç‰™**) lÃ  máº§m.", ta: "**GÃ ** (Ga) Äƒn **MÃª** (Me) máº§m cÃ¢y.", examples: [{ w: "ç™ºèŠ½", r: "ã¯ã¤ãŒ", m: "Náº£y máº§m" }, { w: "èŠ½", r: "ã‚", m: "Máº§m" }] },
            { char: "æ”¹", nghiaHV: "Cáº¢I", nghiaTV: "Sá»­a Ä‘á»•i", on: "ã‚«ã‚¤", kun: "ã‚ã‚‰ãŸ", ti: "Tá»± mÃ¬nh (**Ká»· å·±**) bá»‹ Ä‘Ã¡nh (**Phá»™c æ”µ**) nÃªn pháº£i sá»­a Ä‘á»•i.", ta: "**Cai** (Kai) quáº£n **A Ra Ta** (Arata) sá»­a Ä‘á»•i.", examples: [{ w: "æ”¹å–„", r: "ã‹ã„ãœã‚“", m: "Cáº£i thiá»‡n" }, { w: "æ”¹ã‚ã‚‹", r: "ã‚ã‚‰ãŸã‚ã‚‹", m: "Sá»­a Ä‘á»•i" }] },
            { char: "æ¢°", nghiaHV: "GIá»šI", nghiaTV: "MÃ¡y mÃ³c", on: "ã‚«ã‚¤", kun: "-", ti: "CÃ¢y (**Má»™c æœ¨**) giá»›i (**Giá»›i æˆ’**) háº¡n lÃ m mÃ¡y.", ta: "**Cai** (Kai) quáº£n mÃ¡y mÃ³c.", examples: [{ w: "æ©Ÿæ¢°", r: "ãã‹ã„", m: "MÃ¡y mÃ³c" }] },
            { char: "å®³", nghiaHV: "Háº I", nghiaTV: "Háº¡i", on: "ã‚¬ã‚¤", kun: "-", ti: "Trong nhÃ  (**MiÃªn å®€**) lá»i nÃ³i (**Kháº©u å£**) gÃ¢y háº¡i (**Phong ä¸°**).", ta: "**Gai** (Gai) gÃ³c gÃ¢y háº¡i.", examples: [{ w: "æå®³", r: "ãã‚“ãŒã„", m: "Tá»•n háº¡i" }, { w: "å…¬å®³", r: "ã“ã†ãŒã„", m: "Ã” nhiá»…m" }] },
            { char: "å„", nghiaHV: "CÃC", nghiaTV: "Má»—i/CÃ¡c", on: "ã‚«ã‚¯", kun: "ãŠã®ãŠã®", ti: "NgÆ°á»i Ä‘i sau (**Truy å¤‚**) cÃ¡i miá»‡ng (**Kháº©u å£**) nÃ³i má»—i ngÆ°á»i má»™t Ã½.", ta: "**Ca** (Kaku) cÃ¡c **Ã” NÃ´** (Ono) má»—i ngÆ°á»i.", examples: [{ w: "å„è‡ª", r: "ã‹ãã˜", m: "Má»—i ngÆ°á»i" }, { w: "å„é§…", r: "ã‹ããˆã", m: "Má»—i ga" }] },
            { char: "è¦š", nghiaHV: "GIÃC", nghiaTV: "Nhá»›/Thá»©c", on: "ã‚«ã‚¯", kun: "ãŠã¼", ti: "Tháº¥y (**Kiáº¿n è¦‹**) há»c (**Há»c âº**) dÆ°á»›i mÃ¡i nhÃ  (**Má»‹ch å†–**) lÃ  nhá»›.", ta: "**Ca** (Kaku) hÃ¡t **Ã” BÃ´** (Obo) nhá»› bÃ i.", examples: [{ w: "æ„Ÿè¦š", r: "ã‹ã‚“ã‹ã", m: "Cáº£m giÃ¡c" }, { w: "è¦šãˆã‚‹", r: "ãŠã¼ãˆã‚‹", m: "Nhá»›" }] },

            // Society & Organization - 10
            { char: "å®Œ", nghiaHV: "HOÃ€N", nghiaTV: "HoÃ n thÃ nh", on: "ã‚«ãƒ³", kun: "-", ti: "NhÃ  (**MiÃªn å®€**) nguyÃªn (**NguyÃªn å…ƒ**) váº¹n hoÃ n thÃ nh.", ta: "**Can** (Kan) Ä‘áº£m hoÃ n thÃ nh.", examples: [{ w: "å®Œæˆ", r: "ã‹ã‚“ã›ã„", m: "HoÃ n thÃ nh" }, { w: "å®Œå…¨", r: "ã‹ã‚“ãœã‚“", m: "HoÃ n toÃ n" }] },
            { char: "å®˜", nghiaHV: "QUAN", nghiaTV: "Quan chá»©c", on: "ã‚«ãƒ³", kun: "-", ti: "DÆ°á»›i mÃ¡i nhÃ  (**MiÃªn å®€**) cÃ³ hai cÃ¡i miá»‡ng (**Kháº©u å£**) quan chá»©c.", ta: "**Can** (Kan) Ä‘áº£m lÃ m quan.", examples: [{ w: "è­¦å®˜", r: "ã‘ã„ã‹ã‚“", m: "Cáº£nh sÃ¡t" }, { w: "å¤–äº¤å®˜", r: "ãŒã„ã“ã†ã‹ã‚“", m: "NhÃ  ngoáº¡i giao" }] },
            { char: "ç®¡", nghiaHV: "QUáº¢N", nghiaTV: "á»ng/Quáº£n lÃ½", on: "ã‚«ãƒ³", kun: "ãã ", ti: "á»ng tre (**TrÃºc ç«¹**) quan (**Quan å®˜**) dÃ¹ng.", ta: "**Can** (Kan) Ä‘áº£m **CÆ° Äa** (Kuda) quáº£n lÃ½.", examples: [{ w: "ç®¡ç†", r: "ã‹ã‚“ã‚Š", m: "Quáº£n lÃ½" }, { w: "æ°´é“ç®¡", r: "ã™ã„ã©ã†ã‹ã‚“", m: "á»ng nÆ°á»›c" }] },
            { char: "é–¢", nghiaHV: "QUAN", nghiaTV: "LiÃªn quan", on: "ã‚«ãƒ³", kun: "ã‹ã‹", ti: "Cá»•ng (**MÃ´n é–€**) ná»‘i thiÃªn Ä‘Æ°á»ng (**ThiÃªn å¤©** - biáº¿n thá»ƒ).", ta: "**Can** (Kan) thiá»‡p **Ca Ca** (Kaka) liÃªn quan.", examples: [{ w: "é–¢ä¿‚", r: "ã‹ã‚“ã‘ã„", m: "Quan há»‡" }, { w: "é–¢ã‚ã‚‹", r: "ã‹ã‹ã‚ã‚‹", m: "LiÃªn quan" }] },
            { char: "è¦³", nghiaHV: "QUAN", nghiaTV: "Quan sÃ¡t", on: "ã‚«ãƒ³", kun: "ã¿", ti: "Con chim (**Chuy éš¹**) nhÃ¬n (**Kiáº¿n è¦‹**) quan sÃ¡t.", ta: "**Can** (Kan) Ä‘áº£m **Mi** (Mi) quan sÃ¡t.", examples: [{ w: "è¦³å…‰", r: "ã‹ã‚“ã“ã†", m: "Tham quan" }, { w: "è¦³ã‚‹", r: "ã¿ã‚‹", m: "Xem" }] },
            { char: "é¡˜", nghiaHV: "NGUYá»†N", nghiaTV: "Cáº§u nguyá»‡n", on: "ã‚¬ãƒ³", kun: "ã­ãŒ", ti: "CÃ¡i Ä‘áº§u (**Hiá»‡t é **) nguyÃªn (**NguyÃªn åŸ**) váº¹n cáº§u nguyá»‡n.", ta: "**Gan** (Gan) lÃ¬ **NÃª Ga** (Nega) cáº§u nguyá»‡n.", examples: [{ w: "é¡˜æ›¸", r: "ãŒã‚“ã—ã‚‡", m: "ÄÆ¡n xin" }, { w: "é¡˜ã†", r: "ã­ãŒã†", m: "Cáº§u mong" }] },
            { char: "å¸Œ", nghiaHV: "HY", nghiaTV: "Hy vá»ng", on: "ã‚­", kun: "-", ti: "KhÄƒn (**CÃ¢n å·¾**) che dáº¥u chÃ©o (**HÃ o çˆ»**) hy vá»ng.", ta: "**Ki** (Ki) láº¡ hy vá»ng.", examples: [{ w: "å¸Œæœ›", r: "ãã¼ã†", m: "Hy vá»ng" }, { w: "å¸Œå°‘", r: "ãã—ã‚‡ã†", m: "Hiáº¿m cÃ³" }] },
            { char: "å­£", nghiaHV: "QUÃ", nghiaTV: "MÃ¹a", on: "ã‚­", kun: "-", ti: "CÃ¢y lÃºa (**HÃ²a ç¦¾**) non (**Tá»­ å­**) theo mÃ¹a.", ta: "**Ki** (Ki) láº¡ mÃ¹a quÃ½.", examples: [{ w: "å­£ç¯€", r: "ãã›ã¤", m: "MÃ¹a" }, { w: "é›¨å­£", r: "ã†ã", m: "MÃ¹a mÆ°a" }] },
            { char: "ç´€", nghiaHV: "Ká»¶", nghiaTV: "Ká»· luáº­t/Tháº¿ ká»·", on: "ã‚­", kun: "-", ti: "Sá»£i chá»‰ (**Má»‹ch ç³¸**) báº£n thÃ¢n (**Ká»· å·±**) ká»· luáº­t.", ta: "**Ki** (Ki) láº¡ tháº¿ ká»·.", examples: [{ w: "ä¸–ç´€", r: "ã›ã„ã", m: "Tháº¿ ká»·" }, { w: "ç´€å…ƒ", r: "ãã’ã‚“", m: "Ká»· nguyÃªn" }] },
            { char: "å–œ", nghiaHV: "Há»¶", nghiaTV: "Vui", on: "ã‚­", kun: "ã‚ˆã‚ã“", ti: "Trá»‘ng (**Cá»• å£´**) miá»‡ng (**Kháº©u å£**) cÆ°á»i vui.", ta: "**Ki** (Ki) láº¡ **DÃ´ RÃ´ CÃ´** (Yoroko) vui má»«ng.", examples: [{ w: "å–œåŠ‡", r: "ãã’ã", m: "HÃ i ká»‹ch" }, { w: "å–œã¶", r: "ã‚ˆã‚ã“ã¶", m: "Vui má»«ng" }] },

            // Objects & Actions - 10
            { char: "æ——", nghiaHV: "Ká»²", nghiaTV: "Cá»", on: "ã‚­", kun: "ã¯ãŸ", ti: "PhÆ°Æ¡ng (**PhÆ°Æ¡ng æ–¹**) hÆ°á»›ng ngÆ°á»i (**NhÃ¢n äºº**) cáº§m cá» (**Ká»³ å…¶**).", ta: "**Ki** (Ki) láº¡ lÃ¡ cá» **Ha Ta** (Hata).", examples: [{ w: "å›½æ——", r: "ã“ã£ã", m: "Quá»‘c ká»³" }, { w: "æ——", r: "ã¯ãŸ", m: "Cá»" }] },
            { char: "å™¨", nghiaHV: "KHÃ", nghiaTV: "Äá»“ dÃ¹ng", on: "ã‚­", kun: "ã†ã¤ã‚", ti: "Bá»‘n cÃ¡i miá»‡ng (**Kháº©u å£**) vÃ  con chÃ³ (**Khuyá»ƒn çŠ¬**).", ta: "**Ki** (Ki) láº¡ Ä‘á»“ dÃ¹ng **U TÆ° Wa** (Utsuwa).", examples: [{ w: "é£Ÿå™¨", r: "ã—ã‚‡ã£ã", m: "BÃ¡t Ä‘Ä©a" }, { w: "å™¨", r: "ã†ã¤ã‚", m: "Äá»“ Ä‘á»±ng" }] },
            { char: "æ©Ÿ", nghiaHV: "CÆ ", nghiaTV: "MÃ¡y/CÆ¡ há»™i", on: "ã‚­", kun: "ã¯ãŸ", ti: "CÃ¢y (**Má»™c æœ¨**) nhá» (**YÃªu å¹º**) bÃªn ngÆ°á»i canh gÃ¡c (**Thæˆ æˆ**).", ta: "**Ki** (Ki) láº¡ mÃ¡y dá»‡t **Ha Ta** (Hata).", examples: [{ w: "æ©Ÿæ¢°", r: "ãã‹ã„", m: "MÃ¡y mÃ³c" }, { w: "æ©Ÿä¼š", r: "ãã‹ã„", m: "CÆ¡ há»™i" }] },
            { char: "è­°", nghiaHV: "NGHá»Š", nghiaTV: "Tháº£o luáº­n", on: "ã‚®", kun: "-", ti: "NÃ³i (**NgÃ´n è¨€**) Ä‘iá»u nghÄ©a (**NghÄ©a ç¾©**) hiá»‡p.", ta: "**Ghi** (Gi) chÃ©p nghá»‹ luáº­n.", examples: [{ w: "ä¼šè­°", r: "ã‹ã„ã", m: "Cuá»™c há»p" }, { w: "è­°å“¡", r: "ãã„ã‚“", m: "Nghá»‹ viÃªn" }] },
            { char: "æ±‚", nghiaHV: "Cáº¦U", nghiaTV: "YÃªu cáº§u", on: "ã‚­ãƒ¥ã‚¦", kun: "ã‚‚ã¨", ti: "NÆ°á»›c (**Thá»§y æ°º**) bá»‘c hÆ¡i má»™t cháº¥m.", ta: "**Cá»©u** (Kyuu) tÃ´i **MÃ´ TÃ´** (Moto) yÃªu cáº§u.", examples: [{ w: "è¦æ±‚", r: "ã‚ˆã†ãã‚…ã†", m: "YÃªu cáº§u" }, { w: "æ±‚ã‚ã‚‹", r: "ã‚‚ã¨ã‚ã‚‹", m: "Mong muá»‘n" }] },
            { char: "æ³£", nghiaHV: "KHáº¤P", nghiaTV: "KhÃ³c", on: "ã‚­ãƒ¥ã‚¦", kun: "ãª", ti: "Äá»©ng (**Láº­p ç«‹**) khÃ³c ra nÆ°á»›c (**Thá»§y æ°µ**) máº¯t.", ta: "**Cá»©u** (Kyuu) bÃ© **Na** (Naku) Ä‘ang khÃ³c.", examples: [{ w: "å·æ³£", r: "ã”ã†ãã‚…ã†", m: "KhÃ³c lÃ³c" }, { w: "æ³£ã", r: "ãªã", m: "KhÃ³c" }] },
            { char: "æ•‘", nghiaHV: "Cá»¨U", nghiaTV: "Cá»©u giÃºp", on: "ã‚­ãƒ¥ã‚¦", kun: "ã™ã", ti: "Cáº§u (**Cáº§u æ±‚**) xin Ä‘Ã¡nh (**Phá»™c æ”µ**) cá»©u giÃºp.", ta: "**Cá»©u** (Kyuu) giÃºp **Su CÆ°** (Suku).", examples: [{ w: "æ•‘æ€¥è»Š", r: "ãã‚…ã†ãã‚…ã†ã—ã‚ƒ", m: "Xe cá»©u thÆ°Æ¡ng" }, { w: "æ•‘ã†", r: "ã™ãã†", m: "Cá»©u" }] },
            { char: "çµ¦", nghiaHV: "Cáº¤P", nghiaTV: "Cung cáº¥p/LÆ°Æ¡ng", on: "ã‚­ãƒ¥ã‚¦", kun: "-", ti: "Sá»£i chá»‰ (**Má»‹ch ç³¸**) há»£p (**Há»£p åˆ**) láº¡i cung cáº¥p.", ta: "**Cá»©u** (Kyuu) trá»£ lÆ°Æ¡ng.", examples: [{ w: "çµ¦æ–™", r: "ãã‚…ã†ã‚Šã‚‡ã†", m: "LÆ°Æ¡ng" }, { w: "ä¾›çµ¦", r: "ãã‚‡ã†ãã‚…ã†", m: "Cung cáº¥p" }] },
            { char: "æŒ™", nghiaHV: "Cá»¬", nghiaTV: "GiÆ¡ lÃªn/Báº§u cá»­", on: "ã‚­ãƒ§", kun: "ã‚", ti: "Tay (**Thá»§ æ‰‹**) hÆ°ng pháº¥n (**HÆ°ng èˆˆ** - pháº§n trÃªn) giÆ¡ lÃªn.", ta: "**KiÃ´** (Kyo) to **A** (Ageru) giÆ¡ tay.", examples: [{ w: "é¸æŒ™", r: "ã›ã‚“ãã‚‡", m: "Báº§u cá»­" }, { w: "æŒ™ã’ã‚‹", r: "ã‚ã’ã‚‹", m: "GiÆ¡ lÃªn" }] },
            { char: "æ¼", nghiaHV: "NGÆ¯", nghiaTV: "ÄÃ¡nh cÃ¡", on: "ã‚®ãƒ§", kun: "-", ti: "NÆ°á»›c (**Thá»§y æ°µ**) cÃ³ cÃ¡ (**NgÆ° é­š**).", ta: "**GiÃ³** (Gyo) Ä‘Ã¡nh cÃ¡.", examples: [{ w: "æ¼æ¥­", r: "ãã‚‡ãã‚‡ã†", m: "NgÆ° nghiá»‡p" }, { w: "æ¼å¸«", r: "ã‚Šã‚‡ã†ã—", m: "NgÆ° dÃ¢n" }] },

            // Life & Connection - 10
            { char: "å…±", nghiaHV: "Cá»˜NG", nghiaTV: "CÃ¹ng nhau", on: "ã‚­ãƒ§ã‚¦", kun: "ã¨ã‚‚", ti: "Hai tay (**Cá»§ng å»¾**) cÃ¹ng lÃ m.", ta: "**KiÃ´** (Kyou) to **TÃ´ MÃ´** (Tomo) cÃ¹ng nhau.", examples: [{ w: "å…±åŒ", r: "ãã‚‡ã†ã©ã†", m: "Chung" }, { w: "å…±ã«", r: "ã¨ã‚‚ã«", m: "CÃ¹ng vá»›i" }] },
            { char: "å”", nghiaHV: "HIá»†P", nghiaTV: "Há»£p tÃ¡c", on: "ã‚­ãƒ§ã‚¦", kun: "-", ti: "MÆ°á»i (**Tháº­p å**) ngÆ°á»i chung ba sá»©c (**Lá»±c åŠ›**) há»£p tÃ¡c.", ta: "**KiÃ´** (Kyou) tÃ´ hiá»‡p lá»±c.", examples: [{ w: "å”åŠ›", r: "ãã‚‡ã†ã‚Šã‚‡ã", m: "Há»£p tÃ¡c" }, { w: "å”ä¼š", r: "ãã‚‡ã†ã‹ã„", m: "Hiá»‡p há»™i" }] },
            { char: "é¡", nghiaHV: "KÃNH", nghiaTV: "GÆ°Æ¡ng", on: "ã‚­ãƒ§ã‚¦", kun: "ã‹ãŒã¿", ti: "VÃ ng (**Kim é‡‘**) Ä‘á»©ng (**Láº­p ç«‹**) nhÃ¬n tháº¥y (**Kiáº¿n è¦‹**) trong gÆ°Æ¡ng.", ta: "**KiÃ´** (Kyou) tÃ´ soi gÆ°Æ¡ng **Ca Ga Mi** (Kagami).", examples: [{ w: "é¡", r: "ã‹ãŒã¿", m: "GÆ°Æ¡ng" }, { w: "çœ¼é¡", r: "ã‚ãŒã­", m: "KÃ­nh máº¯t" }] },
            { char: "ç«¶", nghiaHV: "Cáº NH", nghiaTV: "Cáº¡nh tranh", on: "ã‚­ãƒ§ã‚¦", kun: "ãã", ti: "Hai ngÆ°á»i anh (**Huynh å…„**) Ä‘á»©ng (**Láº­p ç«‹**) cáº¡nh tranh.", ta: "**KiÃ´** (Kyou) to **Ki XÃ´** (Kisou) cáº¡nh tranh.", examples: [{ w: "ç«¶äº‰", r: "ãã‚‡ã†ãã†", m: "Cáº¡nh tranh" }, { w: "ç«¶ã†", r: "ããã†", m: "Thi Ä‘áº¥u" }] },
            { char: "æ¥µ", nghiaHV: "Cá»°C", nghiaTV: "Cá»±c Ä‘iá»ƒm", on: "ã‚­ãƒ§ã‚¯", kun: "ãã‚", ti: "CÃ¢y (**Má»™c æœ¨**) cao Ä‘áº¿n cá»±c Ä‘iá»ƒm (**Cá»©c äºŸ**).", ta: "**KiÃ´ CÆ°** (Kyoku) **Ki Wa** (Kiwameru) cá»±c háº¡n.", examples: [{ w: "å—æ¥µ", r: "ãªã‚“ãã‚‡ã", m: "Nam cá»±c" }, { w: "ç©æ¥µçš„", r: "ã›ã£ãã‚‡ãã¦ã", m: "TÃ­ch cá»±c" }] },
            { char: "è¨“", nghiaHV: "HUáº¤N", nghiaTV: "Huáº¥n luyá»‡n", on: "ã‚¯ãƒ³", kun: "-", ti: "Lá»i nÃ³i (**NgÃ´n è¨€**) tuÃ´n cháº£y nhÆ° sÃ´ng (**XuyÃªn å·**).", ta: "**Cung** (Kun) kÃ­nh huáº¥n luyá»‡n.", examples: [{ w: "è¨“ç·´", r: "ãã‚“ã‚Œã‚“", m: "Huáº¥n luyá»‡n" }, { w: "æ•™è¨“", r: "ãã‚‡ã†ãã‚“", m: "GiÃ¡o huáº¥n" }] },
            { char: "è»", nghiaHV: "QUÃ‚N", nghiaTV: "QuÃ¢n Ä‘á»™i", on: "ã‚°ãƒ³", kun: "-", ti: "Xe (**Xa è»Š**) cÃ³ mÃ¡i che (**Má»‹ch å†–**).", ta: "**GÃ¹n** (Gun) ghÃ¨ quÃ¢n Ä‘á»™i.", examples: [{ w: "è»éšŠ", r: "ãã‚“ãŸã„", m: "QuÃ¢n Ä‘á»™i" }, { w: "å°†è»", r: "ã—ã‚‡ã†ãã‚“", m: "TÆ°á»›ng quÃ¢n" }] },
            { char: "éƒ¡", nghiaHV: "QUáº¬N", nghiaTV: "Huyá»‡n/Quáº­n", on: "ã‚°ãƒ³", kun: "-", ti: "Vua (**QuÃ¢n å›**) cai trá»‹ vÃ¹ng Ä‘áº¥t (**áº¤p é˜**).", ta: "**GÃ¹n** (Gun) ghÃ¨ tranh quáº­n.", examples: [{ w: "éƒ¡", r: "ãã‚“", m: "Quáº­n/Huyá»‡n" }, { w: "éƒ¡éƒ¨", r: "ãã‚“ã¶", m: "VÃ¹ng ngoáº¡i Ã´" }] },
            { char: "å¾„", nghiaHV: "KÃNH", nghiaTV: "ÄÆ°á»ng kÃ­nh", on: "ã‚±ã‚¤", kun: "-", ti: "ÄÆ°á»ng Ä‘i (**XÃ­ch å½³**) tháº³ng nhÆ° nÆ°á»›c cháº£y (**Kinh å· **).", ta: "Thiáº¿t **Káº¿** (Kei) Ä‘Æ°á»ng kÃ­nh.", examples: [{ w: "ç›´å¾„", r: "ã¡ã‚‡ã£ã‘ã„", m: "ÄÆ°á»ng kÃ­nh" }, { w: "åŠå¾„", r: "ã¯ã‚“ã‘ã„", m: "BÃ¡n kÃ­nh" }] },
            { char: "å‹", nghiaHV: "HÃŒNH", nghiaTV: "Kiá»ƒu/Máº«u", on: "ã‚±ã‚¤", kun: "ã‹ãŸ", ti: "HÃ¬nh pháº¡t (**HÃ¬nh åˆ‘**) trÃªn Ä‘áº¥t (**Thá»• åœŸ**).", ta: "Thiáº¿t **Káº¿** (Kei) máº«u **Ca Ta** (Kata).", examples: [{ w: "å‹", r: "ã‹ãŸ", m: "Kiá»ƒu/Máº«u" }, { w: "å¤§å‹", r: "ãŠãŠãŒãŸ", m: "Cá»¡ lá»›n" }] },

            // Others - 10
            { char: "æ™¯", nghiaHV: "Cáº¢NH", nghiaTV: "Phong cáº£nh", on: "ã‚±ã‚¤", kun: "-", ti: "Máº·t trá»i (**Nháº­t æ—¥**) chiáº¿u sÃ¡ng kinh Ä‘Ã´ (**Kinh äº¬**).", ta: "Thiáº¿t **Káº¿** (Kei) phong cáº£nh.", examples: [{ w: "æ™¯è‰²", r: "ã‘ã—ã", m: "Phong cáº£nh" }, { w: "æ™¯æ°—", r: "ã‘ã„ã", m: "TÃ¬nh hÃ¬nh kinh táº¿" }] },
            { char: "èŠ¸", nghiaHV: "NGHá»†", nghiaTV: "Nghá»‡ thuáº­t", on: "ã‚²ã‚¤", kun: "-", ti: "Cá» (**Tháº£o è‰¹**) má»c trÃªn mÃ¢y (**VÃ¢n äº‘**).", ta: "Bá»‹ **GÃ¢y** (Gei) mÃª bá»Ÿi nghá»‡ thuáº­t.", examples: [{ w: "èŠ¸è¡“", r: "ã’ã„ã˜ã‚…ã¤", m: "Nghá»‡ thuáº­t" }, { w: "èŠ¸èƒ½", r: "ã’ã„ã®ã†", m: "Nghá»‡ nÄƒng" }] },
            { char: "æ¬ ", nghiaHV: "KHIáº¾M", nghiaTV: "Thiáº¿u/Váº¯ng", on: "ã‚±ãƒ„", kun: "ã‹", ti: "NgÆ°á»i hÃ¡ miá»‡ng ngÃ¡p.", ta: "**Káº¿t** (Ketsu) liá»…u káº» **Ca** (Kakeru) váº¯ng máº·t.", examples: [{ w: "æ¬ å¸­", r: "ã‘ã£ã›ã", m: "Váº¯ng máº·t" }, { w: "æ¬ ã‘ã‚‹", r: "ã‹ã‘ã‚‹", m: "Thiáº¿u" }] },
            { char: "çµ", nghiaHV: "Káº¾T", nghiaTV: "Káº¿t ná»‘i", on: "ã‚±ãƒ„", kun: "ã‚€ã™", ti: "Sá»£i chá»‰ (**Má»‹ch ç³¸**) mang láº¡i may máº¯n (**CÃ¡t å‰**).", ta: "**Káº¿t** (Ketsu) hÃ´n **MÆ° SÆ°** (Musubu) buá»™c.", examples: [{ w: "çµå©š", r: "ã‘ã£ã“ã‚“", m: "Káº¿t hÃ´n" }, { w: "çµã¶", r: "ã‚€ã™ã¶", m: "Buá»™c/Ná»‘i" }] },
            { char: "å»º", nghiaHV: "KIáº¾N", nghiaTV: "XÃ¢y dá»±ng", on: "ã‚±ãƒ³", kun: "ãŸ", ti: "Cáº§m bÃºt (**Duáº­t è¿**) Ä‘i (**SÆ°á»›c è¾¶**) thiáº¿t káº¿ xÃ¢y dá»±ng.", ta: "**Kiáº¿n** (Ken) thiáº¿t **Ta** (Tateru) xÃ¢y nhÃ .", examples: [{ w: "å»ºç¯‰", r: "ã‘ã‚“ã¡ã", m: "Kiáº¿n trÃºc" }, { w: "å»ºã¦ã‚‹", r: "ãŸã¦ã‚‹", m: "XÃ¢y dá»±ng" }] },
            { char: "å¥", nghiaHV: "KIá»†N", nghiaTV: "Khá»e máº¡nh", on: "ã‚±ãƒ³", kun: "ã™ã“", ti: "NgÆ°á»i (**NhÃ¢n äº»**) xÃ¢y dá»±ng (**Kiáº¿n å»º**) thÃ¬ khá»e máº¡nh.", ta: "**Kiáº¿n** (Ken) thiáº¿t **SÆ° CÃ´** (Sukoyaka) khá»e máº¡nh.", examples: [{ w: "å¥åº·", r: "ã‘ã‚“ã“ã†", m: "Sá»©c khá»e" }, { w: "å¥ã‚„ã‹", r: "ã™ã“ã‚„ã‹", m: "Khá»e khoáº¯n" }] },
            { char: "é¨“", nghiaHV: "NGHIá»†M", nghiaTV: "Thá»­ nghiá»‡m", on: "ã‚±ãƒ³", kun: "-", ti: "Con ngá»±a (**MÃ£ é¦¬**) Ä‘i kiá»ƒm tra (**ThiÃªm åƒ‰**).", ta: "**Kiáº¿n** (Ken) thiáº¿t thÃ­ nghiá»‡m.", examples: [{ w: "è©¦é¨“", r: "ã—ã‘ã‚“", m: "Ká»³ thi" }, { w: "çµŒé¨“", r: "ã‘ã„ã‘ã‚“", m: "Kinh nghiá»‡m" }] },
            { char: "å›º", nghiaHV: "Cá»", nghiaTV: "Cá»©ng/Cá»‘ Ä‘á»‹nh", on: "ã‚³", kun: "ã‹ãŸ", ti: "CÃ¡i cÅ© (**Cá»• å¤**) Ä‘Æ°á»£c bao bá»c (**Vi å›—**).", ta: "**CÃ´** (Ko) láº­p **Ca Ta** (Katai) cá»©ng ráº¯n.", examples: [{ w: "å›ºå®š", r: "ã“ã¦ã„", m: "Cá»‘ Ä‘á»‹nh" }, { w: "å›ºã„", r: "ã‹ãŸã„", m: "Cá»©ng" }] },
            { char: "å€™", nghiaHV: "Háº¬U", nghiaTV: "KhÃ­ háº­u", on: "ã‚³ã‚¦", kun: "-", ti: "NgÆ°á»i (**NhÃ¢n äº»**) cáº§m gáº­y chá» Ä‘á»£i.", ta: "**CÃ´** (Kou) nÆ°Æ¡ng xem khÃ­ háº­u.", examples: [{ w: "æ°—å€™", r: "ãã“ã†", m: "KhÃ­ háº­u" }, { w: "å€™è£œ", r: "ã“ã†ã»", m: "á»¨ng cá»­ viÃªn" }] },
            { char: "åŠŸ", nghiaHV: "CÃ”NG", nghiaTV: "CÃ´ng lao", on: "ã‚³ã‚¦", kun: "-", ti: "CÃ´ng viá»‡c (**CÃ´ng å·¥**) dÃ¹ng sá»©c (**Lá»±c åŠ›**).", ta: "**CÃ´** (Kou) nÆ°Æ¡ng cÃ³ cÃ´ng.", examples: [{ w: "æˆåŠŸ", r: "ã›ã„ã“ã†", m: "ThÃ nh cÃ´ng" }, { w: "åŠŸç¸¾", r: "ã“ã†ã›ã", m: "ThÃ nh tÃ­ch" }] }
        ];

        // --- STATE ---
        let currentTab = 'learn';
        let currentQuizIndex = 0;
        let quizScore = 0;
        let currentQuizQuestion = null;
        let currentStrokeSvg = null;

        // --- UTILS ---
        function speak(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                // Clean text for speech: remove special chars
                const clean = text.replace(/\[.*?\]/g, '').replace(/<.*?>/g, '').replace(/ãƒ»/g, '').replace(/\*/g, '');
                const u = new SpeechSynthesisUtterance(clean);
                u.lang = 'ja-JP'; u.rate = 0.9;
                window.speechSynthesis.speak(u);
            }
        }

        function getKanjiHex(kanji) {
            return kanji.charCodeAt(0).toString(16).padStart(5, '0');
        }

        async function fetchKanjiSvg(hex) {
            try {
                const response = await fetch(`https://cdn.jsdelivr.net/gh/KanjiVG/kanjivg/kanji/${hex}.svg`);
                if (!response.ok) throw new Error('Not found');
                return await response.text();
            } catch (e) { return null; }
        }

        // --- TABS ---
        function switchTab(tab) {
            currentTab = tab;
            document.getElementById('learn-section').classList.toggle('hidden', tab !== 'learn');
            document.getElementById('quiz-section').classList.toggle('hidden', tab !== 'quiz');
            
            const btnLearn = document.getElementById('tab-learn');
            const btnQuiz = document.getElementById('tab-quiz');
            
            if (tab === 'learn') {
                btnLearn.classList.add('tab-active'); btnLearn.classList.remove('tab-inactive');
                btnQuiz.classList.add('tab-inactive'); btnQuiz.classList.remove('tab-active');
            } else {
                btnQuiz.classList.add('tab-active'); btnQuiz.classList.remove('tab-inactive');
                btnLearn.classList.add('tab-inactive'); btnLearn.classList.remove('tab-active');
                startQuiz();
            }
        }

        // --- RENDER LEARN ---
        function renderLearn() {
            const grid = document.getElementById('kanji-grid');
            grid.innerHTML = kanjiData.map((k, idx) => `
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition duration-300 flex flex-col group">
                    <!-- HEADER -->
                    <div class="bg-sky-50 p-4 border-b border-sky-100 flex justify-between items-start relative">
                        <div class="flex gap-4 items-center">
                            <div class="w-16 h-16 bg-white rounded-lg flex items-center justify-center border-2 border-sky-200 cursor-pointer hover:border-sky-400 transition shadow-sm" onclick="showStrokeOrder('${k.char}')">
                                <span class="text-4xl font-bold kanji-font text-gray-800">${k.char}</span>
                            </div>
                            <div>
                                <div class="text-red-600 font-bold text-lg tracking-wide">${k.nghiaHV}</div>
                                <div class="text-gray-600 text-sm font-medium">${k.nghiaTV}</div>
                            </div>
                        </div>
                        <button onclick="showStrokeOrder('${k.char}')" class="text-sky-500 hover:text-sky-700 bg-white rounded-full p-2 w-8 h-8 flex items-center justify-center shadow-sm border border-sky-100"><i class="fas fa-pen-nib text-xs"></i></button>
                        <div class="absolute -bottom-3 right-4 text-6xl text-gray-100 font-black -z-0 pointer-events-none select-none">${idx + 561}</div>
                    </div>
                    
                    <!-- BODY -->
                    <div class="p-4 space-y-3 z-10 relative flex-grow flex flex-col">
                        <!-- READINGS with Audio -->
                        <div class="grid grid-cols-2 gap-3 text-sm">
                            <div class="bg-gray-50 rounded p-2 border border-gray-100">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-[10px] uppercase font-bold text-gray-400">On</span>
                                    <button onclick="speak('${k.on}')" class="text-sky-400 hover:text-sky-600"><i class="fas fa-volume-up text-xs"></i></button>
                                </div>
                                <span class="font-bold text-sky-800 kanji-font text-base">${k.on}</span>
                            </div>
                            <div class="bg-gray-50 rounded p-2 border border-gray-100">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-[10px] uppercase font-bold text-gray-400">Kun</span>
                                    <button onclick="speak('${k.kun}')" class="text-sky-400 hover:text-sky-600"><i class="fas fa-volume-up text-xs"></i></button>
                                </div>
                                <span class="font-bold text-sky-800 kanji-font text-base">${k.kun}</span>
                            </div>
                        </div>
                        
                        <!-- MNEMONICS (AZAKANJI STYLE) -->
                        <div class="space-y-2">
                            <div class="bg-orange-50 p-2 rounded text-xs text-orange-900 border border-orange-100">
                                <span class="font-bold text-orange-600 mr-1">ğŸ–¼ï¸ HÃ¬nh:</span> ${k.ti}
                            </div>
                            <div class="bg-blue-50 p-2 rounded text-xs text-blue-900 border border-blue-100">
                                <span class="font-bold text-blue-600 mr-1">ğŸ”Š Ã‚m:</span> ${k.ta.replace(/\*\*(.*?)\*\*/g, '<span class="font-bold text-blue-700">$1</span>')}
                            </div>
                        </div>

                        <!-- EXAMPLES with Audio -->
                        <div class="pt-2 border-t border-gray-100 space-y-2 mt-auto">
                            ${k.examples.map(ex => `
                                <div class="flex justify-between items-center group/ex cursor-pointer p-1 rounded hover:bg-gray-50" onclick="speak('${ex.w}')">
                                    <div>
                                        <div class="kanji-font font-bold text-gray-800 text-sm">${ex.w} <span class="text-xs font-normal text-gray-400">(${ex.r})</span></div>
                                        <div class="text-xs text-gray-500">${ex.m}</div>
                                    </div>
                                    <i class="fas fa-volume-up text-xs text-gray-300 group-hover/ex:text-sky-500 transition"></i>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // --- STROKE ORDER MODAL ---
        async function showStrokeOrder(kanji) {
            const hex = getKanjiHex(kanji);
            document.getElementById('stroke-modal').classList.remove('hidden');
            document.getElementById('stroke-modal-char').innerText = kanji;
            
            const animContainer = document.getElementById('stroke-animation-container');
            const gridContainer = document.getElementById('stroke-grid-container');
            animContainer.innerHTML = '<span class="text-xs text-gray-400">Äang táº£i...</span>';
            
            const svgContent = await fetchKanjiSvg(hex);
            if (!svgContent) {
                animContainer.innerHTML = "<p class='p-4 text-red-500 text-xs'>Lá»—i</p>";
                gridContainer.innerHTML = "";
                return;
            }

            // Animation Setup
            animContainer.innerHTML = svgContent;
            const mainSvg = animContainer.querySelector('svg');
            mainSvg.setAttribute('width', '100%'); mainSvg.setAttribute('height', '100%');
            const paths = mainSvg.querySelectorAll('path');
            paths.forEach(p => {
                const len = p.getTotalLength();
                p.style.strokeDasharray = len; p.style.strokeDashoffset = len;
                p.style.stroke = "#333"; p.style.strokeWidth = "4"; p.style.fill = "none";
                p.style.strokeLinecap = "round"; p.style.strokeLinejoin = "round";
            });
            currentStrokeSvg = mainSvg;
            replayStrokeAnimation();

            // Grid Setup
            gridContainer.innerHTML = '';
            for(let i=0; i<paths.length; i++) {
                const box = document.createElement('div');
                box.className = "w-12 h-12 md:w-16 md:h-16 bg-white border border-gray-200 relative stroke-grid-box flex items-center justify-center";
                const parser = new DOMParser();
                const svgClone = parser.parseFromString(svgContent, "image/svg+xml").querySelector('svg');
                svgClone.setAttribute('width', '100%'); svgClone.setAttribute('height', '100%');
                svgClone.querySelectorAll('path').forEach((p, idx) => {
                    p.style.fill="none"; p.style.strokeLinecap="round"; p.style.strokeLinejoin="round";
                    if(idx < i) { p.style.stroke="#9ca3af"; p.style.strokeWidth="3"; }
                    else if(idx === i) { p.style.stroke="#000"; p.style.strokeWidth="4"; }
                    else p.style.display="none";
                });
                box.appendChild(svgClone);
                gridContainer.appendChild(box);
            }
        }

        function replayStrokeAnimation() {
            if(!currentStrokeSvg) return;
            const paths = currentStrokeSvg.querySelectorAll('path');
            paths.forEach(p => { p.style.transition = 'none'; p.style.strokeDashoffset = p.getTotalLength(); });
            void currentStrokeSvg.offsetWidth;
            let delay = 0;
            paths.forEach(p => {
                p.style.transition = `stroke-dashoffset 0.6s ease-in-out ${delay}s`;
                p.style.strokeDashoffset = '0';
                delay += 0.6;
            });
        }

        function closeStrokeModal() { document.getElementById('stroke-modal').classList.add('hidden'); }

        // --- QUIZ LOGIC ---
        function startQuiz() {
            quizScore = 0;
            currentQuizIndex = 0;
            document.getElementById('score-display').innerText = '0';
            loadQuestion();
        }

        function loadQuestion() {
            const qType = Math.random() > 0.5 ? 'kanji-meaning' : 'meaning-kanji';
            const target = kanjiData[Math.floor(Math.random() * kanjiData.length)];
            currentQuizQuestion = { target, type: qType };

            const display = document.getElementById('quiz-kanji-display');
            const questionText = document.getElementById('quiz-question-text');
            const optionsArea = document.getElementById('options-area');
            
            document.getElementById('feedback-area').classList.add('hidden');
            document.getElementById('q-current').innerText = currentQuizIndex + 1;
            document.getElementById('quiz-progress').style.width = `${((currentQuizIndex) / 10) * 100}%`;

            // Generate distractors
            const others = kanjiData.filter(k => k !== target).sort(() => 0.5 - Math.random()).slice(0, 3);
            const options = [target, ...others].sort(() => 0.5 - Math.random());

            if (qType === 'kanji-meaning') {
                display.innerText = target.char;
                questionText.innerText = "HÃ¡n tá»± nÃ y cÃ³ nghÄ©a lÃ  gÃ¬?";
                optionsArea.innerHTML = options.map(opt => `
                    <button onclick="checkAnswer('${opt.char}')" class="quiz-opt-btn bg-white border-2 border-gray-200 p-4 rounded-xl hover:border-sky-400 hover:bg-sky-50 transition active:scale-95 shadow-sm text-lg font-bold text-gray-700">
                        ${opt.nghiaHV} (${opt.nghiaTV})
                    </button>
                `).join('');
            } else {
                display.innerText = target.nghiaHV;
                questionText.innerText = `Chá»n Kanji tÆ°Æ¡ng á»©ng vá»›i "${target.nghiaTV}"`;
                optionsArea.innerHTML = options.map(opt => `
                    <button onclick="checkAnswer('${opt.char}')" class="quiz-opt-btn bg-white border-2 border-gray-200 p-4 rounded-xl hover:border-sky-400 hover:bg-sky-50 transition active:scale-95 shadow-sm text-4xl font-bold kanji-font text-gray-800">
                        ${opt.char}
                    </button>
                `).join('');
            }
        }

        function checkAnswer(selectedChar) {
            const btns = document.querySelectorAll('.quiz-opt-btn');
            btns.forEach(b => b.disabled = true);

            const isCorrect = selectedChar === currentQuizQuestion.target.char;
            const feedbackArea = document.getElementById('feedback-area');
            const feedbackTitle = document.getElementById('feedback-title');
            const feedbackDetail = document.getElementById('feedback-detail');

            feedbackArea.classList.remove('hidden');

            if (isCorrect) {
                quizScore += 10;
                document.getElementById('score-display').innerText = quizScore;
                feedbackTitle.innerHTML = '<i class="fas fa-check-circle text-emerald-500 mr-2"></i> ChÃ­nh xÃ¡c!';
                feedbackTitle.className = "font-bold text-lg mb-1 flex items-center text-emerald-700";
                feedbackDetail.innerHTML = `
                    <span class="text-3xl kanji-font font-bold text-gray-800 mr-2">${currentQuizQuestion.target.char}</span>
                    <span class="font-bold text-red-600">${currentQuizQuestion.target.nghiaHV}</span>: ${currentQuizQuestion.target.nghiaTV}
                `;
                feedbackArea.className = "bg-emerald-50 rounded-xl p-4 border border-emerald-200 text-left animate-fade-in";
                speak(currentQuizQuestion.target.char);
            } else {
                feedbackTitle.innerHTML = '<i class="fas fa-times-circle text-red-500 mr-2"></i> Sai rá»“i!';
                feedbackTitle.className = "font-bold text-lg mb-1 flex items-center text-red-700";
                feedbackDetail.innerHTML = `ÄÃ¡p Ã¡n Ä‘Ãºng lÃ : <strong>${currentQuizQuestion.target.char} (${currentQuizQuestion.target.nghiaTV})</strong>`;
                feedbackArea.className = "bg-red-50 rounded-xl p-4 border border-red-200 text-left animate-fade-in wrong-anim";
            }
        }

        function nextQuestion() {
            currentQuizIndex++;
            if (currentQuizIndex >= 10) {
                alert(`HoÃ n thÃ nh! Báº¡n Ä‘áº¡t ${quizScore} Ä‘iá»ƒm.`);
                startQuiz();
            } else {
                loadQuestion();
            }
        }

        // INIT
        renderLearn();

    </script>
</body>
</html>
