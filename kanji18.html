<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AzaKanji - Day 18/24 (80 Kanji)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Nunito', sans-serif; background-color: #f0f9ff; overflow-x: hidden; }
        .kanji-font { font-family: 'Noto Sans JP', sans-serif; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }

        /* Animations */
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .modal-enter { animation: modalIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes modalIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        .correct-anim { animation: pulse-green 0.5s; }
        @keyframes pulse-green { 0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); } 100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); } }
        
        .wrong-anim { animation: shake 0.4s; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }

        /* Tab Active State */
        .tab-active { background-color: #0369a1; color: white; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        .tab-inactive { background-color: #e0f2fe; color: #0c4a6e; }

        /* Stroke Grid Styles */
        .stroke-path { fill: none; stroke: #333; stroke-width: 3; stroke-linecap: round; stroke-linejoin: round; }
        .stroke-grid-box { border: 1px solid #e5e7eb; background-color: white; position: relative; }
        .stroke-grid-box::after { content: ''; position: absolute; top: 0; left: 50%; width: 1px; height: 100%; background: repeating-linear-gradient(to bottom, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); z-index: 0; }
        .stroke-grid-box::before { content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 1px; background: repeating-linear-gradient(to right, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); z-index: 0; }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-sky-700 text-white shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 py-3">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center space-x-3 cursor-pointer" onclick="location.reload()">
                    <i class="fas fa-torii-gate text-3xl text-yellow-400"></i>
                    <div>
                        <h1 class="text-xl font-bold uppercase tracking-wider">AZAKANJI</h1>
                        <p class="text-xs text-sky-200">Kanji siÃªu tá»‘c, há»c rá»™ng hiá»ƒu sÃ¢u</p>
                    </div>
                </div>
                
                <div class="flex items-center gap-2 overflow-x-auto max-w-full pb-1 md:pb-0">
                    <div class="flex bg-sky-800 rounded-lg p-1">
                        <button onclick="switchTab('learn')" id="tab-learn" class="px-4 py-2 rounded-md text-sm font-bold transition whitespace-nowrap tab-active">
                            <i class="fas fa-book-open mr-2"></i>Há»c Táº­p
                        </button>
                        <button onclick="switchTab('quiz')" id="tab-quiz" class="px-4 py-2 rounded-md text-sm font-bold transition whitespace-nowrap tab-inactive ml-1">
                            <i class="fas fa-gamepad mr-2"></i>Kiá»ƒm Tra
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6 flex-grow" id="app-container">
        
        <!-- LEARN SECTION -->
        <div id="learn-section" class="fade-in">
            <div class="mb-6 bg-white p-4 rounded-xl shadow-sm border-l-4 border-sky-500 flex justify-between items-center">
                <div>
                    <h3 class="text-lg font-bold text-gray-800 mb-1"><i class="fas fa-calendar-day text-sky-500 mr-2"></i>NgÃ y 18: 80 HÃ¡n Tá»± (N2)</h3>
                    <p class="text-sm text-gray-600">Tráº¡ng thÃ¡i, Tinh tháº§n & HÃ nh Ä‘á»™ng.</p>
                </div>
            </div>
            
            <div id="kanji-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                <!-- Cards will be injected here -->
            </div>
        </div>

        <!-- QUIZ SECTION -->
        <div id="quiz-section" class="hidden fade-in max-w-2xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200">
                <div class="bg-gradient-to-r from-emerald-500 to-teal-600 p-6 text-white flex justify-between items-center">
                    <div>
                        <h2 class="text-xl font-bold"><i class="fas fa-puzzle-piece mr-2"></i>Thá»­ ThÃ¡ch NgÃ y 18</h2>
                        <p class="text-emerald-100 text-xs mt-1">Ã”n táº­p 80 chá»¯ vá»«a há»c</p>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-emerald-200 uppercase font-bold">Äiá»ƒm sá»‘</div>
                        <div class="text-3xl font-bold" id="score-display">0</div>
                    </div>
                </div>
                
                <div class="p-6 md:p-8">
                    <!-- Progress Bar -->
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-6">
                        <div id="quiz-progress" class="bg-emerald-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>

                    <div id="question-area" class="text-center mb-8">
                        <div class="text-gray-500 text-sm font-bold mb-4 uppercase tracking-wide">CÃ¢u há»i <span id="q-current">1</span> / <span id="q-total">10</span></div>
                        <div class="mb-4">
                            <span class="text-6xl kanji-font font-bold text-gray-800" id="quiz-kanji-display"></span>
                        </div>
                        <div class="text-lg text-gray-600 font-medium" id="quiz-question-text">HÃ¡n tá»± nÃ y cÃ³ nghÄ©a lÃ  gÃ¬?</div>
                    </div>

                    <div id="options-area" class="grid grid-cols-2 gap-4 mb-6">
                        <!-- Options injected here -->
                    </div>

                    <div id="feedback-area" class="hidden bg-gray-50 rounded-xl p-4 border border-gray-200 text-left animate-fade-in">
                        <div id="feedback-title" class="font-bold text-lg mb-2 flex items-center"></div>
                        <p id="feedback-detail" class="text-gray-600 text-sm mb-3"></p>
                        <button onclick="nextQuestion()" class="w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 rounded-lg shadow transition">Tiáº¿p tá»¥c <i class="fas fa-arrow-right ml-2"></i></button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- STROKE ORDER MODAL -->
    <div id="stroke-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeStrokeModal()"></div>
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl w-full modal-enter relative">
                <div class="bg-sky-600 px-4 py-3 flex justify-between items-center text-white">
                    <h3 class="font-bold text-lg"><i class="fas fa-pen-nib mr-2"></i>Táº­p Viáº¿t: <span id="stroke-modal-char" class="text-2xl ml-2 font-bold"></span></h3>
                    <button onclick="closeStrokeModal()" class="hover:text-gray-200 text-2xl">&times;</button>
                </div>
                <div class="p-4 md:p-6 bg-gray-50 max-h-[80vh] overflow-y-auto">
                    <div class="flex flex-col md:flex-row gap-6 md:gap-8 items-center md:items-start justify-center">
                        <div class="bg-white p-4 rounded-lg shadow border border-gray-200 text-center w-full md:w-auto">
                            <p class="text-xs text-gray-500 mb-2 font-bold uppercase tracking-wider">MÃ´ phá»ng</p>
                            <div id="stroke-animation-container" class="w-40 h-40 mx-auto bg-white border border-gray-300 relative stroke-grid-box flex items-center justify-center">
                                <span class="text-gray-400 text-xs">Äang táº£i...</span>
                            </div>
                            <button onclick="replayStrokeAnimation()" class="mt-3 text-sm bg-sky-100 text-sky-700 px-4 py-2 rounded-full hover:bg-sky-200 transition w-full font-bold flex items-center justify-center"><i class="fas fa-redo mr-2"></i> Viáº¿t láº¡i</button>
                        </div>
                        <div class="flex-1 w-full">
                            <p class="text-xs text-gray-500 mb-3 font-bold uppercase tracking-wider text-center md:text-left">Thá»© tá»± nÃ©t</p>
                            <div id="stroke-grid-container" class="flex flex-wrap gap-2 justify-center md:justify-start"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- DATA DAY 18 (80 Kanji N2 - AzaKanji Method) ---
        const kanjiData = [
            // Abstract & Action - 10
            { char: "ç²˜", nghiaHV: "NIÃŠM", nghiaTV: "DÃ­nh/KiÃªn trÃ¬", on: "ãƒãƒ³", kun: "ã­ã°", ti: "Gáº¡o (**Má»… ç±³**) chiÃªm (**ChiÃªm å **) dÃ­nh.", ta: "**NÃªn** (Nen) **NÃª Ba** (Nebaru) kiÃªn trÃ¬.", examples: [{ w: "ç²˜åœŸ", r: "ã­ã‚“ã©", m: "Äáº¥t sÃ©t" }, { w: "ç²˜ã‚‹", r: "ã­ã°ã‚‹", m: "KiÃªn trÃ¬" }] },
            { char: "æ‚©", nghiaHV: "NÃƒO", nghiaTV: "Phiá»n nÃ£o", on: "ãƒã‚¦", kun: "ãªã‚„", ti: "Tim (**TÃ¢m å¿„**) suy nghÄ© vá» nÃ£o (**NÃ£o ğŸ§ ** - biáº¿n thá»ƒ).", ta: "**NÃ´** (Nou) lá»‡ **Na Ya** (Nayamy) phiá»n nÃ£o.", examples: [{ w: "è‹¦æ‚©", r: "ãã®ã†", m: "Khá»• nÃ£o" }, { w: "æ‚©ã‚€", r: "ãªã‚„ã‚€", m: "Lo láº¯ng" }] },
            { char: "æ¿ƒ", nghiaHV: "Ná»’NG", nghiaTV: "Äáº­m/Äáº·c", on: "ãƒã‚¦", kun: "ã“", ti: "NÆ°á»›c (**Thá»§y æ°µ**) dÃ¹ng trong nÃ´ng nghiá»‡p (**NÃ´ng è¾²**) Ä‘áº­m Ä‘áº·c.", ta: "**NÃ´** (Nou) lá»‡ thÃ­ch mÃ u **CÃ´** (Koi) Ä‘áº­m.", examples: [{ w: "æ¿ƒåš", r: "ã®ã†ã“ã†", m: "Äáº­m Ä‘Ã " }, { w: "æ¿ƒã„", r: "ã“ã„", m: "Äáº­m" }] },
            { char: "è¼©", nghiaHV: "Bá»I", nghiaTV: "Tiá»n bá»‘i", on: "ãƒã‚¤", kun: "-", ti: "Xe (**Xa è»Š**) khÃ´ng (**Phi é**) Ä‘Ãºng luáº­t lÃ  bá»‘i pháº­n sau.", ta: "**Hai** (Hai) vá»‹ tiá»n bá»‘i.", examples: [{ w: "å…ˆè¼©", r: "ã›ã‚“ã±ã„", m: "Tiá»n bá»‘i" }, { w: "å¾Œè¼©", r: "ã“ã†ã¯ã„", m: "Háº­u bá»‘i" }] },
            { char: "æ‹", nghiaHV: "PHÃCH", nghiaTV: "Vá»— tay/Nhá»‹p", on: "ãƒã‚¯", kun: "-", ti: "Tay (**Thá»§ æ‰Œ**) tráº¯ng (**Báº¡ch ç™½**) vá»— nhá»‹p.", ta: "**HÃ  Cá»¥** (Haku) vá»— tay.", examples: [{ w: "æ‹æ‰‹", r: "ã¯ãã—ã‚…", m: "Vá»— tay" }, { w: "æ‹å­", r: "ã²ã‚‡ã†ã—", m: "Nhá»‹p phÃ¡ch" }] },
            { char: "è¿«", nghiaHV: "BÃCH", nghiaTV: "Bá»©c bÃ¡ch", on: "ãƒã‚¯", kun: "ã›ã¾", ti: "Äi (**SÆ°á»›c è¾¶**) Ä‘áº¿n nÆ¡i tráº¯ng (**Báº¡ch ç™½**) xÃ³a bá»©c bÃ¡ch.", ta: "**HÃ  Cá»¥** (Haku) **SÃª Ma** (Semaru) Ã©p buá»™c.", examples: [{ w: "è¿«å®³", r: "ã¯ããŒã„", m: "Bá»©c háº¡i" }, { w: "è¿«ã‚‹", r: "ã›ã¾ã‚‹", m: "Tiáº¿n sÃ¡t" }] },
            { char: "è–„", nghiaHV: "Báº C", nghiaTV: "Má»ng/Nháº¡t", on: "ãƒã‚¯", kun: "ã†ã™", ti: "Cá» (**Tháº£o è‰¹**) má»c á»Ÿ bÃ£i nÆ°á»›c (**Thá»§y æ°µ**) chuyÃªn (**ChuyÃªn å°ƒ**) báº¡c mÃ u.", ta: "**HÃ  Cá»¥** (Haku) tÃ³c **U SÆ°** (Usui) má»ng.", examples: [{ w: "è–„å¼±", r: "ã¯ãã˜ã‚ƒã", m: "Má»ng manh" }, { w: "è–„ã„", r: "ã†ã™ã„", m: "Má»ng/Nháº¡t" }] },
            { char: "é«ª", nghiaHV: "PHÃT", nghiaTV: "TÃ³c", on: "ãƒãƒ„", kun: "ã‹ã¿", ti: "TÃ³c dÃ i (**TiÃªu é«Ÿ**) cá»§a ngÆ°á»i báº¡n (**Há»¯u å‹**).", ta: "**Ha TÆ°** (Hatsu) **Ca Mi** (Kami) cáº¯t tÃ³c.", examples: [{ w: "é«ªã®æ¯›", r: "ã‹ã¿ã®ã‘", m: "TÃ³c" }, { w: "é‡‘é«ª", r: "ãã‚“ã±ã¤", m: "TÃ³c vÃ ng" }] },
            { char: "æŠœ", nghiaHV: "Báº T", nghiaTV: "RÃºt ra/Nhá»•", on: "ãƒãƒ„", kun: "ã¬", ti: "Tay (**Thá»§ æ‰Œ**) vÃ  báº¡n (**Há»¯u å‹**) cÃ¹ng nhá»•.", ta: "**BÃ¡t** (Batsu) cÆ¡m bá»‹ **NÆ°** (Nuku) rÃºt bá»›t.", examples: [{ w: "æŠœç¾¤", r: "ã°ã¤ãã‚“", m: "Xuáº¥t chÃºng" }, { w: "æŠœã", r: "ã¬ã", m: "Nhá»•" }] },
            { char: "ç½°", nghiaHV: "PHáº T", nghiaTV: "HÃ¬nh pháº¡t", on: "ãƒãƒ„", kun: "-", ti: "Lá»i nÃ³i (**NgÃ´n è¨€**) vÃ  dao (**Äao åˆ‚**) trong lÆ°á»›i (**VÃµng ç½’**) lÃ  hÃ¬nh pháº¡t.", ta: "**BÃ¡t** (Batsu) cÆ¡m lÃ  hÃ¬nh pháº¡t.", examples: [{ w: "ç½°é‡‘", r: "ã°ã£ãã‚“", m: "Tiá»n pháº¡t" }, { w: "å‡¦ç½°", r: "ã—ã‚‡ã°ã¤", m: "Xá»­ pháº¡t" }] },

            // Places & Objects - 10
            { char: "æ¯", nghiaHV: "BÃ”I", nghiaTV: "Cá»‘c/ChÃ©n", on: "ãƒã‚¤", kun: "ã•ã‹ãšã", ti: "CÃ¢y (**Má»™c æœ¨**) khÃ´ng (**Báº¥t ä¸**) lÃ m Ä‘Æ°á»£c chÃ©n.", ta: "**Hai** (Hai) cÃ¡i chÃ©n **Sa Ca Dá»± Ki** (Sakazuki).", examples: [{ w: "ä¸€æ¯", r: "ã„ã£ã±ã„", m: "Má»™t cá»‘c/Äáº§y" }, { w: "ä¹¾æ¯", r: "ã‹ã‚“ã±ã„", m: "Cáº¡n ly" }] },
            { char: "æ³Š", nghiaHV: "Báº C", nghiaTV: "Trá» láº¡i", on: "ãƒã‚¯", kun: "ã¨", ti: "NÆ°á»›c (**Thá»§y æ°µ**) tráº¯ng (**Báº¡ch ç™½**) á»Ÿ báº¿n báº¡c trá» láº¡i.", ta: "**HÃ  Cá»¥** (Haku) **TÃ´** (Tomaru) trá» láº¡i.", examples: [{ w: "å®¿æ³Š", r: "ã—ã‚…ãã¯ã", m: "Trá» láº¡i" }, { w: "æ³Šã¾ã‚‹", r: "ã¨ã¾ã‚‹", m: "Trá»" }] },
            { char: "è²©", nghiaHV: "PHIáº¾N", nghiaTV: "BuÃ´n bÃ¡n", on: "ãƒãƒ³", kun: "-", ti: "Tiá»n (**Bá»‘i è²**) bá»‹ pháº£n (**Pháº£n å**) láº¡i khi bÃ¡n.", ta: "**HÃ¡n** (Han) tá»­ bÃ¡n hÃ ng.", examples: [{ w: "è²©å£²", r: "ã¯ã‚“ã°ã„", m: "BÃ¡n hÃ ng" }, { w: "è‡ªè²©æ©Ÿ", r: "ã˜ã¯ã‚“ã", m: "MÃ¡y bÃ¡n hÃ ng" }] },
            { char: "èˆ¬", nghiaHV: "BAN", nghiaTV: "Chung", on: "ãƒãƒ³", kun: "-", ti: "Thuyá»n (**Thuyá»n èˆŸ**) quay (**BÃ n æ®³**) chung.", ta: "**HÃ¡n** (Han) tá»­ nÃ³i chung.", examples: [{ w: "ä¸€èˆ¬", r: "ã„ã£ã±ã‚“", m: "ThÃ´ng thÆ°á»ng" }, { w: "å…¨èˆ¬", r: "ãœã‚“ã±ã‚“", m: "Tá»•ng quÃ¡t" }] },
            { char: "ç¯„", nghiaHV: "PHáº M", nghiaTV: "Pháº¡m vi", on: "ãƒãƒ³", kun: "-", ti: "Tre (**TrÃºc ç«¹**) lÃ m xe (**Xa è»Š**) trong pháº¡m vi quy táº¯c (**Tiáº¿t å©** - biáº¿n thá»ƒ).", ta: "**HÃ¡n** (Han) tá»­ vi pháº¡m.", examples: [{ w: "ç¯„å›²", r: "ã¯ã‚“ã„", m: "Pháº¡m vi" }, { w: "æ¨¡ç¯„", r: "ã‚‚ã¯ã‚“", m: "MÃ´ pháº¡m" }] },
            { char: "ç¹", nghiaHV: "PHá»’N", nghiaTV: "Phá»“n vinh", on: "ãƒãƒ³", kun: "-", ti: "Má»—i (**Má»—i æ¯**) sá»£i chá»‰ (**Má»‹ch ç³¸**) Ä‘á»u phá»“n thá»‹nh.", ta: "**HÃ¡n** (Han) tá»­ phá»“n vinh.", examples: [{ w: "ç¹æ „", r: "ã¯ã‚“ãˆã„", m: "Phá»“n vinh" }, { w: "ç¹å¿™", r: "ã¯ã‚“ã¼ã†", m: "Báº­n rá»™n" }] },
            { char: "å¸†", nghiaHV: "PHÃ€M", nghiaTV: "CÃ¡nh buá»“m", on: "ãƒãƒ³", kun: "ã»", ti: "KhÄƒn (**CÃ¢n å·¾**) táº§m thÆ°á»ng (**PhÃ m å‡¡**) lÃ m buá»“m.", ta: "**HÃ¡n** (Han) tá»­ kÃ©o **HÃ´** (Ho) buá»“m.", examples: [{ w: "å¸†èˆ¹", r: "ã¯ã‚“ã›ã‚“", m: "Thuyá»n buá»“m" }, { w: "å¸†", r: "ã»", m: "CÃ¡nh buá»“m" }] },
            { char: "ä¼´", nghiaHV: "Báº N", nghiaTV: "CÃ¹ng vá»›i", on: "ãƒãƒ³", kun: "ã¨ã‚‚ãª", ti: "NgÆ°á»i (**NhÃ¢n äº»**) báº¡n cÃ¹ng chia ná»­a (**BÃ¡n åŠ**) ná»—i buá»“n.", ta: "**HÃ¡n** (Han) tá»­ **TÃ´ MÃ´ Na** (Tomonau) lÃ m báº¡n.", examples: [{ w: "åŒä¼´", r: "ã©ã†ã¯ã‚“", m: "Äi cÃ¹ng" }, { w: "ä¼´ã†", r: "ã¨ã‚‚ãªã†", m: "CÃ¹ng vá»›i" }] },
            { char: "ç•”", nghiaHV: "Báº N", nghiaTV: "Bá» ruá»™ng", on: "ãƒãƒ³", kun: "-", ti: "Má»™t ná»­a (**BÃ¡n åŠ**) cÃ¡nh Ä‘á»“ng (**Äiá»n ç”°**) lÃ  bá» ruá»™ng.", ta: "**HÃ¡n** (Han) tá»­ Ä‘i trÃªn bá».", examples: [{ w: "æ¹–ç•”", r: "ã“ã¯ã‚“", m: "Bá» há»“" }, { w: "æ± ç•”", r: "ã¡ã¯ã‚“", m: "Bá» ao" }] },
            { char: "è—©", nghiaHV: "PHIÃŠN", nghiaTV: "LÃ£nh Ä‘á»‹a", on: "ãƒãƒ³", kun: "-", ti: "Cá» (**Tháº£o è‰¹**) vÃ  nÆ°á»›c (**Thá»§y æ°µ**) á»Ÿ lÆ°á»£t (**PhiÃªn ç•ª**) lÃ£nh Ä‘á»‹a.", ta: "**HÃ¡n** (Han) tá»­ cai trá»‹ phiÃªn.", examples: [{ w: "è—©ä¸»", r: "ã¯ã‚“ã—ã‚…", m: "LÃ£nh chÃºa" }, { w: "å»ƒè—©ç½®çœŒ", r: "ã¯ã„ã¯ã‚“ã¡ã‘ã‚“", m: "Pháº¿ phiÃªn láº­p huyá»‡n" }] },

            // Society & Relationships - 10
            { char: "æ’", nghiaHV: "BÃ€I", nghiaTV: "BÃ i trá»«", on: "ãƒã‚¤", kun: "-", ti: "Tay (**Thá»§ æ‰Œ**) bÃ i trá»« Ä‘iá»u khÃ´ng (**Phi é**) Ä‘Ãºng.", ta: "**Hai** (Hai) ngÆ°á»i bÃ i trá»«.", examples: [{ w: "æ’å‡º", r: "ã¯ã„ã—ã‚…ã¤", m: "Tháº£i ra" }, { w: "æ’é™¤", r: "ã¯ã„ã˜ã‚‡", m: "Loáº¡i trá»«" }] },
            { char: "é™ª", nghiaHV: "Bá»’I", nghiaTV: "Bá»“i tháº©m", on: "ãƒã‚¤", kun: "-", ti: "Äá»“i (**Phá»¥ é˜**) láº­p (**Láº­p ç«‹**) miá»‡ng (**Kháº©u å£**) bá»“i tháº©m.", ta: "**Bai** (Bai) phá»¥c bá»“i tháº©m.", examples: [{ w: "é™ªå¯©", r: "ã°ã„ã—ã‚“", m: "Bá»“i tháº©m" }, { w: "é™ªå¸­", r: "ã°ã„ã›ã", m: "Ngá»“i cÃ¹ng" }] },
            { char: "å©†", nghiaHV: "BÃ€", nghiaTV: "BÃ  giÃ ", on: "ãƒ", kun: "ã°ã‚", ti: "SÃ³ng (**Ba æ³¢**) da phá»¥ ná»¯ (**Ná»¯ å¥³**) nhÄƒn nheo.", ta: "**Ba** (Ba) bÃ  giÃ  **Ba A** (Baa).", examples: [{ w: "è€å©†", r: "ã‚ã†ã°", m: "BÃ  lÃ£o" }, { w: "ãŠå©†ã•ã‚“", r: "ãŠã°ã‚ã•ã‚“", m: "BÃ " }] },
            { char: "è›®", nghiaHV: "MAN", nghiaTV: "Man rá»£", on: "ãƒãƒ³", kun: "-", ti: "CÃ´n trÃ¹ng (**TrÃ¹ng è™«**) man rá»£.", ta: "**Ban** (Ban) Ä‘Ãªm man rá»£.", examples: [{ w: "é‡è›®", r: "ã‚„ã°ã‚“", m: "DÃ£ man" }, { w: "å—è›®", r: "ãªã‚“ã°ã‚“", m: "NgÆ°á»i man di phÆ°Æ¡ng Nam" }] },
            { char: "ç›¤", nghiaHV: "BÃ€N", nghiaTV: "CÃ¡i Ä‘Ä©a/BÃ n", on: "ãƒãƒ³", kun: "-", ti: "Thuyá»n (**Chu èˆŸ**) chá»Ÿ Ä‘Ä©a (**MÃ£nh çš¿**) lÃªn bÃ n.", ta: "**Ban** (Ban) táº·ng cÃ¡i Ä‘Ä©a.", examples: [{ w: "åœ°ç›¤", r: "ã˜ã°ã‚“", m: "Ná»n mÃ³ng" }, { w: "å††ç›¤", r: "ãˆã‚“ã°ã‚“", m: "ÄÄ©a trÃ²n" }] },
            { char: "ä¼", nghiaHV: "PHáº T", nghiaTV: "Cháº·t/ÄÃ¡nh", on: "ãƒãƒ„", kun: "-", ti: "NgÆ°á»i (**NhÃ¢n äº»**) cáº§m mÃ¡c (**Qua æˆˆ**) Ä‘i Ä‘Ã¡nh.", ta: "**BÃ¡t** (Batsu) cÆ¡m bá»‹ pháº¡t.", examples: [{ w: "ä¼æ¡", r: "ã°ã£ã•ã„", m: "Cháº·t cÃ¢y" }, { w: "å¾ä¼", r: "ã›ã„ã°ã¤", m: "Chinh pháº¡t" }] },
            { char: "çˆ†", nghiaHV: "Bá»˜C", nghiaTV: "Ná»•", on: "ãƒã‚¯", kun: "-", ti: "Lá»­a (**Há»a ç«**) bá»™c (**Bá»™c æš´**) phÃ¡t ná»•.", ta: "**Ba CÆ°** (Baku) bá»™c phÃ¡t.", examples: [{ w: "çˆ†ç™º", r: "ã°ãã¯ã¤", m: "Vá»¥ ná»•" }, { w: "çˆ†å¼¾", r: "ã°ãã ã‚“", m: "Bom" }] },
            { char: "ç¸›", nghiaHV: "PHÆ¯á»¢C", nghiaTV: "TrÃ³i", on: "ãƒã‚¯", kun: "ã—ã°", ti: "Chá»‰ (**Má»‹ch ç³¸**) chuyÃªn (**ChuyÃªn å°ƒ**) dÃ¹ng Ä‘á»ƒ trÃ³i.", ta: "**Ba CÆ°** (Baku) **Si Ba** (Shibaru) trÃ³i láº¡i.", examples: [{ w: "æŸç¸›", r: "ããã°ã", m: "RÃ ng buá»™c" }, { w: "ç¸›ã‚‹", r: "ã—ã°ã‚‹", m: "TrÃ³i" }] },
            { char: "è¢«", nghiaHV: "Bá»Š", nghiaTV: "Bá»‹/Chá»‹u", on: "ãƒ’", kun: "ã“ã†ã‚€", ti: "Ão (**Y è¡£**) da (**BÃ¬ çš®**) bá»‹ rÃ¡ch.", ta: "**Hi** (Hi) hi bá»‹ **CÃ´ MÆ°** (Koumuru) háº¡i.", examples: [{ w: "è¢«å®³", r: "ã²ãŒã„", m: "Thiá»‡t háº¡i" }, { w: "è¢«å‘Š", r: "ã²ã“ã", m: "Bá»‹ cÃ¡o" }] },
            { char: "ç–²", nghiaHV: "BÃŒ", nghiaTV: "Má»‡t", on: "ãƒ’", kun: "ã¤ã‹", ti: "Bá»‡nh (**Náº¡ch ç–’**) ngoÃ i da (**BÃ¬ çš®**) gÃ¢y má»‡t.", ta: "**Hi** (Hi) vá»ng **TÆ° Ca** (Tsukareru) háº¿t má»‡t.", examples: [{ w: "ç–²åŠ´", r: "ã²ã‚ã†", m: "Má»‡t má»i" }, { w: "ç–²ã‚Œã‚‹", r: "ã¤ã‹ã‚Œã‚‹", m: "Má»‡t" }] },

            // Nature & Phenomena - 10
            { char: "ç¢‘", nghiaHV: "BI", nghiaTV: "Bia Ä‘Ã¡", on: "ãƒ’", kun: "-", ti: "ÄÃ¡ (**Tháº¡ch çŸ³**) tháº¥p hÃ¨n (**Ti å‘**) lÃ m bia.", ta: "**Hi** (Hi) vá»ng bia Ä‘Ã¡ cÃ²n mÃ£i.", examples: [{ w: "è¨˜å¿µç¢‘", r: "ãã­ã‚“ã²", m: "ÄÃ i ká»· niá»‡m" }, { w: "å¢“ç¢‘", r: "ã¼ã²", m: "Bia má»™" }] },
            { char: "é¿", nghiaHV: "Tá»Š", nghiaTV: "TrÃ¡nh", on: "ãƒ’", kun: "ã•", ti: "Äi (**SÆ°á»›c è¾¶**) trÃ¡nh vua (**TÃ­ch è¾Ÿ**).", ta: "**Hi** (Hi) hi **Sa** (Sakeru) trÃ¡nh ra.", examples: [{ w: "é¿é›£", r: "ã²ãªã‚“", m: "LÃ¡nh náº¡n" }, { w: "é¿ã‘ã‚‹", r: "ã•ã‘ã‚‹", m: "TrÃ¡nh" }] },
            { char: "å‘", nghiaHV: "TI", nghiaTV: "Tháº¥p hÃ¨n", on: "ãƒ’", kun: "ã„ã‚„", ti: "Ruá»™ng (**Äiá»n ç”°**) mÆ°á»i (**Tháº­p å**) máº«u váº«n tháº¥p hÃ¨n.", ta: "**Hi** (Hi) hi **I Ya** (Iyashii) ti tiá»‡n.", examples: [{ w: "å‘å±ˆ", r: "ã²ãã¤", m: "Bá»‰ á»•i" }, { w: "å‘ã—ã„", r: "ã„ã‚„ã—ã„", m: "Tháº¥p hÃ¨n" }] },
            { char: "å¾®", nghiaHV: "VI", nghiaTV: "Nhá» bÃ©", on: "ãƒ“", kun: "-", ti: "Äi (**XÃ­ch å½³**) lÃªn nÃºi (**SÆ¡n å±±**) tháº¥y má»™t (**Nháº¥t ä¸€**) ngÆ°á»i (**NhÃ¢n å„¿**) cáº§m gáº­y (**Phá»™c æ”µ**) nhá» bÃ©.", ta: "**Bi** (Bi) ká»‹ch nhá» bÃ©.", examples: [{ w: "å¾®å¦™", r: "ã³ã¿ã‚‡ã†", m: "Tinh táº¿/KhÃ³ táº£" }, { w: "å¾®ç†±", r: "ã³ã­ã¤", m: "Sá»‘t nháº¹" }] },
            { char: "æ³Œ", nghiaHV: "BÃ", nghiaTV: "Tiáº¿t ra", on: "ãƒ’ãƒ„", kun: "-", ti: "NÆ°á»›c (**Thá»§y æ°µ**) táº¥t (**Táº¥t å¿…**) nhiÃªn tiáº¿t ra.", ta: "**Hi TÆ°** (Hitsu) bÃ­ máº­t.", examples: [{ w: "åˆ†æ³Œ", r: "ã¶ã‚“ã´ã¤", m: "BÃ i tiáº¿t" }, { w: "æ³Œå°¿å™¨", r: "ã²ã«ã‚‡ã†ã", m: "CÆ¡ quan tiáº¿t niá»‡u" }] },
            { char: "æ¼‚", nghiaHV: "PHIÃŠU", nghiaTV: "TrÃ´i ná»•i", on: "ãƒ’ãƒ§ã‚¦", kun: "ãŸã ã‚ˆ", ti: "NÆ°á»›c (**Thá»§y æ°µ**) cuá»‘n vÃ© (**Phiáº¿u ç¥¨**) trÃ´i ná»•i.", ta: "**HiÃ´** (Hyou) **Ta Äa DÃ´** (Tadayou) phiÃªu dáº¡t.", examples: [{ w: "æ¼‚æµ", r: "ã²ã‚‡ã†ã‚Šã‚…ã†", m: "PhiÃªu lÆ°u" }, { w: "æ¼‚ã†", r: "ãŸã ã‚ˆã†", m: "TrÃ´i ná»•i" }] },
            { char: "æ", nghiaHV: "MIÃŠU", nghiaTV: "Váº½/MiÃªu táº£", on: "ãƒ“ãƒ§ã‚¦", kun: "ãˆãŒ", ti: "Tay (**Thá»§ æ‰Œ**) váº½ máº§m cÃ¢y (**MiÃªu è‹—**).", ta: "**BiÃ´** (Byou) **ÃŠ Ga** (Egaku) miÃªu táº£.", examples: [{ w: "æå†™", r: "ã³ã‚‡ã†ã—ã‚ƒ", m: "MiÃªu táº£" }, { w: "æã", r: "ãˆãŒã", m: "Váº½" }] },
            { char: "è‹—", nghiaHV: "MIÃŠU", nghiaTV: "CÃ¢y con", on: "ãƒ“ãƒ§ã‚¦", kun: "ãªãˆ", ti: "Cá» (**Tháº£o è‰¹**) trÃªn ruá»™ng (**Äiá»n ç”°**) lÃ  máº¡.", ta: "**BiÃ´** (Byou) **Na ÃŠ** (Nae) máº¡ non.", examples: [{ w: "è‹—æœ¨", r: "ãªãˆã", m: "CÃ¢y giá»‘ng" }, { w: "è‹—", r: "ãªãˆ", m: "CÃ¢y con" }] },
            { char: "å°¾", nghiaHV: "VÄ¨", nghiaTV: "ÄuÃ´i", on: "ãƒ“", kun: "ãŠ", ti: "CÃ¡i xÃ¡c (**Thi å°¸**) cÃ³ lÃ´ng (**Mao æ¯›**) á»Ÿ Ä‘uÃ´i.", ta: "**Bi** (Bi) ká»‹ch cÃ¡i Ä‘uÃ´i **Ã”** (O).", examples: [{ w: "æœ«å°¾", r: "ã¾ã¤ã³", m: "Cuá»‘i cÃ¹ng" }, { w: "å°¾", r: "ãŠ", m: "ÄuÃ´i" }] },
            { char: "æµœ", nghiaHV: "BANH", nghiaTV: "BÃ£i biá»ƒn", on: "ãƒ’ãƒ³", kun: "ã¯ã¾", ti: "NÆ°á»›c (**Thá»§y æ°µ**) bÃªn binh (**Binh å…µ**) lÃ­nh á»Ÿ bÃ£i biá»ƒn.", ta: "**Hin** (Hin) **Ha Ma** (Hama) bÃ£i biá»ƒn.", examples: [{ w: "äº¬æµœ", r: "ã‘ã„ã²ã‚“", m: "Tokyo-Yokohama" }, { w: "æµœè¾º", r: "ã¯ã¾ã¹", m: "Bá» biá»ƒn" }] },

            // Others - 10
            { char: "æ•", nghiaHV: "MáºªN", nghiaTV: "Nhanh nháº¡y", on: "ãƒ“ãƒ³", kun: "-", ti: "Má»—i (**Má»—i æ¯**) láº§n Ä‘Ã¡nh (**Phá»™c æ”µ**) Ä‘á»u nhanh nháº¡y.", ta: "**Bin** (Bin) máº«n cáº£m.", examples: [{ w: "æ•æ„Ÿ", r: "ã³ã‚“ã‹ã‚“", m: "Máº«n cáº£m" }, { w: "æ©Ÿæ•", r: "ãã³ã‚“", m: "Nhanh nháº¹n" }] },
            { char: "æ€–", nghiaHV: "PHá»", nghiaTV: "Sá»£", on: "ãƒ•", kun: "ã“ã‚", ti: "Tim (**TÃ¢m å¿„**) sá»£ táº¥m váº£i (**Bá»‘ å¸ƒ**).", ta: "**PhÃ¹** (Fu) thá»§y **CÃ´ Wa** (Kowai) Ä‘Ã¡ng sá»£.", examples: [{ w: "ææ€–", r: "ãã‚‡ã†ãµ", m: "Sá»£ hÃ£i" }, { w: "æ€–ã„", r: "ã“ã‚ã„", m: "Sá»£" }] },
            { char: "ç¬¦", nghiaHV: "PHÃ™", nghiaTV: "Dáº¥u hiá»‡u", on: "ãƒ•", kun: "-", ti: "Tre (**TrÃºc ç«¹**) gáº¯n (**PhÃ³ ä»˜**) lÃ m phÃ¹ hiá»‡u.", ta: "**PhÃ¹** (Fu) hiá»‡u.", examples: [{ w: "åˆ‡ç¬¦", r: "ãã£ã·", m: "VÃ©" }, { w: "ç¬¦å·", r: "ãµã”ã†", m: "KÃ½ hiá»‡u" }] },
            { char: "è…", nghiaHV: "Há»¦", nghiaTV: "Thá»‘i/Má»¥c", on: "ãƒ•", kun: "ãã•", ti: "Thá»‹t (**Nhá»¥c è‚‰**) trong phá»§ (**Phá»§ åºœ**) bá»‹ thá»‘i.", ta: "**PhÃ¹** (Fu) thá»§y **CÆ° Sa** (Kusaru) thá»‘i rá»¯a.", examples: [{ w: "è…æ•—", r: "ãµã¯ã„", m: "Há»§ báº¡i" }, { w: "è…ã‚‹", r: "ãã•ã‚‹", m: "Thá»‘i/Há»ng" }] },
            { char: "æ•·", nghiaHV: "PHU", nghiaTV: "Tráº£i lÃ¡t", on: "ãƒ•", kun: "ã—", ti: "Tráº£i rá»™ng (**Phá»§ ç”«**) ra kháº¯p bá»‘n phÆ°Æ¡ng (**PhÆ°Æ¡ng æ–¹**) rá»“i Ä‘Ã¡nh (**Phá»™c æ”µ**).", ta: "**PhÃ¹** (Fu) du **Si** (Shiku) tráº£i ra.", examples: [{ w: "æ•·é‡‘", r: "ã—ããã‚“", m: "Tiá»n cá»c" }, { w: "æ•·ã", r: "ã—ã", m: "Tráº£i/LÃ¡t" }] },
            { char: "è†š", nghiaHV: "PHU", nghiaTV: "Da", on: "ãƒ•", kun: "-", ti: "Há»• (**Há»• è™**) dáº¡ dÃ y (**Dáº¡ èƒƒ**) da thá»‹t.", ta: "**PhÃ¹** (Fu) phiáº¿m da thá»‹t.", examples: [{ w: "çš®è†š", r: "ã²ãµ", m: "Da" }, { w: "å®Œè†šãªãã¾ã§", r: "ã‹ã‚“ã·ãªãã¾ã§", m: "HoÃ n toÃ n/Triá»‡t Ä‘á»ƒ" }] },
            { char: "æµ®", nghiaHV: "PHÃ™", nghiaTV: "Ná»•i", on: "ãƒ•", kun: "ã†", ti: "NÆ°á»›c (**Thá»§y æ°µ**) nÃ¢ng con (**Tá»­ å­**) ná»•i lÃªn.", ta: "**PhÃ¹** (Fu) há»™ **U** (Uku) ná»•i.", examples: [{ w: "æµ®åŠ›", r: "ãµã‚Šã‚‡ã", m: "Sá»©c ná»•i" }, { w: "æµ®ã", r: "ã†ã", m: "Ná»•i" }] },
            { char: "èµ´", nghiaHV: "PHÃ“", nghiaTV: "Äi tá»›i", on: "ãƒ•", kun: "-", ti: "Cháº¡y (**Táº©u èµ°**) Ä‘i bÃ³i (**Bá»‘c åœ**) tá»›i nÆ¡i.", ta: "**PhÃ¹** (Fu) há»™ Ä‘i tá»›i.", examples: [{ w: "èµ´ä»»", r: "ãµã«ã‚“", m: "Nháº­m chá»©c" }, { w: "èµ´ã", r: "ãŠã‚‚ã‚€ã", m: "Äi vá» phÃ­a" }] },
            { char: "æ™®", nghiaHV: "PHá»”", nghiaTV: "Phá»• biáº¿n", on: "ãƒ•", kun: "-", ti: "Máº·t trá»i (**Nháº­t æ—¥**) chiáº¿u sÃ¡ng kháº¯p nÆ¡i (**Tá»‹nh ä¸¦**).", ta: "**PhÃ¹** (Fu) há»™ phá»• biáº¿n.", examples: [{ w: "æ™®é€š", r: "ãµã¤ã†", m: "BÃ¬nh thÆ°á»ng" }, { w: "æ™®åŠ", r: "ãµãã‚…ã†", m: "Phá»• cáº­p" }] },
            { char: "è³¦", nghiaHV: "PHÃš", nghiaTV: "Tiá»n thuáº¿/ThÆ¡", on: "ãƒ•", kun: "-", ti: "Tiá»n (**Bá»‘i è²**) cá»§a vÃµ sÄ© (**VÅ© æ­¦**) lÃ  thuáº¿.", ta: "**PhÃ¹** (Fu) phiáº¿m phÃº thuáº¿.", examples: [{ w: "è³¦èª²", r: "ãµã‹", m: "ÄÃ¡nh thuáº¿" }, { w: "å¤©è³¦", r: "ã¦ã‚“ã·", m: "ThiÃªn phÃº" }] },
            { char: "å¹…", nghiaHV: "PHÃšC", nghiaTV: "Chiá»u rá»™ng", on: "ãƒ•ã‚¯", kun: "ã¯ã°", ti: "KhÄƒn (**CÃ¢n å·¾**) phÃºc (**PhÃºc å¯Œ** - biáº¿n thá»ƒ) rá»™ng.", ta: "**Phá»¥c** (Fuku) vá»¥ **Ha Ba** (Haba) chiá»u rá»™ng.", examples: [{ w: "å¤§å¹…", r: "ãŠãŠã¯ã°", m: "KhÃ¡ nhiá»u" }, { w: "å¹…", r: "ã¯ã°", m: "Chiá»u rá»™ng" }] },
            { char: "ä¼", nghiaHV: "PHá»¤C", nghiaTV: "CÃºi xuá»‘ng/Náº¥p", on: "ãƒ•ã‚¯", kun: "ãµ", ti: "NgÆ°á»i (**NhÃ¢n äº»**) vÃ  chÃ³ (**Khuyá»ƒn çŠ¬**) phá»¥c kÃ­ch.", ta: "**Phá»¥c** (Fuku) kÃ­ch **PhÆ°** (Fuseru) cÃºi xuá»‘ng.", examples: [{ w: "èµ·ä¼", r: "ããµã", m: "Nháº¥p nhÃ´" }, { w: "ä¼ã›ã‚‹", r: "ãµã›ã‚‹", m: "Náº±m xuá»‘ng/Giáº¥u" }] },
            { char: "è¦†", nghiaHV: "PHÃšC", nghiaTV: "Che Ä‘áº­y/Láº­t", on: "ãƒ•ã‚¯", kun: "ãŠãŠ", ti: "Vá» (**Phá»¥c å¾©**) nhÃ  (**Ã è¦€**) che Ä‘áº­y.", ta: "**Phá»¥c** (Fuku) vá»¥ **Ã”** (Oou) che phá»§.", examples: [{ w: "è¦†é¢", r: "ãµãã‚ã‚“", m: "Máº·t náº¡" }, { w: "è¦†ã†", r: "ãŠãŠã†", m: "Che/Phá»§" }] },
            { char: "æ‰•", nghiaHV: "PHáº¤T", nghiaTV: "Tráº£/Phá»§i", on: "ãƒ•ãƒ„", kun: "ã¯ã‚‰", ti: "Tay (**Thá»§ æ‰Œ**) pháº¥t (**TÆ° ãƒ **) tráº£ tiá»n.", ta: "**Pháº¥t** (Futsu) **Ha Ra** (Harau) tráº£ tiá»n.", examples: [{ w: "æ‰•æ‹­", r: "ãµã£ã—ã‚‡ã", m: "Lau chÃ¹i/XÃ³a tan" }, { w: "æ‰•ã†", r: "ã¯ã‚‰ã†", m: "Tráº£ tiá»n" }] },
            { char: "ç´›", nghiaHV: "PHÃ‚N", nghiaTV: "Rá»‘i/Láº«n", on: "ãƒ•ãƒ³", kun: "ã¾ã", ti: "Sá»£i chá»‰ (**Má»‹ch ç³¸**) chia (**PhÃ¢n åˆ†**) ra rá»‘i ráº¯m.", ta: "**HÆ°ng** (Fun) pháº¥n **Ma Ghi** (Magireru) láº«n lá»™n.", examples: [{ w: "ç´›å¤±", r: "ãµã‚“ã—ã¤", m: "LÃ m máº¥t" }, { w: "ç´›ã‚Œã‚‹", r: "ã¾ãã‚Œã‚‹", m: "Bá»‹ láº«n" }] },
            { char: "å™´", nghiaHV: "PHÃšN", nghiaTV: "Phun ra", on: "ãƒ•ãƒ³", kun: "ãµ", ti: "Miá»‡ng (**Kháº©u å£**) phun hoa cá» (**BÃ´n è³**).", ta: "**HÆ°ng** (Fun) pháº¥n **PhÆ°** (Fuku) phun ra.", examples: [{ w: "å™´æ°´", r: "ãµã‚“ã™ã„", m: "ÄÃ i phun nÆ°á»›c" }, { w: "å™´ã", r: "ãµã", m: "Phun/Thá»•i" }] },
            { char: "å¢³", nghiaHV: "PHáº¦N", nghiaTV: "Má»™", on: "ãƒ•ãƒ³", kun: "-", ti: "Äáº¥t (**Thá»• åœŸ**) Ä‘áº¯p lÃªn hoa cá» (**BÃ´n è³**) thÃ nh má»™.", ta: "**HÆ°ng** (Fun) pháº¥n ngÃ´i má»™.", examples: [{ w: "å¤å¢³", r: "ã“ãµã‚“", m: "Má»™ cá»•" }, { w: "å¢³å¢“", r: "ãµã‚“ã¼", m: "Pháº§n má»™" }] },
            { char: "èˆ", nghiaHV: "VÅ¨", nghiaTV: "MÃºa", on: "ãƒ–", kun: "ã¾", ti: "NgÆ°á»i cáº§m cÃ nh cÃ¢y nháº£y mÃºa vÃ o buá»•i chiá»u (**Tá»‹ch å¤•**).", ta: "**BÃº** (Bu) má»›m **Ma** (Mau) mÃºa.", examples: [{ w: "èˆå°", r: "ã¶ãŸã„", m: "SÃ¢n kháº¥u" }, { w: "èˆã†", r: "ã¾ã†", m: "MÃºa" }] },
            { char: "æ•", nghiaHV: "Bá»”", nghiaTV: "Báº¯t", on: "ãƒ›", kun: "ã¨", ti: "Tay (**Thá»§ æ‰Œ**) báº¯t láº¥y bá»“ (**Phá»¥ ç”«**).", ta: "Äá»“ng **Há»“** (Ho) **TÃ´** (Toru) báº¯t.", examples: [{ w: "é€®æ•", r: "ãŸã„ã»", m: "Báº¯t giá»¯" }, { w: "æ•ã‚‹", r: "ã¨ã‚‹", m: "Báº¯t" }] },
            { char: "èˆ—", nghiaHV: "PHá»", nghiaTV: "Cá»­a hÃ ng/LÃ¡t", on: "ãƒ›", kun: "-", ti: "NhÃ  (**XÃ¡ èˆ**) cá»§a cha (**Phá»¥ ç”«**) á»Ÿ phá»‘.", ta: "Äá»“ng **Há»“** (Ho) phá»‘ xÃ¡.", examples: [{ w: "åº—èˆ—", r: "ã¦ã‚“ã½", m: "Cá»­a hÃ ng" }, { w: "èˆ—è£…", r: "ã»ãã†", m: "LÃ¡t Ä‘Æ°á»ng" }] }
        ];

        // --- STATE ---
        let currentTab = 'learn';
        let currentQuizIndex = 0;
        let quizScore = 0;
        let currentQuizQuestion = null;
        let currentStrokeSvg = null;

        // --- UTILS ---
        function speak(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                // Clean text for speech: remove special chars
                const clean = text.replace(/\[.*?\]/g, '').replace(/<.*?>/g, '').replace(/ãƒ»/g, '').replace(/\*/g, '');
                const u = new SpeechSynthesisUtterance(clean);
                u.lang = 'ja-JP'; u.rate = 0.9;
                window.speechSynthesis.speak(u);
            }
        }

        function getKanjiHex(kanji) {
            return kanji.charCodeAt(0).toString(16).padStart(5, '0');
        }

        async function fetchKanjiSvg(hex) {
            try {
                const response = await fetch(`https://cdn.jsdelivr.net/gh/KanjiVG/kanjivg/kanji/${hex}.svg`);
                if (!response.ok) throw new Error('Not found');
                return await response.text();
            } catch (e) { return null; }
        }

        // --- TABS ---
        function switchTab(tab) {
            currentTab = tab;
            document.getElementById('learn-section').classList.toggle('hidden', tab !== 'learn');
            document.getElementById('quiz-section').classList.toggle('hidden', tab !== 'quiz');
            
            const btnLearn = document.getElementById('tab-learn');
            const btnQuiz = document.getElementById('tab-quiz');
            
            if (tab === 'learn') {
                btnLearn.classList.add('tab-active'); btnLearn.classList.remove('tab-inactive');
                btnQuiz.classList.add('tab-inactive'); btnQuiz.classList.remove('tab-active');
            } else {
                btnQuiz.classList.add('tab-active'); btnQuiz.classList.remove('tab-inactive');
                btnLearn.classList.add('tab-inactive'); btnLearn.classList.remove('tab-active');
                startQuiz();
            }
        }

        // --- RENDER LEARN ---
        function renderLearn() {
            const grid = document.getElementById('kanji-grid');
            grid.innerHTML = kanjiData.map((k, idx) => `
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition duration-300 flex flex-col group">
                    <!-- HEADER -->
                    <div class="bg-sky-50 p-4 border-b border-sky-100 flex justify-between items-start relative">
                        <div class="flex gap-4 items-center">
                            <div class="w-16 h-16 bg-white rounded-lg flex items-center justify-center border-2 border-sky-200 cursor-pointer hover:border-sky-400 transition shadow-sm" onclick="showStrokeOrder('${k.char}')">
                                <span class="text-4xl font-bold kanji-font text-gray-800">${k.char}</span>
                            </div>
                            <div>
                                <div class="text-red-600 font-bold text-lg tracking-wide">${k.nghiaHV}</div>
                                <div class="text-gray-600 text-sm font-medium">${k.nghiaTV}</div>
                            </div>
                        </div>
                        <button onclick="showStrokeOrder('${k.char}')" class="text-sky-500 hover:text-sky-700 bg-white rounded-full p-2 w-8 h-8 flex items-center justify-center shadow-sm border border-sky-100"><i class="fas fa-pen-nib text-xs"></i></button>
                        <div class="absolute -bottom-3 right-4 text-6xl text-gray-100 font-black -z-0 pointer-events-none select-none">${idx + 1368}</div>
                    </div>
                    
                    <!-- BODY -->
                    <div class="p-4 space-y-3 z-10 relative flex-grow flex flex-col">
                        <!-- READINGS with Audio -->
                        <div class="grid grid-cols-2 gap-3 text-sm">
                            <div class="bg-gray-50 rounded p-2 border border-gray-100">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-[10px] uppercase font-bold text-gray-400">On</span>
                                    <button onclick="speak('${k.on}')" class="text-sky-400 hover:text-sky-600"><i class="fas fa-volume-up text-xs"></i></button>
                                </div>
                                <span class="font-bold text-sky-800 kanji-font text-base">${k.on}</span>
                            </div>
                            <div class="bg-gray-50 rounded p-2 border border-gray-100">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-[10px] uppercase font-bold text-gray-400">Kun</span>
                                    <button onclick="speak('${k.kun}')" class="text-sky-400 hover:text-sky-600"><i class="fas fa-volume-up text-xs"></i></button>
                                </div>
                                <span class="font-bold text-sky-800 kanji-font text-base">${k.kun}</span>
                            </div>
                        </div>
                        
                        <!-- MNEMONICS (AZAKANJI STYLE) -->
                        <div class="space-y-2">
                            <div class="bg-orange-50 p-2 rounded text-xs text-orange-900 border border-orange-100">
                                <span class="font-bold text-orange-600 mr-1">ğŸ–¼ï¸ HÃ¬nh:</span> ${k.ti}
                            </div>
                            <div class="bg-blue-50 p-2 rounded text-xs text-blue-900 border border-blue-100">
                                <span class="font-bold text-blue-600 mr-1">ğŸ”Š Ã‚m:</span> ${k.ta.replace(/\*\*(.*?)\*\*/g, '<span class="font-bold text-blue-700">$1</span>')}
                            </div>
                        </div>

                        <!-- EXAMPLES with Audio -->
                        <div class="pt-2 border-t border-gray-100 space-y-2 mt-auto">
                            ${k.examples.map(ex => `
                                <div class="flex justify-between items-center group/ex cursor-pointer p-1 rounded hover:bg-gray-50" onclick="speak('${ex.w}')">
                                    <div>
                                        <div class="kanji-font font-bold text-gray-800 text-sm">${ex.w} <span class="text-xs font-normal text-gray-400">(${ex.r})</span></div>
                                        <div class="text-xs text-gray-500">${ex.m}</div>
                                    </div>
                                    <i class="fas fa-volume-up text-xs text-gray-300 group-hover/ex:text-sky-500 transition"></i>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // --- STROKE ORDER MODAL ---
        async function showStrokeOrder(kanji) {
            const hex = getKanjiHex(kanji);
            document.getElementById('stroke-modal').classList.remove('hidden');
            document.getElementById('stroke-modal-char').innerText = kanji;
            
            const animContainer = document.getElementById('stroke-animation-container');
            const gridContainer = document.getElementById('stroke-grid-container');
            animContainer.innerHTML = '<span class="text-xs text-gray-400">Äang táº£i...</span>';
            
            const svgContent = await fetchKanjiSvg(hex);
            if (!svgContent) {
                animContainer.innerHTML = "<p class='p-4 text-red-500 text-xs'>Lá»—i</p>";
                gridContainer.innerHTML = "";
                return;
            }

            // Animation Setup
            animContainer.innerHTML = svgContent;
            const mainSvg = animContainer.querySelector('svg');
            mainSvg.setAttribute('width', '100%'); mainSvg.setAttribute('height', '100%');
            const paths = mainSvg.querySelectorAll('path');
            paths.forEach(p => {
                const len = p.getTotalLength();
                p.style.strokeDasharray = len; p.style.strokeDashoffset = len;
                p.style.stroke = "#333"; p.style.strokeWidth = "4"; p.style.fill = "none";
                p.style.strokeLinecap = "round"; p.style.strokeLinejoin = "round";
            });
            currentStrokeSvg = mainSvg;
            replayStrokeAnimation();

            // Grid Setup
            gridContainer.innerHTML = '';
            for(let i=0; i<paths.length; i++) {
                const box = document.createElement('div');
                box.className = "w-12 h-12 md:w-16 md:h-16 bg-white border border-gray-200 relative stroke-grid-box flex items-center justify-center";
                const parser = new DOMParser();
                const svgClone = parser.parseFromString(svgContent, "image/svg+xml").querySelector('svg');
                svgClone.setAttribute('width', '100%'); svgClone.setAttribute('height', '100%');
                svgClone.querySelectorAll('path').forEach((p, idx) => {
                    p.style.fill="none"; p.style.strokeLinecap="round"; p.style.strokeLinejoin="round";
                    if(idx < i) { p.style.stroke="#9ca3af"; p.style.strokeWidth="3"; }
                    else if(idx === i) { p.style.stroke="#000"; p.style.strokeWidth="4"; }
                    else p.style.display="none";
                });
                box.appendChild(svgClone);
                gridContainer.appendChild(box);
            }
        }

        function replayStrokeAnimation() {
            if(!currentStrokeSvg) return;
            const paths = currentStrokeSvg.querySelectorAll('path');
            paths.forEach(p => { p.style.transition = 'none'; p.style.strokeDashoffset = p.getTotalLength(); });
            void currentStrokeSvg.offsetWidth;
            let delay = 0;
            paths.forEach(p => {
                p.style.transition = `stroke-dashoffset 0.6s ease-in-out ${delay}s`;
                p.style.strokeDashoffset = '0';
                delay += 0.6;
            });
        }

        function closeStrokeModal() { document.getElementById('stroke-modal').classList.add('hidden'); }

        // --- QUIZ LOGIC ---
        function startQuiz() {
            quizScore = 0;
            currentQuizIndex = 0;
            document.getElementById('score-display').innerText = '0';
            loadQuestion();
        }

        function loadQuestion() {
            const qType = Math.random() > 0.5 ? 'kanji-meaning' : 'meaning-kanji';
            const target = kanjiData[Math.floor(Math.random() * kanjiData.length)];
            currentQuizQuestion = { target, type: qType };

            const display = document.getElementById('quiz-kanji-display');
            const questionText = document.getElementById('quiz-question-text');
            const optionsArea = document.getElementById('options-area');
            
            document.getElementById('feedback-area').classList.add('hidden');
            document.getElementById('q-current').innerText = currentQuizIndex + 1;
            document.getElementById('quiz-progress').style.width = `${((currentQuizIndex) / 10) * 100}%`;

            // Generate distractors
            const others = kanjiData.filter(k => k !== target).sort(() => 0.5 - Math.random()).slice(0, 3);
            const options = [target, ...others].sort(() => 0.5 - Math.random());

            if (qType === 'kanji-meaning') {
                display.innerText = target.char;
                questionText.innerText = "HÃ¡n tá»± nÃ y cÃ³ nghÄ©a lÃ  gÃ¬?";
                optionsArea.innerHTML = options.map(opt => `
                    <button onclick="checkAnswer('${opt.char}')" class="quiz-opt-btn bg-white border-2 border-gray-200 p-4 rounded-xl hover:border-sky-400 hover:bg-sky-50 transition active:scale-95 shadow-sm text-lg font-bold text-gray-700">
                        ${opt.nghiaHV} (${opt.nghiaTV})
                    </button>
                `).join('');
            } else {
                display.innerText = target.nghiaHV;
                questionText.innerText = `Chá»n Kanji tÆ°Æ¡ng á»©ng vá»›i "${target.nghiaTV}"`;
                optionsArea.innerHTML = options.map(opt => `
                    <button onclick="checkAnswer('${opt.char}')" class="quiz-opt-btn bg-white border-2 border-gray-200 p-4 rounded-xl hover:border-sky-400 hover:bg-sky-50 transition active:scale-95 shadow-sm text-4xl font-bold kanji-font text-gray-800">
                        ${opt.char}
                    </button>
                `).join('');
            }
        }

        function checkAnswer(selectedChar) {
            const btns = document.querySelectorAll('.quiz-opt-btn');
            btns.forEach(b => b.disabled = true);

            const isCorrect = selectedChar === currentQuizQuestion.target.char;
            const feedbackArea = document.getElementById('feedback-area');
            const feedbackTitle = document.getElementById('feedback-title');
            const feedbackDetail = document.getElementById('feedback-detail');

            feedbackArea.classList.remove('hidden');

            if (isCorrect) {
                quizScore += 10;
                document.getElementById('score-display').innerText = quizScore;
                feedbackTitle.innerHTML = '<i class="fas fa-check-circle text-emerald-500 mr-2"></i> ChÃ­nh xÃ¡c!';
                feedbackTitle.className = "font-bold text-lg mb-1 flex items-center text-emerald-700";
                feedbackDetail.innerHTML = `
                    <span class="text-3xl kanji-font font-bold text-gray-800 mr-2">${currentQuizQuestion.target.char}</span>
                    <span class="font-bold text-red-600">${currentQuizQuestion.target.nghiaHV}</span>: ${currentQuizQuestion.target.nghiaTV}
                `;
                feedbackArea.className = "bg-emerald-50 rounded-xl p-4 border border-emerald-200 text-left animate-fade-in";
                speak(currentQuizQuestion.target.char);
            } else {
                feedbackTitle.innerHTML = '<i class="fas fa-times-circle text-red-500 mr-2"></i> Sai rá»“i!';
                feedbackTitle.className = "font-bold text-lg mb-1 flex items-center text-red-700";
                feedbackDetail.innerHTML = `ÄÃ¡p Ã¡n Ä‘Ãºng lÃ : <strong>${currentQuizQuestion.target.char} (${currentQuizQuestion.target.nghiaTV})</strong>`;
                feedbackArea.className = "bg-red-50 rounded-xl p-4 border border-red-200 text-left animate-fade-in wrong-anim";
            }
        }

        function nextQuestion() {
            currentQuizIndex++;
            if (currentQuizIndex >= 10) {
                alert(`HoÃ n thÃ nh! Báº¡n Ä‘áº¡t ${quizScore} Ä‘iá»ƒm.`);
                startQuiz();
            } else {
                loadQuestion();
            }
        }

        // INIT
        renderLearn();

    </script>
</body>
</html>
