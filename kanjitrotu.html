<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AzaKanji Master - ToÃ n bá»™ Kanji Trá»£ Tá»«</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Nunito', sans-serif; background-color: #f0f9ff; overflow-x: hidden; }
        .kanji-font { font-family: 'Noto Sans JP', sans-serif; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 4px; }

        /* Flashcard Animation */
        .perspective { perspective: 1000px; }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
            cursor: pointer;
        }
        .is-flipped .card-inner { transform: rotateY(180deg); }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 1.5rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .card-front { background: white; border: 2px solid #e2e8f0; }
        .card-back { background: #fffbeb; border: 2px solid #fde68a; transform: rotateY(180deg); }

        /* Stroke Grid Styles */
        .stroke-path { fill: none; stroke: #333; stroke-width: 3; stroke-linecap: round; stroke-linejoin: round; }
        .stroke-grid-box { border: 1px solid #e5e7eb; background-color: white; position: relative; }
        .stroke-grid-box::after { content: ''; position: absolute; top: 0; left: 50%; width: 1px; height: 100%; background: repeating-linear-gradient(to bottom, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); z-index: 0; }
        .stroke-grid-box::before { content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 1px; background: repeating-linear-gradient(to right, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); z-index: 0; }

        .level-n5 { border-top: 5px solid #22c55e; }
        .level-n4 { border-top: 5px solid #3b82f6; }
        .level-n3 { border-top: 5px solid #f59e0b; }

        .modal-enter { animation: modalIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes modalIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-sky-700 text-white shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-3 cursor-pointer" onclick="location.reload()">
                    <i class="fas fa-hamsa text-3xl text-yellow-400"></i>
                    <div>
                        <h1 class="text-xl font-bold uppercase tracking-wider">AzaKanji Master</h1>
                        <p class="text-xs text-sky-200">Kanji Trá»£ Tá»« â€¢ Flip Flashcards</p>
                    </div>
                </div>
                <div class="flex gap-2">
                    <a href="https://tiengnhatsieutoc.com/ftrotu.html" class="px-4 py-2 bg-sky-800 rounded-lg text-sm font-bold hover:bg-sky-900 transition flex items-center">
                        <i class="fas fa-home mr-2"></i> Trá»£ Tá»«
                    </a>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-6 flex-grow">
        <div class="mb-8 text-center fade-in">
            <h2 class="text-2xl font-bold text-gray-800 mb-2">ğŸ® ChÃ¢n NgÃ£ Khai SÃ¡ng - Kanji Tinh Táº¥n</h2>
            <p class="text-gray-600 text-sm max-w-lg mx-auto italic">Cháº¡m Ä‘á»ƒ láº­t tháº», nháº¥n vÃ o nÃºt <i class="fas fa-pen-nib mx-1"></i> Ä‘á»ƒ xem cÃ¡ch viáº¿t chi tiáº¿t.</p>
        </div>

        <!-- Filter Tabs -->
        <div class="flex justify-center gap-2 mb-8 overflow-x-auto pb-2">
            <button onclick="filterLevel('all')" class="filter-btn px-5 py-2 rounded-full bg-sky-600 text-white font-bold text-sm shadow-md transition" id="btn-all">Táº¥t cáº£</button>
            <button onclick="filterLevel('N5')" class="filter-btn px-5 py-2 rounded-full bg-white text-gray-600 font-bold text-sm border hover:bg-sky-50 transition" id="btn-N5">N5</button>
            <button onclick="filterLevel('N4')" class="filter-btn px-5 py-2 rounded-full bg-white text-gray-600 font-bold text-sm border hover:bg-sky-50 transition" id="btn-N4">N4</button>
            <button onclick="filterLevel('N3')" class="filter-btn px-5 py-2 rounded-full bg-white text-gray-600 font-bold text-sm border hover:bg-sky-50 transition" id="btn-N3">N3</button>
        </div>

        <!-- Kanji Grid -->
        <div id="kanji-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
            <!-- Cards will be injected here -->
        </div>
    </main>

    <!-- STROKE ORDER MODAL (NÃ¢ng cáº¥p API) -->
    <div id="stroke-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeStrokeModal()"></div>
            <div class="inline-block align-bottom bg-white rounded-3xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl w-full modal-enter relative">
                
                <div class="bg-sky-600 px-6 py-4 flex justify-between items-center text-white">
                    <h3 class="text-xl font-bold flex items-center">
                        <i class="fas fa-pen-nib mr-3"></i> Luyá»‡n Viáº¿t Tinh Táº¥n
                    </h3>
                    <button onclick="closeStrokeModal()" class="hover:text-gray-200 text-2xl">&times;</button>
                </div>

                <div class="p-6 bg-gray-50 max-h-[85vh] overflow-y-auto">
                    <div class="flex flex-col lg:flex-row gap-8">
                        <!-- Left: Animation & Info -->
                        <div class="lg:w-1/3 space-y-6">
                            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-200 text-center">
                                <div id="stroke-animation-container" class="w-48 h-48 mx-auto stroke-grid-box flex items-center justify-center bg-white border border-gray-300">
                                    <span class="text-gray-400 text-xs">Äang táº£i...</span>
                                </div>
                                <div class="mt-4 flex gap-2">
                                    <button onclick="replayStrokeAnimation()" class="flex-1 bg-sky-100 text-sky-700 py-2 rounded-xl font-bold text-sm hover:bg-sky-200 transition"><i class="fas fa-redo mr-2"></i> Viáº¿t láº¡i</button>
                                    <button onclick="speakModal()" class="w-12 bg-sky-50 text-sky-600 py-2 rounded-xl hover:bg-sky-100 transition"><i class="fas fa-volume-up"></i></button>
                                </div>
                            </div>
                            
                            <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-200">
                                <div class="text-4xl font-bold kanji-font text-sky-700 mb-1" id="m-char"></div>
                                <div class="text-lg font-bold text-red-600 tracking-wider mb-2" id="m-hanviet"></div>
                                <div class="bg-sky-50 p-3 rounded-xl border border-sky-100 mb-3">
                                    <h4 class="text-[10px] uppercase font-bold text-sky-500 mb-1">Ã nghÄ©a</h4>
                                    <p class="text-gray-800 font-bold" id="m-nghia"></p>
                                </div>
                                <div class="bg-yellow-50 p-3 rounded-xl border border-yellow-100">
                                    <h4 class="text-[10px] uppercase font-bold text-yellow-600 mb-1">PhÃ¢n rÃ£ & Ghi nhá»›</h4>
                                    <p class="text-gray-700 text-xs italic leading-relaxed" id="m-phanra"></p>
                                </div>
                            </div>
                        </div>

                        <!-- Right: Stroke Grid & Examples -->
                        <div class="lg:w-2/3 space-y-6">
                            <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-200">
                                <h4 class="text-gray-400 font-bold text-xs uppercase mb-4 tracking-widest">Thá»© tá»± tá»«ng nÃ©t</h4>
                                <div id="stroke-grid-container" class="flex flex-wrap gap-3"></div>
                            </div>

                            <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-200">
                                <h4 class="text-gray-400 font-bold text-xs uppercase mb-4 tracking-widest">Ã‚m Ä‘á»c & VÃ­ dá»¥</h4>
                                <div class="grid grid-cols-2 gap-4 mb-4">
                                    <div class="bg-gray-50 p-2 rounded-lg">
                                        <span class="text-[9px] uppercase font-bold text-gray-400 block">On</span>
                                        <span class="font-bold text-sky-800" id="m-on"></span>
                                    </div>
                                    <div class="bg-gray-50 p-2 rounded-lg">
                                        <span class="text-[9px] uppercase font-bold text-gray-400 block">Kun</span>
                                        <span class="font-bold text-sky-800" id="m-kun"></span>
                                    </div>
                                </div>
                                <div class="bg-sky-50 p-4 rounded-xl border border-sky-100">
                                    <p class="text-xl text-gray-800 kanji-font mb-1" id="m-vidu-jp"></p>
                                    <p class="text-sm text-gray-500 italic" id="m-vidu-vi"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- DATA (75 Kanji from Particle Examples) ---
        const kanjiData = [
            { char: "ç§", nghiaHV: "TÆ¯", nghiaTV: "TÃ´i (Lá»‹ch sá»±)", l: "N5", pr: "ç¦¾ (CÃ¢y lÃºa) + ãƒ  (RiÃªng tÆ°).<br>ğŸ’¡ CÃ¢y lÃºa lÃ  tÃ i sáº£n riÃªng tÆ° cá»§a tÃ´i.", on: "SHI", kun: "watashi", v_jp: "ç§ã¯å­¦ç”Ÿã§ã™ã€‚", v_vi: "TÃ´i lÃ  sinh viÃªn." },
            { char: "ä¿º", nghiaHV: "YÃŠM", nghiaTV: "Tao/Tá»› (ThÃ¢n máº­t)", l: "N5", pr: "äº» (NgÆ°á»i) + å¤§ (To lá»›n) + ç”µ (Äiá»‡n).<br>ğŸ’¡ NgÆ°á»i Ä‘Ã n Ã´ng to lá»›n phÃ¡t ra Ä‘iá»‡n chÃ­nh lÃ  'Tao'.", on: "EN", kun: "ore", v_jp: "ä¿º, å­¦ç”Ÿã ã‚ˆã€‚", v_vi: "Tá»› lÃ  sinh viÃªn Ä‘áº¥y." },
            { char: "å­¦", nghiaHV: "Há»ŒC", nghiaTV: "Há»c táº­p", l: "N5", pr: "âº (Tri thá»©c) + å†– (MÃ¡i nhÃ ) + å­ (Tráº» em).<br>ğŸ’¡ Tráº» em dÆ°á»›i mÃ¡i nhÃ  há»c táº­p ráº¡ng ngá»i tri thá»©c.", on: "GAKU", kun: "mana(bu)", v_jp: "ç§ã¯å­¦ç”Ÿã§ã™ã€‚", v_vi: "TÃ´i lÃ  sinh viÃªn." },
            { char: "ç”Ÿ", nghiaHV: "SINH", nghiaTV: "Sá»‘ng, sinh ra", l: "N5", pr: "HÃ¬nh áº£nh máº§m xanh náº£y máº§m trÃªn máº·t Ä‘áº¥t.<br>ğŸ’¡ Sá»± sá»‘ng báº¯t Ä‘áº§u tá»« Ä‘áº¥t máº¹.", on: "SEI / SHOU", kun: "i(kiru) / u(mareru)", v_jp: "å­¦ç”ŸãŒã„ã¾ã™ã€‚", v_vi: "CÃ³ sinh viÃªn." },
            { char: "æ•™", nghiaHV: "GIÃO", nghiaTV: "Dáº¡y báº£o", l: "N5", pr: "å­ (Hiáº¿u tháº£o) + æ”µ (ÄÃ¡nh nháº¹).<br>ğŸ’¡ Dáº¡y tráº» con lÃ²ng hiáº¿u tháº£o báº±ng cÃ¡ch uá»‘n náº¯n.", on: "KYOU", kun: "oshi(eru)", v_jp: "æ•™å®¤ã«å­¦ç”ŸãŒã„ã¾ã™ã€‚", v_vi: "CÃ³ sinh viÃªn trong lá»›p há»c." },
            { char: "å®¤", nghiaHV: "THáº¤T", nghiaTV: "CÄƒn phÃ²ng", l: "N5", pr: "å®€ (MÃ¡i nhÃ ) + è‡³ (Äáº¿n).<br>ğŸ’¡ Äi Ä‘áº¿n dÆ°á»›i mÃ¡i nhÃ  chÃ­nh lÃ  Ä‘i vÃ o cÄƒn phÃ²ng.", on: "SHITSU", kun: "muro", v_jp: "æ•™å®¤ã«å­¦ç”ŸãŒã„ã¾ã™ã€‚", v_vi: "Trong lá»›p há»c cÃ³ sinh viÃªn." },
            { char: "æœ¬", nghiaHV: "Báº¢N", nghiaTV: "SÃ¡ch, gá»‘c", l: "N5", pr: "æœ¨ (CÃ¢y) + ä¸€ (Gáº¡ch ngang á»Ÿ gá»‘c).<br>ğŸ’¡ Gá»‘c cá»§a cÃ¢y dÃ¹ng lÃ m giáº¥y in sÃ¡ch.", on: "HON", kun: "moto", v_jp: "ã“ã‚Œã¯ç§ã®æœ¬ã§ã™ã€‚", v_vi: "ÄÃ¢y lÃ  cuá»‘n sÃ¡ch cá»§a tÃ´i." },
            { char: "èª­", nghiaHV: "Äá»˜C", nghiaTV: "Äá»c", l: "N5", pr: "è¨€ (Lá»i nÃ³i) + å£² (BÃ¡n).<br>ğŸ’¡ Äá»c nhá»¯ng lá»i nÃ³i trong cuá»‘n sÃ¡ch Ä‘ang Ä‘Æ°á»£c bÃ¡n.", on: "DOKU", kun: "yo(mu)", v_jp: "æœ¬ã‚’èª­ã¿ã¾ã™ã€‚", v_vi: "TÃ´i Ä‘á»c sÃ¡ch." },
            { char: "é£²", nghiaHV: "áº¨M", nghiaTV: "Uá»‘ng", l: "N5", pr: "é£Ÿ (Thá»±c pháº©m) + æ¬  (Thiáº¿u/HÃ¡ miá»‡ng).<br>ğŸ’¡ Ä‚n xong tháº¥y thiáº¿u nÆ°á»›c nÃªn pháº£i hÃ¡ miá»‡ng uá»‘ng.", on: "IN", kun: "no(mu)", v_jp: "ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’é£²ã¿ã¾ã™ã€‚", v_vi: "TÃ´i uá»‘ng cÃ  phÃª." },
            { char: "æ™‚", nghiaHV: "THá»œI", nghiaTV: "Thá»i gian", l: "N5", pr: "æ—¥ (Máº·t trá»i) + å¯º (ChÃ¹a).<br>ğŸ’¡ NhÃ¬n bÃ³ng náº¯ng trÃªn chÃ¹a Ä‘á»ƒ biáº¿t thá»i gian.", on: "JI", kun: "toki", v_jp: "ï¼—æ™‚ã«èµ·ãã¾ã™ã€‚", v_vi: "TÃ´i dáº­y lÃºc 7 giá»." },
            { char: "èµ·", nghiaHV: "KHá»I", nghiaTV: "Thá»©c dáº­y", l: "N5", pr: "èµ° (Cháº¡y) + å·± (Báº£n thÃ¢n).<br>ğŸ’¡ Báº£n thÃ¢n pháº£i thá»©c dáº­y Ä‘á»ƒ cháº¡y Ä‘ua vá»›i Ä‘á»i.", on: "KI", kun: "o(kiru)", v_jp: "ï¼—æ™‚ã«èµ·ãã¾ã™ã€‚", v_vi: "TÃ´i dáº­y lÃºc 7 giá»." },
            { char: "é›»", nghiaHV: "ÄIá»†N", nghiaTV: "Äiá»‡n", l: "N5", pr: "é›¨ (MÆ°a) + âš¡ (Tia sÃ©t).<br>ğŸ’¡ Tia sÃ©t xÃ© toáº¡c báº§u trá»i trong mÆ°a táº¡o ra Ä‘iá»‡n.", on: "DEN", kun: "-", v_jp: "é›»è»Šã§è¡Œãã¾ã™ã€‚", v_vi: "TÃ´i Ä‘i báº±ng tÃ u Ä‘iá»‡n." },
            { char: "è»Š", nghiaHV: "XA", nghiaTV: "Xe", l: "N5", pr: "HÃ¬nh áº£nh chiáº¿c xe thÃ´ sÆ¡ nhÃ¬n tá»« trÃªn xuá»‘ng.<br>ğŸ’¡ Cá»— xe cÃ³ trá»¥c vÃ  bÃ¡nh lÄƒn.", on: "SHA", kun: "kuruma", v_jp: "é›»è»Šã§è¡Œãã¾ã™ã€‚", v_vi: "TÃ´i Ä‘i báº±ng tÃ u Ä‘iá»‡n." },
            { char: "è¡Œ", nghiaHV: "HÃ€NH", nghiaTV: "Äi", l: "N5", pr: "HÃ¬nh áº£nh má»™t ngÃ£ tÆ° Ä‘Æ°á»ng.<br>ğŸ’¡ BÆ°á»›c chÃ¢n táº¡i ngÃ£ tÆ° hÃ nh trÃ¬nh cuá»™c Ä‘á»i.", on: "KOU", kun: "i(ku)", v_jp: "æ—¥æœ¬ã¸è¡Œãã¾ã™ã€‚", v_vi: "TÃ´i Ä‘i Nháº­t Báº£n." },
            { char: "æ—¥", nghiaHV: "NHáº¬T", nghiaTV: "NgÃ y, máº·t trá»i", l: "N5", pr: "HÃ¬nh áº£nh máº·t trá»i hÃ¬nh trÃ²n cÃ³ váº¡ch ngang.<br>ğŸ’¡ Nguá»“n sÃ¡ng ráº¡ng ngá»i cá»§a má»—i ngÃ y.", on: "NICHI", kun: "hi / ka", v_jp: "æ—¥æœ¬ã¸è¡Œãã¾ã™ã€‚", v_vi: "TÃ´i Ä‘i Nháº­t Báº£n." },
            { char: "å‹", nghiaHV: "Há»®U", nghiaTV: "Báº¡n", l: "N5", pr: "ğ ‚‡ (Tay trÃ¡i) + åˆ (Tay pháº£i).<br>ğŸ’¡ Báº¡n bÃ¨ lÃ  ngÆ°á»i náº¯m láº¥y cáº£ hai tay ta.", on: "YUU", kun: "tomo", v_jp: "å‹é”ã¨éŠã³ã¾ã™ã€‚", v_vi: "TÃ´i chÆ¡i vá»›i báº¡n bÃ¨." },
            { char: "é”", nghiaHV: "Äáº T", nghiaTV: "Äáº¿n, nhiá»u", l: "N5", pr: "åœŸ (Äáº¥t) + ç¾Š (Cá»«u) + è¾¶ (ÄÆ°á»ng).<br>ğŸ’¡ ÄÃ n cá»«u Ä‘i trÃªn Ä‘Æ°á»ng Ä‘á»ƒ Ä‘áº¡t Ä‘áº¿n vÃ¹ng Ä‘áº¥t tá»‘t.", on: "TATSU", kun: "tachi", v_jp: "å‹é”ã¨éŠã³ã¾ã™ã€‚", v_vi: "ChÆ¡i vá»›i báº¡n bÃ¨." },
            { char: "éŠ", nghiaHV: "DU", nghiaTV: "ChÆ¡i", l: "N5", pr: "æ–¹ (Cá»/PhÆ°Æ¡ng) + å­ (Tráº» em) + è¾¶ (ÄÆ°á»ng).<br>ğŸ’¡ Tráº» em cáº§m cá» cháº¡y chÆ¡i kháº¯p cÃ¡c con Ä‘Æ°á»ng.", on: "YUU", kun: "aso(bu)", v_jp: "å‹é”ã¨éŠã³ã¾ã™ã€‚", v_vi: "TÃ´i chÆ¡i vá»›i báº¡n bÃ¨." },
            { char: "åƒ", nghiaHV: "Äá»˜NG", nghiaTV: "LÃ m viá»‡c", l: "N5", pr: "äº» (NgÆ°á»i) + å‹• (Chuyá»ƒn Ä‘á»™ng).<br>ğŸ’¡ Con ngÆ°á»i chuyá»ƒn Ä‘á»™ng cÆ¡ thá»ƒ Ä‘á»ƒ lÃ m viá»‡c.", on: "DOU", kun: "hatara(ku)", v_jp: "ï¼™æ™‚ã‹ã‚‰åƒãã¾ã™ã€‚", v_vi: "TÃ´i lÃ m viá»‡c tá»« 9 giá»." },
            { char: "æš‘", nghiaHV: "THá»¬", nghiaTV: "NÃ³ng", l: "N5", pr: "æ—¥ (Máº·t trá»i) + è€… (NgÆ°á»i).<br>ğŸ’¡ NgÆ°á»i Ä‘á»©ng dÆ°á»›i náº¯ng máº·t trá»i lÃ¢u tháº¥y ráº¥t nÃ³ng.", on: "SHO", kun: "atsu(i)", v_jp: "æš‘ã„ã§ã™ã­ã€‚", v_vi: "NÃ³ng nhá»‰." },
            { char: "å¤©", nghiaHV: "THIÃŠN", nghiaTV: "Trá»i", l: "N5", pr: "Má»™t ngÆ°á»i (å¤§) dang tay dÆ°á»›i báº§u trá»i.<br>ğŸ’¡ Báº§u trá»i cao rá»™ng vÃ´ cÃ¹ng.", on: "TEN", kun: "ama", v_jp: "ã„ã„å¤©æ°—ã§ã™ã­ã€‚", v_vi: "Thá»i tiáº¿t Ä‘áº¹p nhá»‰." },
            { char: "æ°—", nghiaHV: "KHÃ", nghiaTV: "KhÃ­ cháº¥t", l: "N5", pr: "ğ ‚‰ (MÃ¢y) + ç±³ (Gáº¡o).<br>ğŸ’¡ HÆ¡i nÆ°á»›c bá»‘c lÃªn tá»« ná»“i cÆ¡m Ä‘ang chÃ­n.", on: "KI", kun: "iki", v_jp: "ã„ã„å¤©æ°—ã§ã™ã­ã€‚", v_vi: "Thá»i tiáº¿t Ä‘áº¹p nhá»‰." },
            { char: "èŒ¶", nghiaHV: "TRÃ€", nghiaTV: "TrÃ ", l: "N5", pr: "è‰¹ (Cá») + äºº (NgÆ°á»i) + æœ¨ (CÃ¢y).<br>ğŸ’¡ NgÆ°á»i ngá»“i dÆ°á»›i tÃ¡n cÃ¢y hÃ¡i lÃ¡ cá» pha trÃ .", on: "CHA", kun: "-", v_jp: "ãŠèŒ¶ã‚’é£²ã¿ã¾ã™ã€‚", v_vi: "TÃ´i uá»‘ng trÃ ." },
            { char: "äº”", nghiaHV: "NGÅ¨", nghiaTV: "Sá»‘ 5", l: "N5", pr: "HÃ¬nh áº£nh nÄƒm ngÃ³n tay co láº¡i.<br>ğŸ’¡ Sá»‘ Ä‘áº¿m ngÅ© hÃ nh.", on: "GO", kun: "itsu(tsu)", v_jp: "ï¼•æ™‚ã¾ã§å‹‰å¼·ã—ã¾ã™ã€‚", v_vi: "Há»c Ä‘áº¿n 5 giá»." },
            { char: "ä¹", nghiaHV: "Cá»¬U", nghiaTV: "Sá»‘ 9", l: "N5", pr: "HÃ¬nh áº£nh má»™t ngÆ°á»i Ä‘ang gáº­p Ä‘áº§u gá»‘i.<br>ğŸ’¡ Sá»‘ chÃ­n cá»§a trá»i Ä‘áº¥t.", on: "KYUU", kun: "kokono(tsu)", v_jp: "ï¼™æ™‚ã‹ã‚‰åƒãã¾ã™ã€‚", v_vi: "LÃ m viá»‡c tá»« 9 giá»." },

            // --- N4 ---
            { char: "å®‰", nghiaHV: "AN", nghiaTV: "Ráº», an tÃ¢m", l: "N4", pr: "å®€ (MÃ¡i nhÃ ) + å¥³ (Phá»¥ ná»¯).<br>ğŸ’¡ Phá»¥ ná»¯ á»Ÿ trong nhÃ  thÃ¬ tÃ¢m má»›i an, chi tiÃªu ráº».", on: "AN", kun: "yasu(i)", v_jp: "ã“ã‚Œã‚ˆã‚Šã‚ã‚ŒãŒå®‰ã„ã§ã™ã€‚", v_vi: "CÃ¡i kia ráº» hÆ¡n cÃ¡i nÃ y." },
            { char: "æ˜¨", nghiaHV: "Táº C", nghiaTV: "HÃ´m qua", l: "N4", pr: "æ—¥ (Máº·t trá»i) + ä¹ (Dá»«ng láº¡i).<br>ğŸ’¡ NgÃ y máº·t trá»i Ä‘Ã£ dá»«ng láº¡i vÃ  trÃ´i qua lÃ  hÃ´m qua.", on: "SAKU", kun: "-", v_jp: "æ˜¨æ—¥ã»ã©æš‘ããªã„ã§ã™ã€‚", v_vi: "KhÃ´ng nÃ³ng báº±ng hÃ´m qua." },
            { char: "ä¼‘", nghiaHV: "HÆ¯U", nghiaTV: "Nghá»‰ ngÆ¡i", l: "N4", pr: "äº» (NgÆ°á»i) + æœ¨ (CÃ¢y).<br>ğŸ’¡ NgÆ°á»i tá»±a vÃ o gá»‘c cÃ¢y Ä‘á»ƒ nghá»‰ ngÆ¡i tÄ©nh táº¡i.", on: "KYUU", kun: "yasu(mu)", v_jp: "30åˆ†ãã‚‰ã„ä¼‘ã¿ã¾ã™ã€‚", v_vi: "Nghá»‰ 30 phÃºt." },
            { char: "å¸°", nghiaHV: "QUY", nghiaTV: "Trá»Ÿ vá»", l: "N4", pr: "åˆ‚ (Dao) + æ­¢ (Dá»«ng) + å·¾ (KhÄƒn).<br>ğŸ’¡ Dá»«ng viá»‡c dÃ¹ng dao, lau khÄƒn vÃ  trá»Ÿ vá» nhÃ .", on: "KI", kun: "kae(ru)", v_jp: "5æ™‚ã¾ã§ã«å¸°ã‚Šã¾ã™ã€‚", v_vi: "TÃ´i sáº½ vá» trÆ°á»›c 5 giá»." },
            { char: "åˆ†", nghiaHV: "PHÃ‚N", nghiaTV: "PhÃºt, chia", l: "N4", pr: "å…« (Chia) + åˆ€ (Dao).<br>ğŸ’¡ DÃ¹ng dao chia Ä‘Ã´i sá»± váº­t thÃ nh tá»«ng pháº§n.", on: "BUN / FUN", kun: "wa(karu)", v_jp: "30åˆ†ãã‚‰ã„ä¼‘ã¿ã¾ã™ã€‚", v_vi: "Nghá»‰ 30 phÃºt." },
            { char: "å‹‰", nghiaHV: "MIá»„N", nghiaTV: "ChÄƒm chá»‰", l: "N4", pr: "å… (Miá»…n cÆ°á»¡ng) + åŠ› (Sá»©c lá»±c).<br>ğŸ’¡ DÃ¹ng sá»©c lá»±c miá»…n cÆ°á»¡ng lÃ m viá»‡c lÃ  chÄƒm chá»‰.", on: "BEN", kun: "tsuto(meru)", v_jp: "5æ™‚ã¾ã§å‹‰å¼·ã—ã¾ã™ã€‚", v_vi: "TÃ´i há»c Ä‘áº¿n 5 giá»." },
            { char: "å¼º", nghiaHV: "CÆ¯á»œNG", nghiaTV: "Máº¡nh máº½", l: "N4", pr: "å¼“ (Cung) + å£ (Miá»‡ng) + è™« (SÃ¢u).<br>ğŸ’¡ Con sÃ¢u cá»©ng miá»‡ng nhÆ° cÃ¡i cung lÃ  máº¡nh máº½.", on: "KYOU", kun: "tsuyo(i)", v_jp: "5æ™‚ã¾ã§å‹‰å¼·ã—ã¾ã™ã€‚", v_vi: "TÃ´i há»c Ä‘áº¿n 5 giá»." },
            { char: "è‚‰", nghiaHV: "NHá»¤C", nghiaTV: "Thá»‹t", l: "N4", pr: "HÃ¬nh áº£nh thá»› thá»‹t Ä‘Æ°á»£c cáº¯t ra.<br>ğŸ’¡ Cung cáº¥p nÄƒng lÆ°á»£ng cho cÆ¡ thá»ƒ.", on: "NIKU", kun: "-", v_jp: "è‚‰ã°ã‹ã‚Šé£Ÿã¹ã¾ã™ã€‚", v_vi: "ToÃ n Äƒn thá»‹t thÃ´i." },
            { char: "æ­»", nghiaHV: "Tá»¬", nghiaTV: "Cháº¿t", l: "N4", pr: "æ­¹ (XÆ°Æ¡ng tÃ n) + ãƒ’ (NgÆ°á»i).<br>ğŸ’¡ Con ngÆ°á»i náº±m cáº¡nh bá»™ xÆ°Æ¡ng tÃ n lÃ  cÃ¡i cháº¿t.", on: "SHI", kun: "shi(nu)", v_jp: "æ­»ã¬ã»ã©ç–²ã‚Œã¾ã—ãŸã€‚", v_vi: "Má»‡t muá»‘n cháº¿t." },
            { char: "ç–²", nghiaHV: "BÃŒ", nghiaTV: "Má»‡t má»i", l: "N4", pr: "ç–’ (Bá»‡nh) + çš® (Da).<br>ğŸ’¡ Lá»›p da bá»‹ bá»‡nh lÃ m cÆ¡ thá»ƒ tháº¥y má»‡t má»i.", on: "HI", kun: "tsuka(reru)", v_jp: "æ­»ã¬ã»ã©ç–²ã‚Œã¾ã—ãŸã€‚", v_vi: "Má»‡t muá»‘n cháº¿t." },

            // --- N3 ---
            { char: "é›£", nghiaHV: "NAN", nghiaTV: "KhÃ³ khÄƒn", l: "N3", pr: "ğ¦°© (Äáº¥t bÃ¹n) + éš¹ (Chim nhá»).<br>ğŸ’¡ Con chim bá»‹ dÃ­nh trong Ä‘áº¥t bÃ¹n tháº­t khÃ³ thoÃ¡t ra.", on: "NAN", kun: "muzuka(shii)", v_jp: "ç§ã«ã¯é›£ã—ã„ã§ã™ã€‚", v_vi: "Äá»‘i vá»›i tÃ´i thÃ¬ khÃ³." },
            { char: "è‡ª", nghiaHV: "Tá»°", nghiaTV: "Tá»± mÃ¬nh", l: "N3", pr: "HÃ¬nh áº£nh cÃ¡i mÅ©i.<br>ğŸ’¡ Chá»‰ vÃ o mÅ©i mÃ¬nh khi nÃ³i 'ChÃ­nh tÃ´i'.", on: "JI", kun: "mizuka(ra)", v_jp: "è‡ªç”±ã¨ã¯ä½•ã§ã™ã‹ã€‚", v_vi: "Tá»± do cÃ³ nghÄ©a lÃ  gÃ¬?" },
            { char: "ç”±", nghiaHV: "DO", nghiaTV: "LÃ½ do, nguá»“n", l: "N3", pr: "HÃ¬nh áº£nh cÃ¡i háº¡t Ä‘ang náº£y máº§m.<br>ğŸ’¡ Nguá»“n gá»‘c má»i sá»± viá»‡c báº¯t Ä‘áº§u tá»« Ä‘Ã¢y.", on: "YUU", kun: "yoshi", v_jp: "è‡ªç”±ã¨ã¯ä½•ã§ã™ã‹ã€‚", v_vi: "Tá»± do lÃ  cÃ¡i gÃ¬?" },
            { char: "ä½•", nghiaHV: "HÃ€", nghiaTV: "CÃ¡i gÃ¬", l: "N3", pr: "äº» (NgÆ°á»i) + å¯ (CÃ³ thá»ƒ).<br>ğŸ’¡ NgÆ°á»i vÃ¡c trÃªn vai váº­t gÃ¬ cÃ³ thá»ƒ lÃ m gÃ¬?", on: "KA", kun: "nani / nan", v_jp: "è‡ªç”±ã¨ã¯ä½•ã§ã™ã‹ã€‚", v_vi: "Tá»± do lÃ  cÃ¡i gÃ¬?" },
            { char: "æ—…", nghiaHV: "Lá»®", nghiaTV: "Du lá»‹ch", l: "N3", pr: "æ–¹ (LÃ¡ cá») + äºº (NgÆ°á»i).<br>ğŸ’¡ ÄoÃ n ngÆ°á»i cáº§m lÃ¡ cá» Ä‘i du lá»‹ch phÆ°Æ¡ng xa.", on: "RYO", kun: "tabi", v_jp: "æ—¥æœ¬ã¸ã®æ—…è¡Œã€‚", v_vi: "Chuyáº¿n Ä‘i Ä‘áº¿n Nháº­t." },
            { char: "ä¸œ", nghiaHV: "ÄÃ”NG", nghiaTV: "PhÃ­a Ä‘Ã´ng", l: "N3", pr: "æ—¥ (Máº·t trá»i) + æœ¨ (CÃ¢y).<br>ğŸ’¡ Máº·t trá»i má»c lÃªn tá»« ngá»n cÃ¢y phÃ­a ÄÃ´ng.", on: "TOU", kun: "higashi", v_jp: "æ±äº¬ã«ã‚‚é›ªãŒé™ã‚Šã¾ã—ãŸã€‚", v_vi: "á» Tokyo cÅ©ng cÃ³ tuyáº¿t." },
            { char: "äº¬", nghiaHV: "KINH", nghiaTV: "Kinh Ä‘Ã´", l: "N3", pr: "HÃ¬nh áº£nh má»™t tÃ²a thÃ¡p cao trÃªn Ä‘áº¥t.<br>ğŸ’¡ ThÃ nh phá»‘ trung tÃ¢m vá»›i kiáº¿n trÃºc cao lá»›n.", on: "KYOU", kun: "miyako", v_jp: "æ±äº¬ã«ã‚‚é›ªãŒé™ã‚Šã¾ã—ãŸã€‚", v_vi: "á» Tokyo cÅ©ng cÃ³ tuyáº¿t." },
            { char: "é›ª", nghiaHV: "TUYáº¾T", nghiaTV: "Tuyáº¿t", l: "N3", pr: "é›¨ (MÆ°a) + å½ (BÃ n tay/Chá»•i).<br>ğŸ’¡ MÆ°a Ä‘Ã´ng láº¡i cÃ³ thá»ƒ dÃ¹ng tay náº¯m láº¥y hoáº·c dÃ¹ng chá»•i quÃ©t.", on: "SETSU", kun: "yuki", v_jp: "æ±äº¬ã«ã‚‚é›ªãŒé™ã‚Šã¾ã—ãŸã€‚", v_vi: "á» Tokyo cÅ©ng cÃ³ tuyáº¿t." },
            { char: "é™", nghiaHV: "GIÃNG", nghiaTV: "RÆ¡i, xuá»‘ng", l: "N3", pr: "é˜ (GÃ² Ä‘áº¥t) + èˆ› (Sai chÃ¢n).<br>ğŸ’¡ BÆ°á»›c xuá»‘ng gÃ² Ä‘áº¥t nÃªn chÃ¢n bá»‹ lá»‡ch sang bÃªn.", on: "KOU", kun: "fu(ru) / o(riru)", v_jp: "é›ªãŒé™ã‚Šã¾ã—ãŸã€‚", v_vi: "Tuyáº¿t rÆ¡i rá»“i." },
            { char: "å®¶", nghiaHV: "GIA", nghiaTV: "Gia Ä‘Ã¬nh", l: "N3", pr: "å®€ (MÃ¡i nhÃ ) + è±• (Lá»£n).<br>ğŸ’¡ XÆ°a kia nuÃ´i lá»£n dÆ°á»›i mÃ¡i nhÃ  Ä‘á»ƒ sinh káº¿ gia Ä‘Ã¬nh.", on: "KA", kun: "ie / ya", v_jp: "å®¶æ—ã¨ã‚‚ç›¸è«‡ã—ã¾ã™ã€‚", v_vi: "Tháº£o luáº­n vá»›i cáº£ nhÃ ." },
            { char: "æ—", nghiaHV: "Tá»˜C", nghiaTV: "DÃ²ng tá»™c", l: "N3", pr: "æ–¹ (Cá») + çŸ¢ (MÅ©i tÃªn).<br>ğŸ’¡ Tá»™c ngÆ°á»i dÆ°á»›i lÃ¡ cá» dÃ¹ng cung tÃªn báº£o vá»‡ dÃ²ng mÃ¡u.", on: "ZOKU", kun: "-", v_jp: "å®¶æ—ã¨ã‚‚ç›¸è«‡ã—ã¾ã™ã€‚", v_vi: "Tháº£o luáº­n vá»›i gia Ä‘Ã¬nh." },
            { char: "ç›¸", nghiaHV: "TÆ¯Æ NG", nghiaTV: "TÆ°Æ¡ng quan", l: "N3", pr: "æœ¨ (CÃ¢y) + ç›® (Máº¯t).<br>ğŸ’¡ DÃ¹ng máº¯t quan sÃ¡t sá»± tÆ°Æ¡ng quan cá»§a cÃ¡c loÃ i cÃ¢y.", on: "SOU / SHOU", kun: "ai", v_jp: "å®¶æ—ã¨ã‚‚ç›¸è«‡ã—ã¾ã™ã€‚", v_vi: "Tháº£o luáº­n cÃ¹ng gia Ä‘Ã¬nh." },
            { char: "è«‡", nghiaHV: "ÄÃ€M", nghiaTV: "ÄÃ m luáº­n", l: "N3", pr: "è¨€ (Lá»i nÃ³i) + ç‚ (Hai ngá»n lá»­a).<br>ğŸ’¡ NÃ³i chuyá»‡n nÃ³ng bá»ng, hÄƒng say Ä‘Ã m luáº­n nhÆ° lá»­a.", on: "DAN", kun: "-", v_jp: "å®¶æ—ã¨ã‚‚ç›¸è«‡ã—ã¾ã™ã€‚", v_vi: "Tháº£o luáº­n vá»›i gia Ä‘Ã¬nh." },
            { char: "è¯", nghiaHV: "THOáº I", nghiaTV: "NÃ³i chuyá»‡n", l: "N3", pr: "è¨€ (Lá»i nÃ³i) + èˆŒ (LÆ°á»¡i).<br>ğŸ’¡ DÃ¹ng lÆ°á»¡i uá»‘n náº¯n thÃ nh lá»i nÃ³i Ä‘á»ƒ Ä‘Ã m thoáº¡i.", on: "WA", kun: "hana(su)", v_jp: "å®¶æ—ã¨ã‚‚è©±ã™ã€‚", v_vi: "NÃ³i chuyá»‡n vá»›i cáº£ nhÃ ." },
            { char: "ä¼š", nghiaHV: "Há»˜I", nghiaTV: "Gáº·p, há»™i", l: "N3", pr: "äºº (NgÆ°á»i) + äº‘ (MÃ¢y/Lá»i nÃ³i).<br>ğŸ’¡ Nhiá»u ngÆ°á»i tá»¥ há»p láº¡i cÃ¹ng bÃ n luáº­n nhÆ° mÃ¢y trÃ´i.", on: "KAI", kun: "a(u)", v_jp: "ä¼šè­°ã¯ãƒ›ãƒ¼ãƒ«ã§è¡Œã‚ã‚Œã¾ã™ã€‚", v_vi: "Há»™i nghá»‹ tá»• chá»©c táº¡i sáº£nh." },
            { char: "è®®", nghiaHV: "NGHá»Š", nghiaTV: "BÃ n báº¡c", l: "N3", pr: "è¨€ (Lá»i nÃ³i) + ç¾© (ChÃ­nh nghÄ©a).<br>ğŸ’¡ DÃ¹ng lá»i láº½ chÃ­nh trá»±c Ä‘á»ƒ bÃ n luáº­n Ä‘áº¡i sá»±.", on: "GI", kun: "-", v_jp: "ä¼šè­°ã¯ãƒ›ãƒ¼ãƒ«ã§è¡Œã‚ã‚Œã¾ã™ã€‚", v_vi: "Há»™i nghá»‹ diá»…n ra táº¡i sáº£nh." },
            { char: "å†", nghiaHV: "Lá»ŠCH", nghiaTV: "Lá»‹ch sá»­", l: "N3", pr: "å‚ (SÆ°á»n nÃºi) + æ— (Rá»«ng) + æ­¢ (Dá»«ng).<br>ğŸ’¡ BÆ°á»›c chÃ¢n dá»«ng láº¡i giá»¯a rá»«ng bÃªn nÃºi Ä‘á»ƒ ghi láº¡i lá»‹ch sá»­.", on: "REKI", kun: "-", v_jp: "æ­´å²ã«ãŠã„ã¦é‡è¦ã ã€‚", v_vi: "Quan trá»ng trong lá»‹ch sá»­." },
            { char: "å²", nghiaHV: "Sá»¬", nghiaTV: "Sá»­ sÃ¡ch", l: "N3", pr: "å£ (Miá»‡ng) + ä¹‚ (BÃºt).<br>ğŸ’¡ Tay cáº§m bÃºt viáº¿t láº¡i lá»i miá»‡ng nÃ³i vá» sá»± tháº­t Ä‘á»i trÆ°á»›c.", on: "SHI", kun: "-", v_jp: "æ­´å²ã«ãŠã„ã¦é‡è¦ã ã€‚", v_vi: "Quan trá»ng trong lá»‹ch sá»­." },
            { char: "é‡", nghiaHV: "TRá»ŒNG", nghiaTV: "Náº·ng, trá»ng", l: "N3", pr: "åƒ (NgÃ n) + é‡Œ (Dáº·m).<br>ğŸ’¡ Äi bá»™ ngÃ n dáº·m tháº¥y hÃ nh trang tháº­t náº·ng ná».", on: "JUU", kun: "omo(i)", v_jp: "æ­´å²ã«ãŠã„ã¦é‡è¦ã ã€‚", v_vi: "Quan trá»ng trong lá»‹ch sá»­." },
            { char: "è¦", nghiaHV: "Yáº¾U", nghiaTV: "Quan trá»ng", l: "N3", pr: "è¦€ (Che Ä‘áº­y) + å¥³ (Phá»¥ ná»¯).<br>ğŸ’¡ Tháº¯t lÆ°ng ngÆ°á»i phá»¥ ná»¯ lÃ  Ä‘iá»ƒm yáº¿u cáº§n che Ä‘áº­y.", on: "YOU", kun: "i(ru)", v_jp: "æ­´å²ã«ãŠã„ã¦é‡è¦ã ã€‚", v_vi: "Quan trá»ng trong lá»‹ch sá»­." },
            { char: "ç•™", nghiaHV: "LÆ¯U", nghiaTV: "Dá»«ng láº¡i, á»Ÿ", l: "N3", pr: "å¯ (Cá»­a) + ç”° (Ruá»™ng).<br>ğŸ’¡ Dá»«ng láº¡i bÃªn ruá»™ng Ä‘á»ƒ canh giá»¯ mÃ¹a mÃ ng.", on: "RYUU", kun: "to(maru)", v_jp: "ç•™å­¦ç”Ÿã¨ã—ã¦æ¥ã¾ã—ãŸã€‚", v_vi: "Äáº¿n vá»›i tÆ° cÃ¡ch du há»c sinh." },
            { char: "äºº", nghiaHV: "NHÃ‚N", nghiaTV: "Con ngÆ°á»i", l: "N3", pr: "HÃ¬nh áº£nh ngÆ°á»i Ä‘á»©ng nghiÃªng Ä‘ang bÆ°á»›c Ä‘i.<br>ğŸ’¡ Thá»±c thá»ƒ mang tinh linh cá»§a vÅ© trá»¥.", on: "JIN", kun: "hito", v_jp: "äººã«ã‚ˆã£ã¦é•ã„ã¾ã™ã€‚", v_vi: "TÃ¹y vÃ o má»—i ngÆ°á»i." },
            { char: "å°", nghiaHV: "ÄÃ€I", nghiaTV: "CÃ¡i bá»¥c", l: "N3", pr: "å¶ (RiÃªng) + å£ (Miá»‡ng).<br>ğŸ’¡ DÃ¹ng miá»‡ng nÃ³i trÃªn bá»¥c cao riÃªng biá»‡t.", on: "DAI", kun: "-", v_jp: "å°é¢¨ã«ã‚ˆã£ã¦å£Šleã¾ã—ãŸã€‚", v_vi: "Bá»‹ há»ng do bÃ£o." },
            { char: "é£", nghiaHV: "PHONG", nghiaTV: "GiÃ³", l: "N3", pr: "ğ ‚‰ (MÃ¢y) + ä¹‚ (Cáº¯t).<br>ğŸ’¡ GiÃ³ cáº¯t ngang nhá»¯ng Ä‘Ã¡m mÃ¢y trÃªn trá»i.", on: "FUU", kun: "kaze", v_jp: "å°é¢¨ã«ã‚ˆã£ã¦å£Šã‚Œã¾ã—ãŸã€‚", v_vi: "Há»ng do bÃ£o." },
            { char: "å", nghiaHV: "HOáº I", nghiaTV: "Há»ng, nÃ¡t", l: "N3", pr: "åœŸ (Thá»•) + ç½’ (Máº¯t) + è¡£ (Y phá»¥c).<br>ğŸ’¡ NhÃ¬n y phá»¥c rÃ¡ch nÃ¡t rÆ¡i xuá»‘ng Ä‘áº¥t lÃ  há»ng hoÃ n toÃ n.", on: "KAI", kun: "kowa(su)", v_jp: "å°é¢¨ã«ã‚ˆã£ã¦å£Šã‚Œã¾ã—ãŸã€‚", v_vi: "Há»ng do bÃ£o." },
            { char: "å…ˆ", nghiaHV: "TIÃŠN", nghiaTV: "TrÆ°á»›c, tiÃªn", l: "N3", pr: "åœŸ (Äáº¥t) + å„¿ (ChÃ¢n).<br>ğŸ’¡ NgÆ°á»i bÆ°á»›c Ä‘i trÃªn Ä‘áº¥t Ä‘áº§u tiÃªn lÃ  báº­c bá» trÃªn.", on: "SEN", kun: "saki", v_jp: "å…ˆç”Ÿã«å¯¾ã—ã¦å¤±ç¤¼ã§ã™ã€‚", v_vi: "Tháº¥t lá»… vá»›i giÃ¡o viÃªn." },
            { char: "å¯¹", nghiaHV: "Äá»I", nghiaTV: "Äá»‘i láº­p", l: "N3", pr: "æ–‡ (VÄƒn) + å¯¸ (Äo).<br>ğŸ’¡ DÃ¹ng vÄƒn chÆ°Æ¡ng Ä‘o lÆ°á»ng Ä‘á»ƒ Ä‘á»‘i Ä‘Ã¡p láº¡i.", on: "TAI", kun: "-", v_jp: "å…ˆç”Ÿã«å¯¾ã—ã¦å¤±ç¤¼ã§ã™ã€‚", v_vi: "Tháº¥t lá»… vá»›i giÃ¡o viÃªn." },
            { char: "å¤±", nghiaHV: "THáº¤T", nghiaTV: "Máº¥t", l: "N3", pr: "å¤« (NgÆ°á»i chá»“ng) + gáº¡ch lá»‡ch.<br>ğŸ’¡ NgÆ°á»i chá»“ng Ä‘Ã¡nh máº¥t Ä‘i phÆ°Æ¡ng hÆ°á»›ng hÃ nh Ä‘á»™ng.", on: "SHITSU", kun: "ushina(u)", v_jp: "å…ˆç”Ÿã«å¯¾ã—ã¦å¤±ç¤¼ã§ã™ã€‚", v_vi: "Tháº¥t lá»… vá»›i giÃ¡o viÃªn." },
            { char: "ç¤¼", nghiaHV: "Lá»„", nghiaTV: "Lá»… nghi", l: "N3", pr: "ç¤» (Tháº§n linh) + ä¹š (CÃºi ngÆ°á»i).<br>ğŸ’¡ CÃºi ngÆ°á»i trÆ°á»›c tháº§n linh Ä‘á»ƒ giá»¯ Ä‘Ãºng lá»… nghi.", on: "REI", kun: "-", v_jp: "å…ˆç”Ÿã«å¯¾ã—ã¦å¤±ç¤¼ã§ã™ã€‚", v_vi: "Tháº¥t lá»… vá»›i giÃ¡o viÃªn." },
            { char: "å°†", nghiaHV: "TÆ¯Æ NG", nghiaTV: "TÆ°Æ¡ng lai", l: "N3", pr: "çˆ¿ (Gá»—) + è‚‰ (Thá»‹t) + å¯¸ (Äo).<br>ğŸ’¡ Tay dÃ¢ng thá»‹t vÃ  gá»— cung phá»¥ng tÆ°á»›ng quÃ¢n tÆ°Æ¡ng lai.", on: "SHOU", kun: "-", v_jp: "å°†æ¥ã«ã¤ã„ã¦è€ƒãˆã¾ã™ã€‚", v_vi: "Suy nghÄ© vá» tÆ°Æ¡ng lai." },
            { char: "æ¥", nghiaHV: "LAI", nghiaTV: "Äáº¿n", l: "N3", pr: "HÃ¬nh áº£nh cÃ¢y lÃºa tá»« phÆ°Æ¡ng xa tá»›i.<br>ğŸ’¡ Nhá»¯ng Ä‘iá»u tá»‘t Ä‘áº¹p sáº½ Ä‘áº¿n trong tÆ°Æ¡ng lai.", on: "RAI", kun: "ku(ru)", v_jp: "å°†æ¥ã«ã¤ã„ã¦è€ƒãˆã¾ã™ã€‚", v_vi: "Suy nghÄ© tÆ°Æ¡ng lai." },
            { char: "è€ƒ", nghiaHV: "KHáº¢O", nghiaTV: "Suy nghÄ©", l: "N3", pr: "è€‚ (NgÆ°á»i giÃ ) + ä¸‚ (Ká»¹ nÄƒng).<br>ğŸ’¡ NgÆ°á»i giÃ  cÃ³ ká»¹ nÄƒng suy nghÄ© vÃ  kháº£o cá»©u sÃ¢u sáº¯c.", on: "KOU", kun: "kanga(eru)", v_jp: "å°†æ¥ã«ã¤ã„ã¦è€ƒãˆã¾ã™ã€‚", v_vi: "Suy nghÄ© vá» tÆ°Æ¡ng lai." },
            { char: "ç ”", nghiaHV: "NGHIÃŠN", nghiaTV: "MÃ i, nghiÃªn", l: "N3", pr: "çŸ³ (ÄÃ¡) + å¼€ (GiÃ n giÃ¡o).<br>ğŸ’¡ MÃ i Ä‘Ã¡ trÃªn giÃ n giÃ¡o Ä‘á»ƒ nghiÃªn cá»©u Ä‘á»™ bá»n.", on: "KEN", kun: "to(gu)", v_jp: "20å¹´ã«ã‚ãŸã£ã¦ç ”ç©¶ã—ã¾ã—ãŸã€‚", v_vi: "NghiÃªn cá»©u suá»‘t 20 nÄƒm." },
            { char: "ç©¶", nghiaHV: "Cá»¨U", nghiaTV: "TÃ¬m tÃ²i", l: "N3", pr: "ç©´ (Hang Ä‘á»™ng) + ä¹ (ChÃ­n láº§n).<br>ğŸ’¡ VÃ o hang Ä‘á»™ng 9 láº§n Ä‘á»ƒ tÃ¬m tÃ²i cho Ä‘áº¿n cÃ¹ng.", on: "KYUU", kun: "kiwa(meru)", v_jp: "20å¹´ã«ã‚ãŸã£ã¦ç ”ç©¶ã—ã¾ã—ãŸã€‚", v_vi: "NghiÃªn cá»©u 20 nÄƒm rÃ²ng." },
            { char: "èŒƒ", nghiaHV: "PHáº M", nghiaTV: "KhuÃ´n máº«u", l: "N3", pr: "ç«¹ (Tre) + è»Š (Xe) + ã”¾ (NÆ°á»›c).<br>ğŸ’¡ KhuÃ´n máº«u váº­n chuyá»ƒn tre báº±ng xe qua vÃ¹ng nÆ°á»›c.", on: "HAN", kun: "-", v_jp: "åºƒç¯„å›²ã«ã‚ãŸã‚‹ã€‚", v_vi: "Tráº£i dÃ i pháº¡m vi rá»™ng." },
            { char: "å›´", nghiaHV: "VI", nghiaTV: "VÃ¢y quanh", l: "N3", pr: "å›— (VÃ¢y quanh) + äº• (CÃ¡i giáº¿ng).<br>ğŸ’¡ XÃ¢y hÃ ng rÃ o vÃ¢y quanh cÃ¡i giáº¿ng Ä‘á»ƒ báº£o vá»‡.", on: "I", kun: "kako(mu)", v_jp: "åºƒç¯„å›²ã«ã‚ãŸã‚‹ã€‚", v_vi: "Tráº£i dÃ i pháº¡m vi rá»™ng." },
            { char: "æ²¿", nghiaHV: "DUYÃŠN", nghiaTV: "Men theo", l: "N3", pr: "æ°µ (NÆ°á»›c) + ã•£ (Miá»‡ng cá»‘ng).<br>ğŸ’¡ NÆ°á»›c cháº£y men theo miá»‡ng cá»‘ng dáº«n ra sÃ´ng.", on: "EN", kun: "so(u)", v_jp: "å·ã«æ²¿ã£ã¦æ­©ãã¾ã™ã€‚", v_vi: "Äi dá»c theo con sÃ´ng." },
            { char: "æ­©", nghiaHV: "Bá»˜", nghiaTV: "Äi bá»™", l: "N3", pr: "æ­¢ (Dá»«ng) + å°‘ (Má»™t Ã­t).<br>ğŸ’¡ Nháº¥c chÃ¢n lÃªn rá»“i dá»«ng láº¡i má»™t Ã­t chÃ­nh lÃ  Ä‘i bá»™.", on: "HO", kun: "aru(ku)", v_jp: "å·ã«æ²¿ã£ã¦æ­©ãã¾ã™ã€‚", v_vi: "Äi dá»c theo con sÃ´ng." },
            { char: "é™…", nghiaHV: "Táº¾", nghiaTV: "Dá»‹p, khi", l: "N3", pr: "é˜ (GÃ² Ä‘áº¥t) + ç¥­ (Táº¿ lá»…).<br>ğŸ’¡ Tá»• chá»©c táº¿ lá»… trÃªn gÃ² Ä‘áº¥t vÃ o cÃ¡c dá»‹p trang trá»ng.", on: "SAI", kun: "kiwa", v_jp: "å—é¨“ã«éš›ã—ã¦æ³¨æ„ã™ã‚‹ã“ã¨ã€‚", v_vi: "LÆ°u Ã½ khi Ä‘i thi." },
            { char: "æ³¨", nghiaHV: "CHÃš", nghiaTV: "RÃ³t, chÃº Ã½", l: "N3", pr: "æ°µ (NÆ°á»›c) + ä¸» (Chá»§ nhÃ¢n).<br>ğŸ’¡ NÆ°á»›c rÃ³t vÃ o bÃ¬nh khiáº¿n chá»§ nhÃ¢n pháº£i chÃº Ã½.", on: "CHUU", kun: "sogu", v_jp: "å—é¨“ã«éš›ã—ã¦æ³¨æ„ã™ã‚‹ã“ã¨ã€‚", v_vi: "Äiá»u chÃº Ã½ khi Ä‘i thi." },
            { char: "æ„", nghiaHV: "Ã", nghiaTV: "Ã Ä‘á»‹nh", l: "N3", pr: "éŸ³ (Ã‚m thanh) + å¿ƒ (TrÃ¡i tim).<br>ğŸ’¡ Tiáº¿ng nÃ³i tá»« táº­n Ä‘Ã¡y lÃ²ng chÃ­nh lÃ  Ã½ Ä‘á»‹nh.", on: "I", kun: "-", v_jp: "å—é¨“ã«éš›ã—ã¦æ³¨æ„ã™ã‚‹ã“ã¨ã€‚", v_vi: "Äiá»u chÃº Ã½ khi Ä‘i thi." },
            { char: "é—®", nghiaHV: "Váº¤N", nghiaTV: "Há»i", l: "N3", pr: "é—¨ (Cá»­a) + å£ (Miá»‡ng).<br>ğŸ’¡ Má»Ÿ miá»‡ng Ä‘á»©ng á»Ÿ cá»­a Ä‘á»ƒ há»i han.", on: "MON", kun: "to(u)", v_jp: "ãã®å•é¡Œã‚’ã‚ãã£ã¦äº‰ã„ã¾ã™ã€‚", v_vi: "Tranh cÃ£i xoay quanh váº¥n Ä‘á»." },
            { char: "é¢˜", nghiaHV: "Äá»€", nghiaTV: "Äá» bÃ i", l: "N3", pr: "æ˜¯ (ÄÃºng) + é¡µ (Äáº§u).<br>ğŸ’¡ ÄÃºng lÃ  cÃ¡i Ä‘áº§u Ä‘á» cá»§a bÃ i thi.", on: "DAI", kun: "-", v_jp: "ãã®å•é¡Œã‚’ã‚ãã£ã¦äº‰ã„ã¾ã™ã€‚", v_vi: "Tranh cÃ£i quanh váº¥n Ä‘á» Ä‘Ã³." },
            { char: "äº‰", nghiaHV: "TRANH", nghiaTV: "Tranh giÃ nh", l: "N3", pr: "çˆ« (MÃ³ng vuá»‘t) + äº… (Gáº­y).<br>ğŸ’¡ DÃ¹ng mÃ³ng vuá»‘t vÃ  gáº­y gá»™c Ä‘á»ƒ tranh giÃ nh.", on: "SOU", kun: "araso(u)", v_jp: "ãã®å•é¡Œã‚’ã‚ãã£ã¦äº‰ã„ã¾ã™ã€‚", v_vi: "Tranh cÃ£i xoay quanh váº¥n Ä‘á»." },
            { char: "å™‚", nghiaHV: "Äá»’N", nghiaTV: "Lá»i Ä‘á»“n", l: "N3", pr: "å£ (Miá»‡ng) + å°Š (TÃ´n trá»ng).<br>ğŸ’¡ Miá»‡ng Ä‘á»“n Ä‘áº¡i vá» nhá»¯ng ngÆ°á»i Ä‘Æ°á»£c tÃ´n trá»ng.", on: "SON", kun: "uwasa", v_jp: "å™‚ã‚’ã‚ãã£ã¦å¤§é¨’ãã ã€‚", v_vi: "LÃ¹m xÃ¹m xoay quanh lá»i Ä‘á»“n." },
            { char: "é¨’", nghiaHV: "TAO", nghiaTV: "LÃ m loáº¡n", l: "N3", pr: "é¦¬ (Ngá»±a) + èš¤ (CÃ´n trÃ¹ng).<br>ğŸ’¡ Con ngá»±a bá»‹ cÃ´n trÃ¹ng cáº¯n nÃªn nháº£y loáº¡n (tao Ä‘á»™ng).", on: "SOU", kun: "sawa(gu)", v_jp: "å™‚ã‚’ã‚ãã£ã¦å¤§é¨’ãã ã€‚", v_vi: "LÃ¹m xÃ¹m xoay quanh lá»i Ä‘á»“n." },
            { char: "å·", nghiaHV: "XUYÃŠN", nghiaTV: "SÃ´ng", l: "N3", pr: "HÃ¬nh áº£nh ba dÃ²ng nÆ°á»›c Ä‘ang cháº£y hiá»n hÃ²a.<br>ğŸ’¡ Con sÃ´ng nuÃ´i dÆ°á»¡ng sá»± sá»‘ng.", on: "SEN", kun: "kawa", v_jp: "å·ã«æ²¿ã£ã¦æ­©ãã¾ã™ã€‚", v_vi: "Äi bá»™ dá»c theo con sÃ´ng." },
            { char: "è®¡", nghiaHV: "Káº¾", nghiaTV: "Káº¿ hoáº¡ch", l: "N3", pr: "è¨€ (Lá»i nÃ³i) + å (Sá»‘ 10).<br>ğŸ’¡ NÃ³i 10 lá»i chÃ­n cháº¯n Ä‘á»ƒ láº­p nÃªn káº¿ hoáº¡ch.", on: "KEI", kun: "haka(ru)", v_jp: "è¨ˆç”»ã«æ²¿ã£ã¦ã‚„ã‚‹ã€‚", v_vi: "LÃ m theo káº¿ hoáº¡ch." },
            { char: "ç”»", nghiaHV: "Há»ŒA", nghiaTV: "Bá»©c há»a", l: "N3", pr: "ç”° (Ruá»™ng) + å‡µ (Bao quanh).<br>ğŸ’¡ Váº½ viá»n bao quanh cÃ¡nh Ä‘á»“ng thÃ nh bá»©c há»a.", on: "GAKU", kun: "-", v_jp: "è¨ˆç”»ã«æ²¿ã£ã¦ã‚„ã‚‹ã€‚", v_vi: "LÃ m theo káº¿ hoáº¡ch." },
            { char: "å—", nghiaHV: "THá»¤", nghiaTV: "Nháº­n, thi", l: "N3", pr: "çˆ« (MÃ³ng) + å†– (MÃ¡i) + åˆ (Tay).<br>ğŸ’¡ DÃ¹ng tay nháº­n chiáº¿c thuyá»n dÆ°á»›i mÃ¡i che.", on: "JU", kun: "u(keru)", v_jp: "å—é¨“ã«éš›ã—ã¦æ³¨æ„ã™ã‚‹ã“ã¨ã€‚", v_vi: "LÆ°u Ã½ khi Ä‘i thi." },
            { char: "éªŒ", nghiaHV: "NGHIá»†M", nghiaTV: "Kiá»ƒm tra", l: "N3", pr: "é¦¬ (Ngá»±a) + ä½¥ (Má»i ngÆ°á»i).<br>ğŸ’¡ Má»i ngÆ°á»i cÃ¹ng cÆ°á»¡i ngá»±a Ä‘á»ƒ kiá»ƒm tra thá»±c lá»±c.", on: "KEN", kun: "-", v_jp: "å—é¨“ã«éš›ã—ã¦æ³¨æ„ã™ã‚‹ã“ã¨ã€‚", v_vi: "LÆ°u Ã½ khi Ä‘i thi." }
        ];

        // --- STATE ---
        let currentFilter = 'all';
        let currentStrokeSvg = null;

        // --- UTILS ---
        function speak(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const clean = text.replace(/\[.*?\]/g, '').replace(/<.*?>/g, '').replace(/ãƒ»/g, '').replace(/\*/g, '');
                const u = new SpeechSynthesisUtterance(clean);
                u.lang = 'ja-JP'; u.rate = 0.9;
                window.speechSynthesis.speak(u);
            }
        }

        function getKanjiHex(kanji) {
            return kanji.charCodeAt(0).toString(16).padStart(5, '0');
        }

        async function fetchKanjiSvg(hex) {
            try {
                const response = await fetch(`https://cdn.jsdelivr.net/gh/KanjiVG/kanjivg/kanji/${hex}.svg`);
                if (!response.ok) throw new Error('Not found');
                return await response.text();
            } catch (e) { return null; }
        }

        // --- RENDER ---
        function renderLearn() {
            const grid = document.getElementById('kanji-grid');
            const filteredData = currentFilter === 'all' ? kanjiData : kanjiData.filter(i => i.l === currentFilter);
            
            grid.innerHTML = filteredData.map(k => `
                <div class="perspective h-48">
                    <div class="card-inner h-full w-full" onclick="this.parentElement.classList.toggle('is-flipped')">
                        <!-- Front -->
                        <div class="card-front level-${k.l.toLowerCase()} p-4">
                            <div class="text-5xl font-bold kanji-font text-gray-800 mb-2">${k.char}</div>
                            <div class="text-lg font-bold text-red-600 tracking-wide uppercase">${k.nghiaHV}</div>
                            <button onclick="event.stopPropagation(); showStrokeOrder('${k.char}')" class="absolute bottom-3 right-3 text-sky-500 hover:text-sky-700 bg-sky-50 rounded-full w-10 h-10 flex items-center justify-center shadow-sm border border-sky-100 transition-all active:scale-90">
                                <i class="fas fa-pen-nib"></i>
                            </button>
                        </div>
                        <!-- Back -->
                        <div class="card-back p-4 text-center">
                            <div class="text-sm font-bold text-sky-800 mb-2">${k.nghiaTV}</div>
                            <div class="space-y-1 mb-2">
                                <div class="text-[10px] text-gray-400 font-bold uppercase">On/Kun</div>
                                <div class="text-xs font-bold text-gray-700">${k.on} / ${k.kun}</div>
                            </div>
                            <div class="text-[10px] text-gray-500 italic px-2">Nháº¥n biá»ƒu tÆ°á»£ng bÃºt Ä‘á»ƒ xem cÃ¡ch viáº¿t</div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // --- STROKE ORDER MODAL (Logic tá»« mÃ£ tham kháº£o) ---
        async function showStrokeOrder(kanji) {
            const k = kanjiData.find(i => i.char === kanji);
            if (!k) return;

            document.getElementById('stroke-modal').classList.remove('hidden');
            document.getElementById('m-char').innerText = k.char;
            document.getElementById('m-hanviet').innerText = k.nghiaHV;
            document.getElementById('m-nghia').innerText = k.nghiaTV;
            document.getElementById('m-phanra').innerHTML = k.pr;
            document.getElementById('m-on').innerText = k.on;
            document.getElementById('m-kun').innerText = k.kun;
            document.getElementById('m-vidu-jp').innerText = k.v_jp;
            document.getElementById('m-vidu-vi').innerText = k.v_vi;

            const animContainer = document.getElementById('stroke-animation-container');
            const gridContainer = document.getElementById('stroke-grid-container');
            animContainer.innerHTML = '<span class="text-xs text-gray-400">Äang táº£i...</span>';
            
            const hex = getKanjiHex(kanji);
            const svgContent = await fetchKanjiSvg(hex);
            
            if (!svgContent) {
                animContainer.innerHTML = "<p class='p-4 text-red-500 text-xs'>Lá»—i táº£i hÃ¬nh áº£nh</p>";
                gridContainer.innerHTML = "";
                return;
            }

            animContainer.innerHTML = svgContent;
            const mainSvg = animContainer.querySelector('svg');
            mainSvg.setAttribute('width', '100%'); mainSvg.setAttribute('height', '100%');
            
            const paths = mainSvg.querySelectorAll('path');
            paths.forEach(p => {
                const len = p.getTotalLength();
                p.style.strokeDasharray = len; p.style.strokeDashoffset = len;
                p.style.stroke = "#333"; p.style.strokeWidth = "4"; p.style.fill = "none";
                p.style.strokeLinecap = "round"; p.style.strokeLinejoin = "round";
            });
            
            currentStrokeSvg = mainSvg;
            replayStrokeAnimation();

            // Render Stroke Grid
            gridContainer.innerHTML = '';
            for(let i=0; i<paths.length; i++) {
                const box = document.createElement('div');
                box.className = "w-14 h-14 bg-white border border-gray-200 relative stroke-grid-box flex items-center justify-center rounded-lg shadow-sm";
                const parser = new DOMParser();
                const svgClone = parser.parseFromString(svgContent, "image/svg+xml").querySelector('svg');
                svgClone.setAttribute('width', '100%'); svgClone.setAttribute('height', '100%');
                svgClone.querySelectorAll('path').forEach((p, idx) => {
                    p.style.fill="none"; p.style.strokeLinecap="round"; p.style.strokeLinejoin="round";
                    if(idx < i) { p.style.stroke="#cbd5e1"; p.style.strokeWidth="3"; }
                    else if(idx === i) { p.style.stroke="#0ea5e9"; p.style.strokeWidth="5"; }
                    else p.style.display="none";
                });
                box.appendChild(svgClone);
                gridContainer.appendChild(box);
            }
        }

        function replayStrokeAnimation() {
            if(!currentStrokeSvg) return;
            const paths = currentStrokeSvg.querySelectorAll('path');
            paths.forEach(p => { 
                p.style.transition = 'none'; 
                p.style.strokeDashoffset = p.getTotalLength(); 
            });
            void currentStrokeSvg.offsetWidth;
            let delay = 0;
            paths.forEach(p => {
                p.style.transition = `stroke-dashoffset 0.6s ease-in-out ${delay}s`;
                p.style.strokeDashoffset = '0';
                delay += 0.6;
            });
        }

        function closeStrokeModal() { document.getElementById('stroke-modal').classList.add('hidden'); }

        function filterLevel(level) {
            currentFilter = level;
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('bg-sky-600', 'text-white');
                btn.classList.add('bg-white', 'text-gray-600');
            });
            document.getElementById(`btn-${level}`).classList.add('bg-sky-600', 'text-white');
            renderLearn();
        }

        function speakModal() {
            const text = document.getElementById('m-vidu-jp').innerText;
            speak(text);
        }

        window.onload = renderLearn;
    </script>
</body>
</html>
