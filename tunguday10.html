<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>AzaKanji Tango - Ngày 10: Phỏng đoán & Xã hội</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Nunito', 'Inter', sans-serif; background-color: #f3f4f6; height: 100dvh; overflow: hidden; }
        .ja-text { font-family: 'Noto Sans JP', sans-serif; }
        .scroller { -webkit-overflow-scrolling: touch; overflow-y: auto; }
        .scroller::-webkit-scrollbar { width: 5px; height: 5px; }
        .scroller::-webkit-scrollbar-track { background: transparent; }
        .scroller::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
        
        .vocab-item { transition: all 0.2s; }
        .vocab-item.active { background-color: #eef2ff; border-left: 4px solid #4f46e5; color: #4338ca; padding-left: 0.75rem; }
        
        .shadow-card { transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.2s; }
        .shadow-card:hover { transform: translateY(-2px); box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
        
        .glass { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(12px); border-top: 1px solid rgba(255, 255, 255, 0.3); }
        
        .tab-btn.active { background-color: white; color: #312e81; box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1); }
        .tab-btn { color: #a5b4fc; }
        
        /* Animation Classes */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
        
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
        .wrong-anim { animation: shake 0.3s ease-in-out; }
        
        @keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        .correct-anim { animation: pop 0.3s ease-in-out; }

        /* Stroke Order Styles */
        .stroke-grid-box { border: 1px solid #e5e7eb; background-color: white; position: relative; }
        .stroke-grid-box::after { content: ''; position: absolute; top: 0; left: 50%; width: 1px; height: 100%; background: repeating-linear-gradient(to bottom, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); pointer-events: none; }
        .stroke-grid-box::before { content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 1px; background: repeating-linear-gradient(to right, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); pointer-events: none; }
        
        /* Hide stroke paths initially */
        #strokeAnimContainer svg path { opacity: 0; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="flex flex-col text-slate-800">

    <!-- HEADER -->
    <header class="bg-indigo-700 text-white shadow-lg flex-none z-40 relative">
        <div class="container mx-auto px-4 py-2 md:py-3">
            <div class="flex flex-col md:flex-row justify-between items-center gap-3">
                <div class="flex items-center gap-3 cursor-pointer select-none w-full md:w-auto justify-between" onclick="location.reload()">
                    <div class="flex items-center gap-3">
                        <i class="fas fa-torii-gate text-3xl text-white"></i>
                        <div>
                            <h1 class="text-lg md:text-xl font-bold uppercase tracking-wider">AzaKanji Tango</h1>
                            <p class="text-[10px] md:text-xs text-indigo-200">Ngày 10: Phỏng đoán & Xã hội</p>
                        </div>
                    </div>
                    <div class="md:hidden text-xs font-semibold bg-indigo-800 px-3 py-1 rounded-full border border-indigo-500/50"><span id="headerProgress">1/89</span></div>
                </div>
                <div class="flex items-center gap-3 w-full md:w-auto">
                    <div class="flex bg-indigo-900/50 rounded-lg p-1 w-full md:w-auto overflow-x-auto no-scrollbar">
                        <button onclick="switchTab('learn')" id="tab-learn" class="tab-btn active flex-1 md:flex-none px-4 py-1.5 rounded-md text-sm font-bold transition flex items-center justify-center gap-2 whitespace-nowrap"><i class="fas fa-book-open"></i> Học Từ</button>
                        <button onclick="switchTab('quiz')" id="tab-quiz" class="tab-btn flex-1 md:flex-none px-4 py-1.5 rounded-md text-sm font-bold transition flex items-center justify-center gap-2 whitespace-nowrap"><i class="fas fa-keyboard"></i> Kiểm Tra</button>
                        <div class="w-px bg-indigo-600 mx-1"></div>
                        <button onclick="openGrammarList()" class="tab-btn flex-1 md:flex-none px-4 py-1.5 rounded-md text-sm font-bold transition flex items-center justify-center gap-2 whitespace-nowrap"><i class="fas fa-scroll"></i> Cẩm Nang</button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden relative w-full">
        <!-- DESKTOP SIDEBAR -->
        <aside class="hidden md:flex w-72 bg-white border-r border-gray-200 flex-col z-10">
            <div class="p-4 border-b border-gray-100 bg-gray-50">
                <div class="relative">
                    <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-sm"></i>
                    <input type="text" id="searchInput" placeholder="Tìm kiếm từ..." class="w-full pl-9 pr-4 py-2 bg-white border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500 transition-all shadow-sm outline-none">
                </div>
            </div>
            <div id="vocabList" class="flex-1 scroller p-2 space-y-1"></div>
        </aside>

        <!-- MAIN CONTENT (LEARN MODE) -->
        <main id="learn-section" class="flex-1 overflow-y-auto scroller bg-slate-50 p-4 pb-28 w-full scroll-smooth">
            <div class="max-w-3xl mx-auto flex flex-col items-center animate-fade-in">
                <!-- Flashcard -->
                <div class="w-full bg-white rounded-2xl p-6 shadow-sm border border-gray-200 mb-6 relative overflow-hidden group">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-indigo-50 to-pink-50 rounded-bl-full -mr-8 -mt-8 z-0 opacity-60 transition-transform group-hover:scale-110 duration-700"></div>
                    <div class="relative z-10 text-center">
                        <div class="inline-flex items-center gap-2 bg-gray-50 px-3 py-1 rounded-full mb-4 border border-gray-100">
                            <span id="wordType" class="text-[10px] font-bold uppercase text-indigo-500">WORD</span>
                            <div class="w-px h-3 bg-gray-300"></div>
                            <span class="text-[10px] text-gray-400 font-mono" id="wordIndex">#1</span>
                        </div>
                        <div class="relative inline-block mb-2">
                            <h2 id="cardKanji" class="text-5xl md:text-6xl font-bold text-gray-800 ja-text tracking-tight cursor-pointer hover:text-indigo-700 transition-colors" onclick="speakCurrent()">大きな</h2>
                            <button id="strokeBtn" onclick="openStrokeModal()" class="absolute -right-10 top-2 w-8 h-8 bg-pink-100 text-pink-600 rounded-full flex items-center justify-center shadow-sm hover:bg-pink-200 hover:scale-110 transition-all hidden" title="Tập viết">
                                <i class="fas fa-pen-nib text-sm"></i>
                            </button>
                        </div>
                        <div class="flex flex-col items-center gap-1 cursor-pointer" onclick="speakCurrent()">
                            <span id="cardFurigana" class="text-xl text-indigo-600 font-medium ja-text">おおきな</span>
                            <span id="cardMeaning" class="text-lg text-gray-500 font-medium">~ to, ~ lớn</span>
                        </div>
                    </div>
                </div>

                <!-- Shadowing Sentences -->
                <div class="w-full">
                    <div class="flex items-center gap-2 mb-4 px-1">
                        <div class="bg-pink-100 text-pink-600 p-1.5 rounded-lg text-sm"><i class="fas fa-comments"></i></div>
                        <h3 class="font-bold text-gray-700 text-lg">Hội thoại đời sống</h3>
                    </div>
                    <div id="sentenceList" class="space-y-4"></div>
                    
                    <!-- Empty State -->
                    <div id="emptyState" class="hidden flex-col items-center justify-center p-8 text-center bg-white rounded-2xl border border-dashed border-gray-300 text-gray-400">
                        <i class="fas fa-comment-dots text-4xl mb-2 text-gray-300"></i>
                        <p class="text-sm">Chưa có hội thoại mẫu cho từ này.</p>
                        <p class="text-xs text-gray-300 mt-1">(Dữ liệu đang cập nhật)</p>
                    </div>
                </div>
            </div>
        </main>

        <!-- QUIZ MODE -->
        <div id="quiz-section" class="hidden flex-1 w-full overflow-y-auto scroller bg-slate-100 p-4 absolute inset-0 z-20">
            <div class="max-w-2xl mx-auto mt-4 md:mt-10 animate-fade-in">
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200">
                    <div class="bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-white flex justify-between items-center relative overflow-hidden">
                        <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"></div>
                        <div class="relative z-10">
                            <h2 class="text-2xl font-bold flex items-center gap-2"><i class="fas fa-graduation-cap"></i> Thử Thách</h2>
                            <p class="text-indigo-100 text-sm">Nhìn Kanji - Đoán Hiragana</p>
                        </div>
                        <div class="text-right relative z-10 bg-white/10 p-2 rounded-lg backdrop-blur-sm">
                            <div class="text-[10px] text-indigo-100 uppercase font-bold tracking-wider">Điểm số</div>
                            <div class="text-3xl font-bold font-mono" id="score-display">0</div>
                        </div>
                    </div>
                    
                    <div class="p-6 md:p-10 text-center">
                        <div class="mb-8 relative">
                            <div class="text-xs text-gray-400 mb-2 uppercase font-bold tracking-widest">Từ này đọc là gì?</div>
                            <div id="quiz-kanji" class="text-6xl ja-text font-bold text-gray-800 mb-4 transition-all inline-block"></div>
                            <div id="quiz-meaning" class="text-lg text-indigo-600 font-bold mb-2"></div>
                        </div>
                        
                        <div class="relative max-w-md mx-auto mb-8">
                            <input type="text" id="quiz-input" class="w-full text-center text-2xl p-4 border-2 border-gray-300 rounded-xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 outline-none transition-all ja-text placeholder:text-gray-300" placeholder="nhập hiragana..." autocomplete="off">
                        </div>
                        
                        <div id="feedback-area" class="hidden rounded-xl p-5 bg-gray-50 border border-gray-200 text-left mb-6 animate-fade-in shadow-inner">
                            <div id="feedback-title" class="font-bold text-lg mb-2 flex items-center"></div>
                            <div class="text-gray-700 mb-3 flex items-center flex-wrap gap-2">
                                Đáp án đúng: <span id="correct-answer" class="font-bold text-xl text-indigo-600 px-3 py-1 bg-white border border-indigo-100 rounded-lg ja-text shadow-sm"></span>
                                <button onclick="playQuizAudio()" class="text-gray-400 hover:text-indigo-600 transition-colors w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-200 border border-transparent hover:border-gray-300"><i class="fas fa-volume-up"></i></button>
                            </div>
                        </div>
                        
                        <div>
                            <button id="btn-check" onclick="checkAnswer()" class="w-full md:w-auto bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3.5 px-10 rounded-xl shadow-lg transition active:scale-95 text-lg flex items-center justify-center gap-2 mx-auto">
                                <i class="fas fa-check"></i> Kiểm Tra
                            </button>
                            <button id="btn-next" onclick="nextQuestion()" class="hidden w-full md:w-auto bg-gray-800 hover:bg-gray-900 text-white font-bold py-3.5 px-10 rounded-xl shadow-lg transition active:scale-95 text-lg flex items-center justify-center gap-2 mx-auto">
                                Câu Tiếp Theo <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MOBILE BOTTOM BAR -->
        <div class="fixed bottom-0 left-0 right-0 glass px-4 py-3 pb-6 z-30 flex items-center justify-between gap-4 md:hidden shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] border-t border-gray-200">
            <button onclick="prevWord()" class="w-12 h-12 rounded-xl bg-white border border-gray-200 text-gray-600 flex items-center justify-center shadow-sm active:bg-gray-50 active:scale-95 transition">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button onclick="toggleDrawer()" class="flex-1 h-12 rounded-xl bg-indigo-600 text-white font-bold flex items-center justify-center shadow-lg gap-2 active:scale-95 transition active:bg-indigo-700">
                <i class="fas fa-list-ul"></i> Danh Sách
            </button>
            <button onclick="nextWord()" class="w-12 h-12 rounded-xl bg-white border border-gray-200 text-gray-600 flex items-center justify-center shadow-sm active:bg-gray-50 active:scale-95 transition">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>

    <!-- MODAL: GRAMMAR LIST -->
    <div id="grammarListModal" class="fixed inset-0 z-[60] hidden flex items-center justify-center px-4">
        <div class="absolute inset-0 bg-gray-900/70 backdrop-blur-sm transition-opacity opacity-0" id="grammarListBackdrop" onclick="closeModal('grammarListModal')"></div>
        <div class="bg-white rounded-2xl w-full max-w-4xl relative z-10 shadow-2xl transform transition-all scale-95 opacity-0 flex flex-col max-h-[85vh]" id="grammarListPanel">
            <div class="p-5 border-b border-gray-100 flex justify-between items-center bg-indigo-50 rounded-t-2xl">
                <div class="flex items-center gap-3">
                    <div class="bg-indigo-600 text-white p-2 rounded-lg shadow-sm"><i class="fas fa-book"></i></div>
                    <div>
                        <h3 class="text-xl font-bold text-gray-800">Cẩm Nang Ngữ Pháp</h3>
                        <p class="text-xs text-gray-500">Thư viện ngữ pháp Day 10 (N4 - N3)</p>
                    </div>
                </div>
                <button onclick="closeModal('grammarListModal')" class="w-8 h-8 rounded-full hover:bg-white flex items-center justify-center text-gray-500 transition-colors"><i class="fas fa-times text-xl"></i></button>
            </div>
            <div class="p-6 overflow-y-auto scroller bg-slate-50">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="grammarGrid"></div>
            </div>
            <div class="p-4 border-t border-gray-100 bg-white rounded-b-2xl flex justify-end">
                <button onclick="closeModal('grammarListModal')" class="px-6 py-2 bg-gray-800 text-white font-bold rounded-full text-sm transition active:scale-95 shadow-lg hover:bg-gray-700">Đã Hiểu</button>
            </div>
        </div>
    </div>

    <!-- MODAL: GRAMMAR DETAIL -->
    <div id="detailGrammarModal" class="fixed inset-0 z-[90] hidden flex items-center justify-center px-4">
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity opacity-0" id="detailGrammarBackdrop" onclick="closeModal('detailGrammarModal')"></div>
        <div class="bg-white rounded-2xl w-full max-w-md relative z-10 shadow-2xl transform transition-all scale-95 opacity-0 flex flex-col" id="detailGrammarPanel">
            <div class="p-5 border-b border-gray-100 flex justify-between items-center bg-gray-50/50 rounded-t-2xl">
                <div class="flex items-center gap-2">
                    <div class="bg-indigo-100 p-1.5 rounded-lg text-indigo-600"><i class="fas fa-info-circle"></i></div>
                    <h3 class="text-lg font-bold text-gray-800">Giải thích Ngữ pháp</h3>
                </div>
                <button onclick="closeModal('detailGrammarModal')" class="text-gray-400 hover:text-gray-600"><i class="fas fa-times"></i></button>
            </div>
            <div class="p-6">
                <div class="bg-indigo-50 border border-indigo-100 rounded-xl p-3 text-center mb-4 shadow-sm">
                    <code class="text-lg font-bold text-indigo-700 font-mono" id="dgFormula"></code>
                </div>
                <div id="dgExplanation" class="text-gray-600 text-sm mb-4 space-y-3 leading-relaxed"></div>
            </div>
        </div>
    </div>

    <!-- MODAL: KANJI STROKE -->
    <div id="strokeModal" class="fixed inset-0 z-[80] hidden flex items-center justify-center px-4">
        <div class="absolute inset-0 bg-gray-900/80 backdrop-blur-sm transition-opacity opacity-0" id="strokeBackdrop" onclick="closeModal('strokeModal')"></div>
        <div class="bg-white rounded-2xl w-full max-w-5xl relative z-10 shadow-2xl transform transition-all scale-95 opacity-0 flex flex-col max-h-[90vh]" id="strokePanel">
            <div class="p-4 border-b border-gray-100 flex justify-between items-center bg-pink-50 rounded-t-2xl">
                <h3 class="text-lg font-bold text-pink-700 flex items-center gap-2"><i class="fas fa-pen-nib"></i> Tập Viết & Chi Tiết Kanji</h3>
                <button onclick="closeModal('strokeModal')" class="w-8 h-8 rounded-full hover:bg-white flex items-center justify-center text-gray-500 transition-colors"><i class="fas fa-times text-lg"></i></button>
            </div>
            <div class="p-6 overflow-y-auto scroller bg-slate-50 flex-1">
                <div id="strokeTabs" class="flex justify-center gap-2 mb-6 flex-wrap"></div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="flex flex-col gap-6 text-center">
                        <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-200 relative">
                            <p class="text-xs text-gray-400 mb-2 font-bold uppercase tracking-wider">Mô phỏng nét viết</p>
                            <div id="strokeAnimContainer" class="w-48 h-48 mx-auto bg-white border border-gray-300 relative stroke-grid-box flex items-center justify-center rounded-lg cursor-pointer" onclick="replayStrokeAnimation()"></div>
                            <button onclick="replayStrokeAnimation()" class="absolute top-4 right-4 bg-pink-50 text-pink-600 w-8 h-8 rounded-full flex items-center justify-center hover:bg-pink-100 transition shadow-sm z-10"><i class="fas fa-redo text-sm"></i></button>
                            <p class="text-[10px] text-gray-400 mt-2">Nhấn vào ô để chạy lại</p>
                        </div>
                        <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-200 text-left">
                            <p class="text-xs text-gray-400 mb-3 font-bold uppercase tracking-wider text-center">Thứ tự từng nét</p>
                            <div id="strokeGridContainer" class="flex flex-wrap gap-2 justify-center"></div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200 flex flex-col h-full text-left">
                        <div id="kanjiDetailContent">
                            <div class="flex items-center justify-between mb-6 border-b border-gray-100 pb-4">
                                <div><h2 id="detailKanji" class="text-6xl font-bold text-gray-800 ja-text mb-1 leading-none"></h2><div class="text-xs font-bold bg-indigo-100 text-indigo-700 px-2 py-0.5 rounded inline-block mt-2" id="detailHanViet"></div></div>
                                <div class="text-right"><div class="text-2xl font-bold text-gray-600 capitalize" id="detailMeaning"></div></div>
                            </div>
                            <!-- Radicals -->
                            <div class="mb-4 bg-indigo-50 p-3 rounded-lg border border-indigo-100">
                                <span class="text-xs font-bold text-indigo-500 uppercase block mb-1"><i class="fas fa-layer-group mr-1"></i> Bộ thủ (Thành phần)</span>
                                <span class="text-sm font-medium text-indigo-900" id="detailRadicals">...</span>
                            </div>
                            <!-- On/Kun -->
                            <div class="grid grid-cols-2 gap-4 mb-6">
                                <div class="bg-slate-50 p-3 rounded-lg border border-slate-100 flex justify-between items-center group cursor-pointer" onclick="document.getElementById('btnPlayOn').click()"><div class="flex flex-col"><span class="text-xs font-bold text-gray-400 uppercase">On</span><span class="text-lg font-bold text-indigo-600 ja-text" id="detailOn"></span></div><button id="btnPlayOn" class="text-indigo-300 group-hover:text-indigo-600"><i class="fas fa-volume-up"></i></button></div>
                                <div class="bg-slate-50 p-3 rounded-lg border border-slate-100 flex justify-between items-center group cursor-pointer" onclick="document.getElementById('btnPlayKun').click()"><div class="flex flex-col"><span class="text-xs font-bold text-gray-400 uppercase">Kun</span><span class="text-lg font-bold text-pink-600 ja-text" id="detailKun"></span></div><button id="btnPlayKun" class="text-pink-300 group-hover:text-pink-600"><i class="fas fa-volume-up"></i></button></div>
                            </div>
                            <!-- Tips -->
                            <div class="space-y-4 mb-6">
                                <div class="bg-green-50 p-4 rounded-lg border border-green-100">
                                    <h4 class="text-sm font-bold text-green-800 mb-2 flex items-center gap-2"><i class="fas fa-image"></i> Ghi nhớ hình ảnh</h4>
                                    <p class="text-sm text-green-700 leading-relaxed" id="detailTipImg"></p>
                                </div>
                                <div class="bg-orange-50 p-4 rounded-lg border border-orange-100">
                                    <h4 class="text-sm font-bold text-orange-800 mb-2 flex items-center gap-2"><i class="fas fa-music"></i> Mẹo nhớ âm thanh</h4>
                                    <p class="text-sm text-orange-700" id="detailTipSound"></p>
                                </div>
                            </div>
                            <!-- Related Words -->
                            <div>
                                <h4 class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-3">Từ vựng liên quan</h4>
                                <div class="space-y-2" id="detailWords"></div>
                            </div>
                        </div>
                        <div id="kanjiDetailEmpty" class="hidden h-full flex flex-col items-center justify-center text-center p-4 text-gray-400"><i class="fas fa-book-open text-4xl mb-3 opacity-30"></i><p class="text-sm">Chưa có dữ liệu chi tiết cho chữ Hán này.</p></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- 1. GRAMMAR REPO (N5 - N3) ---
        const grammarRepo = {
            "deshou": { title: "Có lẽ (Phỏng đoán)", formula: "V/Adj/N + でしょう", desc: "N4: Diễn tả sự phỏng đoán của người nói.", ex: "明日は雨が降るでしょう。" },
            "to_omou": { title: "Nghĩ rằng", formula: "～と 思います", desc: "N4: Biểu thị suy nghĩ, ý kiến cá nhân.", ex: "彼は来ないと思います。" },
            "you_ni_naru": { title: "Trở nên (Thay đổi khả năng/thói quen)", formula: "Vる + ようになる", desc: "N4: Biểu thị sự thay đổi trạng thái từ không thể sang có thể, hoặc hình thành thói quen mới.", ex: "泳げるようになりました。" },
            "yori": { title: "So sánh hơn", formula: "N1 は N2 より Adj", desc: "N5: N1 tính chất hơn N2.", ex: "車は自転車より速いです。" },
            "de_place": { title: "Tại (Nơi chốn)", formula: "N(địa điểm) + で + V", desc: "N5: Hành động diễn ra tại địa điểm nào đó.", ex: "駅で会います。" },
            "mashou_ka": { title: "Cùng làm nhé?", formula: "Vましょうか", desc: "N5: Rủ rê, đề nghị.", ex: "泳ぎましょうか。" },
            "hou_ga_ii": { title: "Nên/Không nên", formula: "Vた/Vない + ほうがいい", desc: "N4: Đưa ra lời khuyên.", ex: "薬を飲んだほうがいいですよ。" },
            "te_kudasai": { title: "Hãy...", formula: "Vてください", desc: "N5: Yêu cầu, nhờ vả lịch sự.", ex: "書いてください。" },
            "tara": { title: "Nếu/Sau khi", formula: "Vたら", desc: "N4: Điều kiện giả định hoặc hành động nối tiếp.", ex: "雨が降ったら、行きません。" },
            "passive": { title: "Thể bị động", formula: "Vられる", desc: "N4: Bị/Được làm gì đó.", ex: "先生にほめられました。" },
            "koto_ga_aru": { title: "Đã từng", formula: "Vた + ことが（ある）", desc: "N4: Kinh nghiệm trong quá khứ.", ex: "日本へ行ったことがあります。" },
            "mashou": { title: "Cùng làm nhé", formula: "Vましょう", desc: "N5: Rủ rê, đề nghị.", ex: "整理しましょう。" },
            "te_iru": { title: "Đang/Trạng thái", formula: "Vている", desc: "N5/N4: Hành động đang diễn ra hoặc kết quả trạng thái.", ex: "似ています。" },
            "wa_desu": { title: "Cấu trúc định danh", formula: "N1 は N2 です", desc: "N5: Khẳng định N1 là N2.", ex: "これはペンです。" },
            "no_wa": { title: "Danh từ hóa", formula: "Vる + のは", desc: "N4: Biến động từ thành danh từ để làm chủ ngữ.", ex: "食べるのは楽しいです。" },
            "tai": { title: "Muốn", formula: "Vたい", desc: "N5: Mong muốn làm gì đó.", ex: "行きたいです。" },
            "na_adj": { title: "Tính từ đuôi Na", formula: "Adj(na) + な + N", desc: "N5: Bổ nghĩa cho danh từ.", ex: "静かな町。" },
            "ta_form": { title: "Thể quá khứ ngắn", formula: "Vた", desc: "N5: Dùng trong văn nói thân mật kể chuyện quá khứ.", ex: "食べた？" },
            "ni_kotaeru": { title: "Trả lời cho", formula: "N + に + 答える", desc: "N4: Trả lời câu hỏi/yêu cầu.", ex: "質問に答えます。" },
            "ga_verb": { title: "Tự động từ", formula: "N + が + V(intransitive)", desc: "N4: Diễn tả trạng thái hoặc hành động tự phát.", ex: "ドアが開きます。" },
            "volitional": { title: "Thể ý định", formula: "Vよう", desc: "N4: Dùng trong văn nói thân mật để rủ rê.", ex: "行こう！" },
            "nan_de": { title: "Tại sao", formula: "どうして / なんで", desc: "N5: Hỏi lý do.", ex: "どうしてですか。" },
            "to_conditional": { title: "Hễ...thì...", formula: "Vる + と", desc: "N4: Điều kiện dẫn đến kết quả tất yếu.", ex: "押すと開きます。" },
            "narimasu": { title: "Trở nên", formula: "Adj(ku/ni) / N(ni) + なります", desc: "N5: Sự thay đổi trạng thái.", ex: "元気になります。" }
        };

        // --- 2. VOCABULARY DATA (Day 10) ---
        const vocabData = [
            { "STT": 1, "Kanji": "大きな~", "Nghĩa": "~ to, ~ lớn", "Furigana": "おおきな", "type": "adj_na", "conv": { "polite": "大きな犬を買うでしょう。", "pVi": "Có lẽ tôi sẽ mua một con chó lớn.", "casual": "大きな犬、買うだろう。", "cVi": "Chắc tớ sẽ mua con chó to.", "gIds": ["deshou"] } },
            { "STT": 2, "Kanji": "小さな〜", "Nghĩa": "~ nhỏ, ~ bé", "Furigana": "ちいさな", "type": "adj_na", "conv": { "polite": "小さな家でも、幸せだと思います。", "pVi": "Dù là ngôi nhà nhỏ, tôi nghĩ vẫn hạnh phúc.", "casual": "小さな家でも、幸せだと思う。", "cVi": "Nhà nhỏ cũng hạnh phúc mà.", "gIds": ["to_omou"] } },
            { "STT": 3, "Kanji": "赤ちゃん", "Nghĩa": "Em bé", "Furigana": "あかちゃん", "type": "person", "conv": { "polite": "赤ちゃんは毎日早く寝るようになります。", "pVi": "Em bé sẽ quen với việc đi ngủ sớm mỗi ngày.", "casual": "赤ちゃん、毎日早く寝るようになるよ。", "cVi": "Em bé sẽ quen ngủ sớm thôi.", "gIds": ["you_ni_naru"] } },
            { "STT": 4, "Kanji": "小学校", "Nghĩa": "Trường cấp 1", "Furigana": "しょうがっこう", "type": "place", "conv": { "polite": "小学校は楽しいところだと思います。", "pVi": "Tôi nghĩ trường tiểu học là một nơi vui vẻ.", "casual": "小学校、楽しいところだと思う。", "cVi": "Cấp 1 vui mà.", "gIds": ["to_omou"] } },
            { "STT": 5, "Kanji": "中学校", "Nghĩa": "Trường cấp 2", "Furigana": "ちゅうがっこう", "type": "place", "conv": { "polite": "中学校は小学校より大きいでしょう。", "pVi": "Trường trung học có lẽ lớn hơn trường tiểu học.", "casual": "中学校は小学校より大きいだろ。", "cVi": "Cấp 2 chắc to hơn cấp 1.", "gIds": ["yori", "deshou"] } },
            { "STT": 6, "Kanji": "駅前", "Nghĩa": "Khu vực trước ga", "Furigana": "えきまえ", "type": "place", "conv": { "polite": "駅前で友達と会うでしょう。", "pVi": "Có lẽ tôi sẽ gặp bạn ở trước ga.", "casual": "駅前で友達と会うだろう。", "cVi": "Chắc gặp bạn ở trước ga.", "gIds": ["de_place", "deshou"] } },
            { "STT": 7, "Kanji": "海岸", "Nghĩa": "Bờ biển", "Furigana": "かいがん", "type": "place", "conv": { "polite": "海岸で泳ぎませんか。", "pVi": "Đi bơi ở bờ biển không?", "casual": "海岸で泳がない？", "cVi": "Ra biển bơi không?", "gIds": ["de_place", "mashou_ka"] } },
            { "STT": 8, "Kanji": "嘘", "Nghĩa": "Nói dối", "Furigana": "うそ", "type": "noun", "conv": { "polite": "嘘は言わないほうがいいと思います。", "pVi": "Tôi nghĩ không nên nói dối.", "casual": "嘘は言わないほうがいいと思う。", "cVi": "Đừng nói dối thì hơn.", "gIds": ["hou_ga_ii", "to_omou"] } },
            { "STT": 9, "Kanji": "書類", "Nghĩa": "Giấy tờ, tài liệu", "Furigana": "しょるい", "type": "noun", "conv": { "polite": "書類を早く準備してください。", "pVi": "Vui lòng chuẩn bị tài liệu nhanh lên.", "casual": "書類、早く準備して。", "cVi": "Chuẩn bị giấy tờ nhanh lên.", "gIds": ["te_kudasai"] } },
            { "STT": 10, "Kanji": "電源", "Nghĩa": "Công tắc điện", "Furigana": "でんげん", "type": "noun", "conv": { "polite": "電源をつけたら、明るくなります。", "pVi": "Nếu bật nguồn, sẽ trở nên sáng.", "casual": "電源つけたら、明るくなるよ。", "cVi": "Bật điện lên là sáng ngay.", "gIds": ["tara", "narimasu"] } },
            { "STT": 11, "Kanji": "〜製", "Nghĩa": "Sản xuất tại ~", "Furigana": "せい", "type": "noun", "conv": { "polite": "この製品は日本で作られたでしょう。", "pVi": "Sản phẩm này có lẽ được sản xuất tại Nhật Bản.", "casual": "これ、日本で作られたんだろう。", "cVi": "Cái này chắc hàng Nhật.", "gIds": ["passive", "deshou"] } },
            { "STT": 12, "Kanji": "回覧", "Nghĩa": "Tài liệu thông báo", "Furigana": "かいらん", "type": "noun", "conv": { "polite": "回覧を読んだことがありますか。", "pVi": "Bạn đã từng đọc tài liệu thông báo chưa?", "casual": "回覧、読んだことある？", "cVi": "Đọc bản tin bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 13, "Kanji": "研究室", "Nghĩa": "Phòng nghiên cứu", "Furigana": "けんきゅうしつ", "type": "place", "conv": { "polite": "研究室で何か研究しますか。", "pVi": "Bạn có nghiên cứu gì ở phòng nghiên cứu không?", "casual": "研究室で何か研究する？", "cVi": "Có nghiên cứu gì ở phòng lab không?", "gIds": ["de_place"] } },
            { "STT": 14, "Kanji": "", "Nghĩa": "Nghiêm chỉnh", "Furigana": "きちんと", "type": "adverb", "conv": { "polite": "きちんと勉強するでしょう。", "pVi": "Có lẽ bạn sẽ học hành nghiêm chỉnh.", "casual": "きちんと勉強するだろう。", "cVi": "Chắc là sẽ học hành tử tế thôi.", "gIds": ["deshou"] } },
            { "STT": 15, "Kanji": "整理します", "Nghĩa": "Sắp xếp", "Furigana": "せいりします", "type": "verb", "conv": { "polite": "本を整理しましょう。", "pVi": "Chúng ta hãy sắp xếp sách.", "casual": "本、整理しよう。", "cVi": "Xếp lại sách đi.", "gIds": ["mashou", "volitional"] } },
            { "STT": 16, "Kanji": "冊", "Nghĩa": "Cuốn (sách)", "Furigana": "さつ", "type": "counter", "conv": { "polite": "本を何冊読みましたか。", "pVi": "Bạn đã đọc bao nhiêu cuốn sách?", "casual": "本、何冊読んだ？", "cVi": "Đọc mấy cuốn rồi?", "gIds": ["ta_form"] } },
            { "STT": 17, "Kanji": "判子", "Nghĩa": "Con dấu", "Furigana": "はんこ", "type": "noun", "conv": { "polite": "判子を押したことがありますか。", "pVi": "Bạn đã từng đóng dấu chưa?", "casual": "判子押したことある？", "cVi": "Đóng dấu bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 18, "Kanji": "押す", "Nghĩa": "Đóng (dấu)", "Furigana": "おす", "type": "verb", "conv": { "polite": "判子を押しませんか。", "pVi": "Đóng dấu không?", "casual": "判子押さない？", "cVi": "Đóng dấu đi?", "gIds": ["mashou_ka"] } },
            { "STT": 19, "Kanji": "双子", "Nghĩa": "Cặp sinh đôi", "Furigana": "ふたご", "type": "person", "conv": { "polite": "双子の赤ちゃんは可愛いでしょう。", "pVi": "Em bé sinh đôi có lẽ dễ thương.", "casual": "双子の赤ちゃん、可愛いだろうね。", "cVi": "Sinh đôi chắc cute lắm.", "gIds": ["deshou"] } },
            { "STT": 20, "Kanji": "姉妹", "Nghĩa": "Chị em gái", "Furigana": "しまい", "type": "person", "conv": { "polite": "彼女たちは姉妹だと思います。", "pVi": "Tôi nghĩ họ là chị em gái.", "casual": "彼女たち、姉妹だと思う。", "cVi": "Chắc là chị em đấy.", "gIds": ["to_omou"] } },
            { "STT": 21, "Kanji": "似ている", "Nghĩa": "Giống", "Furigana": "にている", "type": "verb", "conv": { "polite": "彼女は母親に似ているでしょう。", "pVi": "Cô ấy có lẽ giống mẹ.", "casual": "彼女、母親に似てるだろう。", "cVi": "Cổ giống mẹ nhỉ.", "gIds": ["te_iru", "deshou"] } },
            { "STT": 22, "Kanji": "性格", "Nghĩa": "Tính cách", "Furigana": "せいかく", "type": "noun", "conv": { "polite": "彼の性格は優しいと思います。", "pVi": "Tôi nghĩ tính cách của anh ấy hiền lành.", "casual": "彼の性格、優しいと思う。", "cVi": "Tính ông ấy hiền mà.", "gIds": ["to_omou"] } },
            { "STT": 23, "Kanji": "大人しい", "Nghĩa": "Hiền lành, trầm", "Furigana": "おとなしい", "type": "adj_i", "conv": { "polite": "彼女は大人しい人でしょう。", "pVi": "Cô ấy có lẽ là người trầm tính.", "casual": "彼女、大人しい人だろう。", "cVi": "Cổ trầm tính lắm.", "gIds": ["deshou"] } },
            { "STT": 24, "Kanji": "世話をする", "Nghĩa": "Chăm sóc", "Furigana": "せわをする", "type": "verb", "conv": { "polite": "誰かの世話をしたことがありますか。", "pVi": "Bạn đã từng chăm sóc ai chưa?", "casual": "誰かの世話したことある？", "cVi": "Chăm ai bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 25, "Kanji": "時間が経つ", "Nghĩa": "Thời gian trôi", "Furigana": "じかんがたつ", "type": "phrase", "conv": { "polite": "時間が経つのは早いと思います。", "pVi": "Tôi nghĩ thời gian trôi qua nhanh.", "casual": "時間が経つの、早いと思う。", "cVi": "Thời gian trôi nhanh thật.", "gIds": ["no_wa", "to_omou"] } },
            { "STT": 26, "Kanji": "大好き(な)", "Nghĩa": "Rất thích", "Furigana": "だいすき(な)", "type": "adj_na", "conv": { "polite": "私はアニメが大好きです。", "pVi": "Tôi rất thích anime.", "casual": "私、アニメ大好き。", "cVi": "Tớ mê anime lắm.", "gIds": ["wa_desu"] } },
            { "STT": 27, "Kanji": "点", "Nghĩa": "Điểm", "Furigana": "てん", "type": "noun", "conv": { "polite": "100点を取りたいと思います。", "pVi": "Tôi nghĩ tôi muốn đạt 100 điểm.", "casual": "100点取りたいと思う。", "cVi": "Muốn được 100 điểm ghê.", "gIds": ["tai", "to_omou"] } },
            { "STT": 28, "Kanji": "喧嘩する", "Nghĩa": "Cãi nhau", "Furigana": "けんかする", "type": "verb", "conv": { "polite": "友達と喧嘩したことがありますか。", "pVi": "Bạn đã từng cãi nhau với bạn bè chưa?", "casual": "友達と喧嘩したことある？", "cVi": "Cãi nhau với bạn bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 29, "Kanji": "不思議(な)", "Nghĩa": "Kì lạ, bí ẩn", "Furigana": "ふしぎ(な)", "type": "adj_na", "conv": { "polite": "この場所は不思議なところだと思います。", "pVi": "Tôi nghĩ nơi này là một nơi kỳ lạ.", "casual": "ここ、不思議なところだと思う。", "cVi": "Chỗ này ảo thật đấy.", "gIds": ["na_adj", "to_omou"] } },
            { "STT": 30, "Kanji": "(に)答える", "Nghĩa": "Trả lời", "Furigana": "こたえる", "type": "verb", "conv": { "polite": "質問に答えるでしょう。", "pVi": "Có lẽ bạn sẽ trả lời câu hỏi.", "casual": "質問に答えるだろう。", "cVi": "Chắc sẽ trả lời thôi.", "gIds": ["ni_kotaeru", "deshou"] } },
            { "STT": 31, "Kanji": "(が)倒れる", "Nghĩa": "Đổ (cây)", "Furigana": "たおれる", "type": "verb", "conv": { "polite": "木が倒れるでしょう。", "pVi": "Cây có lẽ sẽ đổ.", "casual": "木が倒れるだろう。", "cVi": "Cây sắp đổ rồi.", "gIds": ["ga_verb", "deshou"] } },
            { "STT": 32, "Kanji": "(が)焼ける", "Nghĩa": "Cháy, nướng", "Furigana": "やける", "type": "verb", "conv": { "polite": "パンが焼けるでしょう。", "pVi": "Bánh mì có lẽ sẽ được nướng.", "casual": "パンが焼けるだろう。", "cVi": "Bánh sắp nướng xong rồi.", "gIds": ["ga_verb", "deshou"] } },
            { "STT": 33, "Kanji": "通る", "Nghĩa": "Đi qua", "Furigana": "とおる", "type": "verb", "conv": { "polite": "この道を通ったことがありますか。", "pVi": "Bạn đã từng đi qua con đường này chưa?", "casual": "この道通ったことある？", "cVi": "Đi đường này bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 34, "Kanji": "死ぬ", "Nghĩa": "Chết", "Furigana": "しぬ", "type": "verb", "conv": { "polite": "人はいつか死ぬでしょう。", "pVi": "Con người có lẽ sẽ chết vào một ngày nào đó.", "casual": "人はいつか死ぬだろう。", "cVi": "Ai rồi cũng chết thôi.", "gIds": ["deshou"] } },
            { "STT": 35, "Kanji": "", "Nghĩa": "Ngạc nhiên", "Furigana": "びっくりする", "type": "verb", "conv": { "polite": "ニュースを聞いて、びっくりしたことがありますか。", "pVi": "Bạn đã từng ngạc nhiên khi nghe tin tức chưa?", "casual": "ニュース聞いて、びっくりしたことある？", "cVi": "Nghe tin sốc bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 36, "Kanji": "", "Nghĩa": "Thất vọng", "Furigana": "がっかりする", "type": "verb", "conv": { "polite": "試験に失敗したら、がっかりするでしょう。", "pVi": "Nếu thi trượt, có lẽ bạn sẽ thất vọng.", "casual": "試験失敗したら、がっかりするだろう。", "cVi": "Trượt thì chán lắm.", "gIds": ["tara", "deshou"] } },
            { "STT": 37, "Kanji": "安心する", "Nghĩa": "Yên tâm", "Furigana": "あんしんする", "type": "verb", "conv": { "polite": "安心したことがありますか。", "pVi": "Bạn đã từng yên tâm chưa?", "casual": "安心したことある？", "cVi": "Thấy yên tâm chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 38, "Kanji": "遅刻する", "Nghĩa": "Đến muộn", "Furigana": "ちこくする", "type": "verb", "conv": { "polite": "遅刻したことがありますか。", "pVi": "Bạn đã từng đến muộn chưa?", "casual": "遅刻したことある？", "cVi": "Đi muộn bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 39, "Kanji": "早退する", "Nghĩa": "Về sớm", "Furigana": "そうたいする", "type": "verb", "conv": { "polite": "早退したことがありますか。", "pVi": "Bạn đã từng về sớm chưa?", "casual": "早退したことある？", "cVi": "Về sớm bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 40, "Kanji": "離婚する", "Nghĩa": "Ly hôn", "Furigana": "りこんする", "type": "verb", "conv": { "polite": "離婚したことがありますか。", "pVi": "Bạn đã từng ly hôn chưa?", "casual": "離婚したことある？", "cVi": "Ly hôn bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 41, "Kanji": "複雑(な)", "Nghĩa": "Phức tạp", "Furigana": "ふくざつ(な)", "type": "adj_na", "conv": { "polite": "この問題は複雑だと思います。", "pVi": "Tôi nghĩ vấn đề này phức tạp.", "casual": "この問題、複雑だと思う。", "cVi": "Vấn đề này phức tạp đấy.", "gIds": ["to_omou"] } },
            { "STT": 42, "Kanji": "邪魔(な)", "Nghĩa": "Phiền hà", "Furigana": "じゃま(な)", "type": "adj_na", "conv": { "polite": "邪魔なものがあるでしょう。", "pVi": "Có lẽ có thứ gì đó gây cản trở.", "casual": "邪魔なものがあるだろう。", "cVi": "Có cái gì vướng víu ấy.", "gIds": ["deshou"] } },
            { "STT": 43, "Kanji": "汚い", "Nghĩa": "Bẩn", "Furigana": "きたない", "type": "adj_i", "conv": { "polite": "汚い部屋は嫌いだと思います。", "pVi": "Tôi nghĩ tôi ghét căn phòng bẩn.", "casual": "汚い部屋は嫌いだと思う。", "cVi": "Ghét phòng bẩn.", "gIds": ["to_omou"] } },
            { "STT": 44, "Kanji": "嬉しい", "Nghĩa": "Vui sướng", "Furigana": "うれしい", "type": "adj_i", "conv": { "polite": "嬉しいニュースを聞いたことがありますか。", "pVi": "Bạn đã từng nghe tin vui chưa?", "casual": "嬉しいニュース聞いたことある？", "cVi": "Nghe tin vui bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 45, "Kanji": "悲しい", "Nghĩa": "Đau buồn", "Furigana": "かなしい", "type": "adj_i", "conv": { "polite": "悲しい映画を見たことがありますか。", "pVi": "Bạn đã từng xem phim buồn chưa?", "casual": "悲しい映画見たことある？", "cVi": "Xem phim buồn bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 46, "Kanji": "恥ずかしい", "Nghĩa": "Xấu hổ", "Furigana": "はずかしい", "type": "adj_i", "conv": { "polite": "恥ずかしい経験をしたことがありますか。", "pVi": "Bạn đã từng có kinh nghiệm đáng xấu hổ chưa?", "casual": "恥ずかしい経験したことある？", "cVi": "Có chuyện gì xấu hổ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 47, "Kanji": "地震", "Nghĩa": "Động đất", "Furigana": "じしん", "type": "noun", "conv": { "polite": "地震が起きたことがありますか。", "pVi": "Đã từng xảy ra động đất chưa?", "casual": "地震起きたことある？", "cVi": "Có động đất bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 48, "Kanji": "台風", "Nghĩa": "Bão", "Furigana": "たいふう", "type": "noun", "conv": { "polite": "台風が来るでしょう。", "pVi": "Có lẽ bão sẽ đến.", "casual": "台風が来るだろう。", "cVi": "Chắc bão sắp đến.", "gIds": ["deshou"] } },
            { "STT": 49, "Kanji": "火事", "Nghĩa": "Hỏa hoạn", "Furigana": "かじ", "type": "noun", "conv": { "polite": "火事を見たことがありますか。", "pVi": "Bạn đã từng nhìn thấy hỏa hoạn chưa?", "casual": "火事見たことある？", "cVi": "Thấy cháy nhà bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 50, "Kanji": "事故", "Nghĩa": "Tai nạn", "Furigana": "じこ", "type": "noun", "conv": { "polite": "事故が起きたことがありますか。", "pVi": "Đã từng xảy ra tai nạn chưa?", "casual": "事故起きたことある？", "cVi": "Có tai nạn bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 51, "Kanji": "お見合い", "Nghĩa": "Xem mắt", "Furigana": "おみあい", "type": "noun", "conv": { "polite": "お見合いをしたことがありますか。", "pVi": "Bạn đã từng đi xem mắt chưa?", "casual": "お見合いしたことある？", "cVi": "Đi xem mắt bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 52, "Kanji": "電話代", "Nghĩa": "Tiền điện thoại", "Furigana": "でんわだい", "type": "noun", "conv": { "polite": "電話代は高いと思います。", "pVi": "Tôi nghĩ tiền điện thoại đắt.", "casual": "電話代、高いと思う。", "cVi": "Tiền điện thoại đắt ghê.", "gIds": ["to_omou"] } },
            { "STT": 53, "Kanji": "〜号室", "Nghĩa": "Phòng số ~", "Furigana": "ごうしつ", "type": "noun", "conv": { "polite": "301号室に誰かいるでしょう。", "pVi": "Có lẽ có ai đó ở phòng 301.", "casual": "301号室に誰かいるだろう。", "cVi": "Chắc có người ở phòng 301.", "gIds": ["deshou"] } },
            { "STT": 54, "Kanji": "汗", "Nghĩa": "Mồ hôi", "Furigana": "あせ", "type": "noun", "conv": { "polite": "汗をかいたことがありますか。", "pVi": "Bạn đã từng đổ mồ hôi chưa?", "casual": "汗かいたことある？", "cVi": "Đổ mồ hôi bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 55, "Kanji": "石鹸", "Nghĩa": "Xà phòng", "Furigana": "せっけん", "type": "noun", "conv": { "polite": "石鹸で手を洗いませんか。", "pVi": "Rửa tay bằng xà phòng không?", "casual": "石鹸で手洗わない？", "cVi": "Rửa tay bằng xà phòng đi?", "gIds": ["de_method", "mashou_ka"] } },
            { "STT": 56, "Kanji": "大勢", "Nghĩa": "Nhiều người", "Furigana": "おおぜい", "type": "noun", "conv": { "polite": "大勢の人が集まるでしょう。", "pVi": "Có lẽ nhiều người sẽ tập trung.", "casual": "大勢の人、集まるだろう。", "cVi": "Chắc đông người lắm.", "gIds": ["deshou"] } },
            { "STT": 57, "Kanji": "お疲れ様", "Nghĩa": "Vất vả rồi", "Furigana": "おつかれさま", "type": "phrase", "conv": { "polite": "仕事が終わったら、「お疲れ様でした」と言います。", "pVi": "Nếu công việc kết thúc, tôi sẽ nói 'Otsukaresama deshita'.", "casual": "仕事終わったら、「お疲れ様」って言う。", "cVi": "Xong việc thì chào 'Otsukaresama'.", "gIds": ["tara"] } },
            { "STT": 58, "Kanji": "伺います", "Nghĩa": "Đến thăm", "Furigana": "うかがいます", "type": "verb", "conv": { "polite": "先生の家へ伺ったことがありますか。", "pVi": "Bạn đã từng đến thăm nhà giáo viên chưa?", "casual": "先生んち伺ったことある？", "cVi": "Đến nhà thầy bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 59, "Kanji": "途中で", "Nghĩa": "Giữa đường", "Furigana": "とちゅうで", "type": "adverb", "conv": { "polite": "途中で何かあったら、電話してください。", "pVi": "Nếu có chuyện gì giữa đường, hãy gọi điện cho tôi.", "casual": "途中でなんかあったら、電話して。", "cVi": "Có gì thì gọi nhé.", "gIds": ["tara", "te_kudasai"] } },
            { "STT": 60, "Kanji": "", "Nghĩa": "Đâm, va chạm", "Furigana": "ぶつかる", "type": "verb", "conv": { "polite": "車にぶつかったことがありますか。", "pVi": "Bạn đã từng bị xe đâm chưa?", "casual": "車にぶつかったことある？", "cVi": "Bị xe đâm bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 61, "Kanji": "並ぶ", "Nghĩa": "Xếp hàng", "Furigana": "ならぶ", "type": "verb", "conv": { "polite": "レストランで並んだことがありますか。", "pVi": "Bạn đã từng xếp hàng ở nhà hàng chưa?", "casual": "レストランで並んだことある？", "cVi": "Xếp hàng ăn bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 62, "Kanji": "大人", "Nghĩa": "Người lớn", "Furigana": "おとな", "type": "noun", "conv": { "polite": "大人は子供より背が高いでしょう。", "pVi": "Người lớn có lẽ cao hơn trẻ con.", "casual": "大人は子供より背が高いだろう。", "cVi": "Người lớn chắc cao hơn trẻ con.", "gIds": ["yori", "deshou"] } },
            { "STT": 63, "Kanji": "洋服", "Nghĩa": "Âu phục", "Furigana": "ようふく", "type": "noun", "conv": { "polite": "どんな洋服が好きですか。", "pVi": "Bạn thích loại quần áo Tây Âu nào?", "casual": "どんな洋服好き？", "cVi": "Thích quần áo kiểu gì?", "gIds": ["wa_desu"] } },
            { "STT": 64, "Kanji": "西洋化する", "Nghĩa": "Tây Âu hóa", "Furigana": "せいようかする", "type": "verb", "conv": { "polite": "日本は西洋化していると思います。", "pVi": "Tôi nghĩ Nhật Bản đang Tây Âu hóa.", "casual": "日本は西洋化してると思う。", "cVi": "Nhật đang Tây hóa rồi.", "gIds": ["to_omou"] } },
            { "STT": 65, "Kanji": "(が)合う", "Nghĩa": "Vừa, hợp", "Furigana": "あう", "type": "verb", "conv": { "polite": "この服は私に合うでしょう。", "pVi": "Bộ quần áo này có lẽ hợp với tôi.", "casual": "この服、私に合うだろう。", "cVi": "Bộ này chắc hợp với tớ.", "gIds": ["deshou"] } },
            { "STT": 66, "Kanji": "今では", "Nghĩa": "Bây giờ thì", "Furigana": "いまでは", "type": "phrase", "conv": { "polite": "今ではパソコンはとても便利になりました。", "pVi": "Bây giờ thì máy tính đã trở nên rất tiện lợi.", "casual": "今じゃパソコン、めっちゃ便利になった。", "cVi": "Giờ máy tính tiện lắm rồi.", "gIds": ["narimasu"] } },
            { "STT": 67, "Kanji": "成人式", "Nghĩa": "Lễ trưởng thành", "Furigana": "せいじんしき", "type": "noun", "conv": { "polite": "成人式に参加したことがありますか。", "pVi": "Bạn đã từng tham gia lễ trưởng thành chưa?", "casual": "成人式参加したことある？", "cVi": "Đi lễ trưởng thành chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 68, "Kanji": "数える", "Nghĩa": "Đếm", "Furigana": "かぞえる", "type": "verb", "conv": { "polite": "お金を数えませんか。", "pVi": "Đếm tiền không?", "casual": "お金数えない？", "cVi": "Đếm tiền đi?", "gIds": ["mashou_ka"] } },
            { "STT": 69, "Kanji": "測る", "Nghĩa": "Đo, cân", "Furigana": "はかる", "type": "verb", "conv": { "polite": "体重を測ったことがありますか。", "pVi": "Bạn đã từng cân nặng chưa?", "casual": "体重測ったことある？", "cVi": "Cân bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 70, "Kanji": "確かめる", "Nghĩa": "Xác nhận", "Furigana": "たしかめる", "type": "verb", "conv": { "polite": "時間を確かめてから、出かけましょう。", "pVi": "Sau khi xác nhận thời gian, chúng ta hãy ra ngoài.", "casual": "時間確かめてから、出かけよう。", "cVi": "Xem giờ rồi đi.", "gIds": ["te_form_cause", "volitional"] } },
            { "STT": 71, "Kanji": "似合う", "Nghĩa": "Phù hợp", "Furigana": "にあう", "type": "verb", "conv": { "polite": "この帽子はあなたに似合うでしょう。", "pVi": "Chiếc mũ này có lẽ hợp với bạn.", "casual": "この帽子、似合うだろう。", "cVi": "Mũ này chắc hợp đấy.", "gIds": ["deshou"] } },
            { "STT": 72, "Kanji": "出発する", "Nghĩa": "Xuất phát", "Furigana": "しゅっぱつする", "type": "verb", "conv": { "polite": "何時に出発しますか。", "pVi": "Bạn xuất phát lúc mấy giờ?", "casual": "何時に出発する？", "cVi": "Mấy giờ đi?", "gIds": [] } },
            { "STT": 73, "Kanji": "到着する", "Nghĩa": "Đến nơi", "Furigana": "とうちゃくする", "type": "verb", "conv": { "polite": "駅に到着したら、電話します。", "pVi": "Nếu đến ga, tôi sẽ gọi điện.", "casual": "駅に着いたら、電話する。", "cVi": "Đến ga tớ gọi.", "gIds": ["tara"] } },
            { "STT": 74, "Kanji": "酔う", "Nghĩa": "Say", "Furigana": "よう", "type": "verb", "conv": { "polite": "お酒を飲んだら、酔うでしょう。", "pVi": "Nếu uống rượu, có lẽ bạn sẽ say.", "casual": "お酒飲んだら、酔うだろう。", "cVi": "Uống là say đấy.", "gIds": ["tara", "deshou"] } },
            { "STT": 75, "Kanji": "危険(な)", "Nghĩa": "Nguy hiểm", "Furigana": "きけん(な)", "type": "adj_na", "conv": { "polite": "ここは危険な場所だと思います。", "pVi": "Tôi nghĩ đây là một nơi nguy hiểm.", "casual": "ここ、危険な場所だと思う。", "cVi": "Chỗ này nguy hiểm đấy.", "gIds": ["to_omou"] } },
            { "STT": 76, "Kanji": "必要(な)", "Nghĩa": "Cần thiết", "Furigana": "ひつよう(な)", "type": "adj_na", "conv": { "polite": "必要なものは買いましたか。", "pVi": "Bạn đã mua những thứ cần thiết chưa?", "casual": "必要なもの買った？", "cVi": "Mua đồ cần thiết chưa?", "gIds": ["ta_form"] } },
            { "STT": 77, "Kanji": "会議", "Nghĩa": "Hội nghị", "Furigana": "かいぎ", "type": "noun", "conv": { "polite": "会議はもう終わったでしょう。", "pVi": "Cuộc họp có lẽ đã kết thúc rồi.", "casual": "会議、もう終わっただろう。", "cVi": "Họp xong rồi nhỉ.", "gIds": ["deshou"] } },
            { "STT": 78, "Kanji": "会場", "Nghĩa": "Hội trường", "Furigana": "かいじょう", "type": "noun", "conv": { "polite": "会場は広いと思います。", "pVi": "Tôi nghĩ hội trường rộng.", "casual": "会場、広いと思う。", "cVi": "Hội trường rộng đấy.", "gIds": ["to_omou"] } },
            { "STT": 79, "Kanji": "二次会", "Nghĩa": "Tăng hai", "Furigana": "にじかい", "type": "noun", "conv": { "polite": "二次会に行きませんか。", "pVi": "Đi tăng hai không?", "casual": "二次会行かない？", "cVi": "Tăng hai không?", "gIds": ["mashou_ka"] } },
            { "STT": 80, "Kanji": "大会", "Nghĩa": "Đại hội", "Furigana": "たいかい", "type": "noun", "conv": { "polite": "大会に参加したことがありますか。", "pVi": "Bạn đã từng tham gia đại hội chưa?", "casual": "大会参加したことある？", "cVi": "Thi đấu bao giờ chưa?", "gIds": ["koto_ga_aru"] } },
            { "STT": 81, "Kanji": "表", "Nghĩa": "Mặt trước", "Furigana": "おもて", "type": "noun", "conv": { "polite": "表に何か書いてありますか。", "pVi": "Mặt trước có viết gì không?", "casual": "表になんか書いてある？", "cVi": "Mặt trước viết gì không?", "gIds": ["te_iru"] } },
            { "STT": 82, "Kanji": "裏", "Nghĩa": "Mặt sau", "Furigana": "うら", "type": "noun", "conv": { "polite": "裏に何も書いてないでしょう。", "pVi": "Mặt sau có lẽ không viết gì cả.", "casual": "裏、何も書いてないだろう。", "cVi": "Mặt sau chắc chả có gì.", "gIds": ["deshou"] } },
            { "STT": 83, "Kanji": "返事", "Nghĩa": "Hồi âm", "Furigana": "へんじ", "type": "noun", "conv": { "polite": "返事を早くしてください。", "pVi": "Vui lòng trả lời nhanh.", "casual": "返事早くして。", "cVi": "Trả lời nhanh đi.", "gIds": ["te_kudasai"] } },
            { "STT": 84, "Kanji": "米", "Nghĩa": "Gạo", "Furigana": "こめ", "type": "noun", "conv": { "polite": "米は美味しいと思います。", "pVi": "Tôi nghĩ gạo ngon.", "casual": "米、美味しいと思う。", "cVi": "Gạo ngon mà.", "gIds": ["to_omou"] } },
            { "STT": 85, "Kanji": "麦", "Nghĩa": "Lúa mạch", "Furigana": "むぎ", "type": "noun", "conv": { "polite": "麦は米より安いでしょう。", "pVi": "Lúa mạch có lẽ rẻ hơn gạo.", "casual": "麦は米より安いだろう。", "cVi": "Lúa mạch chắc rẻ hơn gạo.", "gIds": ["yori", "deshou"] } },
            { "STT": 86, "Kanji": "石油", "Nghĩa": "Dầu mỏ", "Furigana": "せきゆ", "type": "noun", "conv": { "polite": "石油は高いでしょう。", "pVi": "Dầu mỏ có lẽ đắt.", "casual": "石油、高いだろう。", "cVi": "Dầu mỏ chắc đắt.", "gIds": ["deshou"] } },
            { "STT": 87, "Kanji": "原料", "Nghĩa": "Nguyên liệu", "Furigana": "げんりょう", "type": "noun", "conv": { "polite": "どんな原料を使いますか。", "pVi": "Bạn dùng loại nguyên liệu nào?", "casual": "どんな原料使う？", "cVi": "Dùng nguyên liệu gì?", "gIds": [] } }
        ];

        // --- 3. KANJI DETAILS (Tips & Mnemonics) ---
        const kanjiDetails = {
            "大": { hanviet: "ĐẠI", mean: "To lớn", on: "ダイ, タイ", kun: "おお.きい", radicals: "Đại (大)", tipImg: "Người dang tay chân.", tipSoundOn: "**Dai**gaku đại học.", tipSoundKun: "**Oo**kii to.", words: [{w:"大きな (おおきな)", m:"To lớn"}, {w:"大学 (だいがく)", m:"Đại học"}] },
            "小": { hanviet: "TIỂU", mean: "Nhỏ", on: "ショウ", kun: "ちい.さい", radicals: "Tiểu (小)", tipImg: "Móc câu hai bên.", tipSoundOn: "**Shou**gakkou tiểu học.", tipSoundKun: "**Chii**sai nhỏ.", words: [{w:"小さな (ちいさな)", m:"Nhỏ bé"}, {w:"小学校 (しょうがっこう)", m:"Tiểu học"}] },
            "赤": { hanviet: "XÍCH", mean: "Đỏ", on: "セキ", kun: "あか", radicals: "Xích (赤)", tipImg: "Đất (土) lửa (火) màu đỏ.", tipSoundOn: "**Seki** xích đạo.", tipSoundKun: "**Aka**chan em bé.", words: [{w:"赤ちゃん (あかちゃん)", m:"Em bé"}, {w:"赤 (あか)", m:"Màu đỏ"}] },
            "校": { hanviet: "HIỆU", mean: "Trường", on: "コウ", kun: "", radicals: "Mộc (木) + Giao (交)", tipImg: "Giao lưu ở trường.", tipSoundOn: "Gak**kou** trường học.", tipSoundKun: "", words: [{w:"小学校 (しょうがっこう)", m:"Tiểu học"}, {w:"中学校 (ちゅうがっこう)", m:"Trung học"}] },
            "駅": { hanviet: "DỊCH", mean: "Ga", on: "エキ", kun: "", radicals: "Mã (馬) + Xích (尺)", tipImg: "Ngựa thồ hàng ra ga.", tipSoundOn: "**Eki** ga.", tipSoundKun: "", words: [{w:"駅前 (えきまえ)", m:"Trước ga"}, {w:"駅 (えき)", m:"Nhà ga"}] },
            "岸": { hanviet: "NGẠN", mean: "Bờ", on: "ガン", kun: "きし", radicals: "Sơn (山) + Can (干)", tipImg: "Núi (山) khô (干) bên bờ.", tipSoundOn: "Kai**gan** bờ biển.", tipSoundKun: "**Kishi** bờ.", words: [{w:"海岸 (かいがん)", m:"Bờ biển"}] },
            "嘘": { hanviet: "HƯ", mean: "Nói dối", on: "キョ", kun: "うそ", radicals: "Khẩu (口) + Hư (虚)", tipImg: "Miệng (口) nói hư (虚) không thật.", tipSoundOn: "**Kyo**gi hư cấu.", tipSoundKun: "**Uso** nói dối.", words: [{w:"嘘 (うそ)", m:"Lời nói dối"}] },
            "書": { hanviet: "THƯ", mean: "Viết", on: "ショ", kun: "か.く", radicals: "Duật (聿) + Nhật (日)", tipImg: "Tay cầm bút viết.", tipSoundOn: "**Sho**rui tài liệu.", tipSoundKun: "**Ka**ku viết.", words: [{w:"書類 (しょるい)", m:"Tài liệu"}, {w:"辞書 (じしょ)", m:"Từ điển"}] },
            "類": { hanviet: "LOẠI", mean: "Chủng loại", on: "ルイ", kun: "", radicals: "Mễ (米) + Đại (大) + Hiệt (頁)", tipImg: "Gạo (米) lớn (大) đầu (頁) là loại tốt.", tipSoundOn: "Sho**rui** tài liệu.", tipSoundKun: "", words: [{w:"書類 (しょるい)", m:"Tài liệu"}, {w:"種類 (しゅるい)", m:"Chủng loại"}] },
            "電": { hanviet: "ĐIỆN", mean: "Điện", on: "デン", kun: "", radicals: "Vũ (雨)", tipImg: "Mưa có sét.", tipSoundOn: "**Den**gen nguồn điện.", tipSoundKun: "", words: [{w:"電源 (でんげん)", m:"Nguồn điện"}, {w:"電気 (でんき)", m:"Điện"}] },
            "源": { hanviet: "NGUYÊN", mean: "Nguồn", on: "ゲン", kun: "みなもと", radicals: "Thủy (氵) + Nguyên (原)", tipImg: "Nước (氵) từ cao nguyên (原).", tipSoundOn: "Den**gen** nguồn điện.", tipSoundKun: "**Minamoto** nguồn.", words: [{w:"電源 (でんげん)", m:"Nguồn điện"}, {w:"資源 (しげん)", m:"Tài nguyên"}] },
            "製": { hanviet: "CHẾ", mean: "Chế tạo", on: "セイ", kun: "", radicals: "Y (衣) + Chế (制)", tipImg: "Chế (制) tạo y phục (衣).", tipSoundOn: "**Sei**hin sản phẩm.", tipSoundKun: "", words: [{w:"〜製 (〜せい)", m:"Sản xuất tại"}, {w:"製品 (せいひん)", m:"Sản phẩm"}] },
            "回": { hanviet: "HỒI", mean: "Xoay/Lần", on: "カイ", kun: "まわ.る", radicals: "Vi (囗) + Khẩu (口)", tipImg: "Hai cái miệng xoay vòng.", tipSoundOn: "**Kai**ran chuyền tay.", tipSoundKun: "**Mawa**ru xoay.", words: [{w:"回覧 (かいらん)", m:"Bản thông báo"}, {w:"回します (まわします)", m:"Vặn/Xoay"}] },
            "覧": { hanviet: "LÃM", mean: "Nhìn/Xem", on: "ラン", kun: "", radicals: "Kiến (見)", tipImg: "Quan sát (監) nhìn (見).", tipSoundOn: "Kai**ran** thông báo.", tipSoundKun: "", words: [{w:"回覧 (かいらん)", m:"Bản thông báo"}, {w:"展覧会 (てんらんかい)", m:"Triển lãm"}] },
            "研": { hanviet: "NGHIÊN", mean: "Mài/Nghiên cứu", on: "ケン", kun: "と.ぐ", radicals: "Thạch (石)", tipImg: "Đá (石) mài nhọn.", tipSoundOn: "**Ken**kyuu nghiên cứu.", tipSoundKun: "**To**gu mài.", words: [{w:"研究 (けんきゅう)", m:"Nghiên cứu"}] },
            "究": { hanviet: "CỨU", mean: "Nghiên cứu", on: "キュウ", kun: "きわ.める", radicals: "Huyệt (穴) + Cửu (九)", tipImg: "Chín (九) người trong hang (穴) nghiên cứu.", tipSoundOn: "Ken**kyuu** nghiên cứu.", tipSoundKun: "**Kiwa**meru tìm hiểu.", words: [{w:"研究 (けんきゅう)", m:"Nghiên cứu"}] },
            "室": { hanviet: "THẤT", mean: "Phòng", on: "シツ", kun: "むろ", radicals: "Miên (宀) + Chí (至)", tipImg: "Đến (至) nhà (宀) vào phòng.", tipSoundOn: "Kenkyuu**shitsu** phòng lab.", tipSoundKun: "**Muro** hầm.", words: [{w:"研究室 (けんきゅうしつ)", m:"Phòng nghiên cứu"}, {w:"教室 (きょうしつ)", m:"Lớp học"}] },
            "整": { hanviet: "CHỈNH", mean: "Sắp xếp", on: "セイ", kun: "ととの.える", radicals: "Phốc (攴) + Thúc (束) + Chính (正)", tipImg: "Buộc (束) lại chỉnh tề (正).", tipSoundOn: "**Sei**ri chỉnh lý.", tipSoundKun: "**Totono**eru chuẩn bị.", words: [{w:"整理 (せいり)", m:"Sắp xếp"}, {w:"調整 (ちょうせい)", m:"Điều chỉnh"}] },
            "理": { hanviet: "LÝ", mean: "Lý do", on: "リ", kun: "", radicals: "Ngọc (王) + Lý (里)", tipImg: "Vua (王) ở làng (里) có lý.", tipSoundOn: "Sei**ri** chỉnh lý.", tipSoundKun: "", words: [{w:"整理 (せいり)", m:"Sắp xếp"}, {w:"理由 (りゆう)", m:"Lý do"}] },
            "冊": { hanviet: "SÁCH", mean: "Cuốn", on: "サツ", kun: "", radicals: "Quynh (冂)", tipImg: "Hình cuốn sách.", tipSoundOn: "**Satsu** cuốn.", tipSoundKun: "", words: [{w:"冊 (さつ)", m:"Cuốn (đếm sách)"}] },
            "判": { hanviet: "PHÁN", mean: "Phán đoán/Con dấu", on: "ハン", kun: "わか.る", radicals: "Đao (刂) + Bán (半)", tipImg: "Dùng dao (刂) chia đôi (半) phán xét.", tipSoundOn: "**Han**ko con dấu.", tipSoundKun: "**Waka**ru hiểu.", words: [{w:"判子 (はんこ)", m:"Con dấu"}, {w:"判断 (はんだん)", m:"Phán đoán"}] },
            "双": { hanviet: "SONG", mean: "Đôi/Cặp", on: "ソウ", kun: "ふた", radicals: "Hựu (又)", tipImg: "Hai tay (又) là một đôi.", tipSoundOn: "**Sou**hou song phương.", tipSoundKun: "**Futa**go sinh đôi.", words: [{w:"双子 (ふたご)", m:"Sinh đôi"}] },
            "姉": { hanviet: "TỶ", mean: "Chị gái", on: "シ", kun: "あね", radicals: "Nữ (女) + Thị (市)", tipImg: "Người nữ (女) đi chợ (市) là chị.", tipSoundOn: "**Shi**mai chị em.", tipSoundKun: "**Ane** chị.", words: [{w:"姉妹 (しまい)", m:"Chị em"}, {w:"お姉さん (おねえさん)", m:"Chị gái"}] },
            "妹": { hanviet: "MUỘI", mean: "Em gái", on: "マイ", kun: "いもうと", radicals: "Nữ (女) + Vị (未)", tipImg: "Người nữ (女) vị (未) thành niên là em.", tipSoundOn: "Shi**mai** chị em.", tipSoundKun: "**Imouto** em gái.", words: [{w:"姉妹 (しまい)", m:"Chị em"}, {w:"妹 (いもうと)", m:"Em gái"}] },
            "似": { hanviet: "TỰ", mean: "Giống", on: "ジ", kun: "に.る", radicals: "Nhân (亻) + Dĩ (以)", tipImg: "Người (亻) dùng (以) làm mẫu giống nhau.", tipSoundOn: "Rui**ji** tương tự.", tipSoundKun: "**Ni**ru giống.", words: [{w:"似ています (にています)", m:"Giống"}, {w:"似合う (にあう)", m:"Hợp"}] },
            "性": { hanviet: "TÍNH", mean: "Tính cách/Giới tính", on: "セイ, ショウ", kun: "", radicals: "Tâm (忄) + Sinh (生)", tipImg: "Tâm (忄) sinh (生) tính.", tipSoundOn: "**Sei**kaku tính cách.", tipSoundKun: "", words: [{w:"性格 (せいかく)", m:"Tính cách"}, {w:"男性 (だんせい)", m:"Nam giới"}] },
            "格": { hanviet: "CÁCH", mean: "Tính cách/Hạng", on: "カク", kun: "", radicals: "Mộc (木) + Các (各)", tipImg: "Cây (木) mỗi (各) loại một cách.", tipSoundOn: "Sei**kaku** tính cách.", tipSoundKun: "", words: [{w:"性格 (せいかく)", m:"Tính cách"}, {w:"合格 (ごうかく)", m:"Thi đỗ"}] },
            "昔": { hanviet: "TÍCH", mean: "Ngày xưa", on: "セキ", kun: "むかし", radicals: "Nhật (日)", tipImg: "Ngày (日) xưa cũ.", tipSoundOn: "Kon**seki** kim tích.", tipSoundKun: "**Mukashi** ngày xưa.", words: [{w:"昔 (むかし)", m:"Ngày xưa"}, {w:"昔話 (むかしばなし)", m:"Chuyện cổ tích"}] },
            "世": { hanviet: "THẾ", mean: "Thế giới", on: "セイ, セ", kun: "よ", radicals: "Nhất (一)", tipImg: "Ba mươi (卅) năm một thế hệ.", tipSoundOn: "**Se**wa chăm sóc.", tipSoundKun: "**Yo**naka nửa đêm.", words: [{w:"世話 (せわ)", m:"Chăm sóc"}, {w:"世界 (せかい)", m:"Thế giới"}] },
            "話": { hanviet: "THOẠI", mean: "Nói chuyện", on: "ワ", kun: "はな.す", radicals: "Ngôn (言) + Thiệt (舌)", tipImg: "Lời nói (言) bằng lưỡi (舌).", tipSoundOn: "Se**wa** chăm sóc.", tipSoundKun: "**Hana**su nói.", words: [{w:"世話 (せわ)", m:"Chăm sóc"}, {w:"会話 (かいわ)", m:"Hội thoại"}] },
            "経": { hanviet: "KINH", mean: "Kinh qua", on: "ケイ", kun: "へ.る", radicals: "Mịch (糸)", tipImg: "Sợi chỉ (糸) kinh (圣) qua máy dệt.", tipSoundOn: "**Kei**ken kinh nghiệm.", tipSoundKun: "**He**ru trải qua.", words: [{w:"経験 (けいけん)", m:"Kinh nghiệm"}, {w:"経由 (けいゆ)", m:"Thông qua"}] },
            "点": { hanviet: "ĐIỂM", mean: "Điểm số", on: "テン", kun: "", radicals: "Hỏa (灬) + Chiếm (占)", tipImg: "Chiếm (占) lửa (灬) là điểm nóng.", tipSoundOn: "**Ten** điểm.", tipSoundKun: "", words: [{w:"点 (てん)", m:"Điểm"}, {w:"交差点 (こうさてん)", m:"Ngã tư"}] },
            "喧": { hanviet: "HUYÊN", mean: "Ồn ào", on: "ケン", kun: "やかま.しい", radicals: "Khẩu (口) + Tuyên (宣)", tipImg: "Miệng (口) tuyên (宣) truyền ồn ào.", tipSoundOn: "**Ken**ka cãi nhau.", tipSoundKun: "**Yakama**shii ồn ào.", words: [{w:"喧嘩 (けんか)", m:"Cãi nhau"}] },
            "嘩": { hanviet: "HOA", mean: "Ồn ào", on: "カ", kun: "", radicals: "Khẩu (口) + Hoa (華)", tipImg: "Miệng (口) nói hoa (華) mỹ ồn ào.", tipSoundOn: "Ken**ka** cãi nhau.", tipSoundKun: "", words: [{w:"喧嘩 (けんか)", m:"Cãi nhau"}] },
            "倒": { hanviet: "ĐẢO", mean: "Đổ/Ngã", on: "トウ", kun: "たお.れる", radicals: "Nhân (亻) + Đáo (到)", tipImg: "Người (亻) đến (到) thì ngã.", tipSoundOn: "**Tou**san phá sản.", tipSoundKun: "**Tao**reru đổ.", words: [{w:"倒れます (たおれます)", m:"Đổ/Ngã"}] },
            "焼": { hanviet: "THIÊU", mean: "Nướng/Cháy", on: "ショウ", kun: "や.ける", radicals: "Hỏa (火) + Nghiêu (堯)", tipImg: "Lửa (火) thiêu đốt.", tipSoundOn: "Nen**shou** đốt cháy.", tipSoundKun: "**Ya**keru cháy.", words: [{w:"焼けます (やけます)", m:"Cháy/Nướng"}, {w:"焼肉 (やきにく)", m:"Thịt nướng"}] },
            "通": { hanviet: "THÔNG", mean: "Đi qua/Giao thông", on: "ツウ", kun: "とお.る", radicals: "Xước (⻌) + Dũng (甬)", tipImg: "Dũng (甬) cảm đi (⻌) thông qua.", tipSoundOn: "Kou**tsu**u giao thông.", tipSoundKun: "**Too**ru đi qua.", words: [{w:"通ります (とおります)", m:"Đi qua"}, {w:"通学 (つうがく)", m:"Đi học"}] },
            "死": { hanviet: "TỬ", mean: "Chết", on: "シ", kun: "し.ぬ", radicals: "Nguyệt (歹) + Chủy (匕)", tipImg: "Xương tàn (歹) dưới thìa (匕).", tipSoundOn: "**Shi** tử vong.", tipSoundKun: "**Shi**nu chết.", words: [{w:"死ぬ (しぬ)", m:"Chết"}, {w:"必死 (ひっし)", m:"Quyết tâm"}] },
            "驚": { hanviet: "KINH", mean: "Ngạc nhiên", on: "キョウ", kun: "おどろ.く", radicals: "Mã (馬) + Kính (敬)", tipImg: "Ngựa (馬) kính (敬) trọng làm kinh ngạc.", tipSoundOn: "**Kyou**i kỳ diệu.", tipSoundKun: "**Odoro**ku ngạc nhiên.", words: [{w:"驚く (おどろく)", m:"Ngạc nhiên"}] },
            "失": { hanviet: "THẤT", mean: "Mất/Lỗi", on: "シツ", kun: "うしな.う", radicals: "Đại (大)", tipImg: "Người (人) đánh rơi đồ.", tipSoundOn: "**Ship**pai thất bại.", tipSoundKun: "**Ushina**u mất.", words: [{w:"失敗 (しっぱい)", m:"Thất bại"}, {w:"失礼 (しつれい)", m:"Thất lễ"}] },
            "敗": { hanviet: "BẠI", mean: "Thua", on: "ハイ", kun: "やぶ.れる", radicals: "Bối (貝) + Phộc (攵)", tipImg: "Mất tiền (貝) do bị đánh (攵) là bại.", tipSoundOn: "Ship**pai** thất bại.", tipSoundKun: "**Yabu**reru thua.", words: [{w:"失敗 (しっぱい)", m:"Thất bại"}, {w:"敗北 (はいぼく)", m:"Thua trận"}] },
            "安": { hanviet: "AN", mean: "An tâm/Rẻ", on: "アン", kun: "やす.い", radicals: "Miên (宀) + Nữ (女)", tipImg: "Phụ nữ trong nhà an toàn.", tipSoundOn: "**An**shin an tâm.", tipSoundKun: "**Yasu**i rẻ.", words: [{w:"安心 (あんしん)", m:"An tâm"}, {w:"安全 (あんぜん)", m:"An toàn"}] },
            "遅": { hanviet: "TRÌ", mean: "Muộn", on: "チ", kun: "おく.れる", radicals: "Xước (⻌) + Tê (犀)", tipImg: "Con cừu đi muộn.", tipSoundOn: "**Chi**koku đến muộn.", tipSoundKun: "**Oku**reru chậm.", words: [{w:"遅刻 (ちこく)", m:"Đến muộn"}, {w:"遅い (おそい)", m:"Chậm"}] },
            "刻": { hanviet: "KHẮC", mean: "Khắc/Thái", on: "コク", kun: "きざ.む", radicals: "Đao (刂) + Hợi (亥)", tipImg: "Dùng dao khắc con heo.", tipSoundOn: "Chi**koku** đến muộn.", tipSoundKun: "**Kiza**mu khắc.", words: [{w:"遅刻 (ちこく)", m:"Đến muộn"}, {w:"時刻 (じこく)", m:"Thời khắc"}] },
            "早": { hanviet: "TẢO", mean: "Sớm", on: "ソウ", kun: "はや.い", radicals: "Nhật (日) + Thập (十)", tipImg: "Mặt trời trên mười là sớm.", tipSoundOn: "**Sou**tai về sớm.", tipSoundKun: "**Haya**i sớm.", words: [{w:"早退 (そうたい)", m:"Về sớm"}, {w:"早起き (はやおき)", m:"Dậy sớm"}] },
            "退": { hanviet: "THOÁI", mean: "Lùi/Rời", on: "タイ", kun: "しりぞ.く", radicals: "Xước (⻌) + Cấn (艮)", tipImg: "Đi lùi lại tốt.", tipSoundOn: "Sou**tai** về sớm.", tipSoundKun: "**Shirizo**ku lui.", words: [{w:"早退 (そうたい)", m:"Về sớm"}, {w:"退院 (たいいん)", m:"Xuất viện"}] },
            "離": { hanviet: "LY", mean: "Rời khỏi", on: "リ", kun: "はな.れる", radicals: "Chuy (隹)", tipImg: "Chim (隹) rời xa.", tipSoundOn: "**Ri**kon ly hôn.", tipSoundKun: "**Hana**reru rời xa.", words: [{w:"離婚 (りこん)", m:"Ly hôn"}, {w:"距離 (きょり)", m:"Khoảng cách"}] },
            "婚": { hanviet: "HÔN", mean: "Kết hôn", on: "コン", kun: "", radicals: "Nữ (女) + Hôn (昏)", tipImg: "Phụ nữ cưới vào hoàng hôn.", tipSoundOn: "Ri**kon** ly hôn.", tipSoundKun: "", words: [{w:"離婚 (りこん)", m:"Ly hôn"}, {w:"結婚 (けっこん)", m:"Kết hôn"}] },
            "複": { hanviet: "PHỨC", mean: "Phức tạp", on: "フク", kun: "", radicals: "Y (衣) + Phục (复)", tipImg: "Áo (衣) lặp lại (复) phức tạp.", tipSoundOn: "**Fuku**zatsu phức tạp.", tipSoundKun: "", words: [{w:"複雑 (ふくざつ)", m:"Phức tạp"}] },
            "雑": { hanviet: "TẠP", mean: "Tạp nham", on: "ザツ", kun: "", radicals: "Chuy (隹) + Mộc (木)", tipImg: "Chín con chim trên cây ồn ào.", tipSoundOn: "Fuku**zatsu** phức tạp.", tipSoundKun: "", words: [{w:"複雑 (ふくざつ)", m:"Phức tạp"}, {w:"雑誌 (ざっし)", m:"Tạp chí"}] },
            "邪": { hanviet: "TÀ", mean: "Tà ác", on: "ジャ", kun: "", radicals: "Nha (牙) + Phụ (阝)", tipImg: "Răng cắn tai là tà.", tipSoundOn: "**Ja**ma phiền.", tipSoundKun: "", words: [{w:"邪魔 (じゃま)", m:"Phiền hà"}, {w:"風邪 (かぜ)", m:"Cảm cúm"}] },
            "魔": { hanviet: "MA", mean: "Ma quỷ", on: "マ", kun: "", radicals: "Quỷ (鬼) + Ma (麻)", tipImg: "Con quỷ trong cây gai.", tipSoundOn: "Ja**ma** phiền.", tipSoundKun: "", words: [{w:"邪魔 (じゃま)", m:"Phiền hà"}, {w:"魔法 (まほう)", m:"Ma thuật"}] },
            "汚": { hanviet: "Ô", mean: "Bẩn", on: "オ", kun: "きたな.い", radicals: "Thủy (氵)", tipImg: "Nước bẩn.", tipSoundOn: "**O**sen ô nhiễm.", tipSoundKun: "**Kitana**i bẩn.", words: [{w:"汚い (きたない)", m:"Bẩn"}, {w:"汚水 (おすい)", m:"Nước bẩn"}] },
            "悲": { hanviet: "BI", mean: "Buồn", on: "ヒ", kun: "かな.しい", radicals: "Tâm (心) + Phi (非)", tipImg: "Tâm (心) không (非) vui là buồn.", tipSoundOn: "**Hi**kan bi quan.", tipSoundKun: "**Kana**shii buồn.", words: [{w:"悲しい (かなしい)", m:"Buồn"}] },
            "恥": { hanviet: "SỈ", mean: "Xấu hổ", on: "チ", kun: "はず.かしい", radicals: "Tâm (心) + Nhĩ (耳)", tipImg: "Tai (耳) đỏ vì tâm (心) xấu hổ.", tipSoundOn: "Shuuchi**shin** liêm sỉ.", tipSoundKun: "**Hazu**kashii xấu hổ.", words: [{w:"恥ずかしい (はずかしい)", m:"Xấu hổ"}] },
            "地": { hanviet: "ĐỊA", mean: "Đất", on: "チ, ジ", kun: "", radicals: "Thổ (土)", tipImg: "Đất có bọ cạp.", tipSoundOn: "**Ji**shin động đất.", tipSoundKun: "", words: [{w:"地震 (じしん)", m:"Động đất"}, {w:"地下 (ちか)", m:"Dưới đất"}] },
            "震": { hanviet: "CHẤN", mean: "Rung", on: "シン", kun: "ふる.える", radicals: "Vũ (雨) + Thần (辰)", tipImg: "Mưa (雨) làm thần (辰) run sợ.", tipSoundOn: "Ji**shin** động đất.", tipSoundKun: "**Furu**eru run.", words: [{w:"地震 (じしん)", m:"Động đất"}] },
            "台": { hanviet: "ĐÀI", mean: "Cái/Bệ", on: "タイ", kun: "", radicals: "Khẩu (口) + Tư (厶)", tipImg: "Cái miệng nói chuyện riêng trên đài.", tipSoundOn: "**Tai**fuu bão.", tipSoundKun: "", words: [{w:"台風 (たいふう)", m:"Bão"}, {w:"台所 (だいどころ)", m:"Nhà bếp"}] },
            "風": { hanviet: "PHONG", mean: "Gió", on: "フウ", kun: "かぜ", radicals: "Phong (風)", tipImg: "Con sâu trong gió.", tipSoundOn: "Tai**fuu** bão.", tipSoundKun: "**Kaze** gió.", words: [{w:"台風 (たいふう)", m:"Bão"}, {w:"風邪 (かぜ)", m:"Cảm cúm"}] },
            "火": { hanviet: "HỎA", mean: "Lửa", on: "カ", kun: "ひ", radicals: "Hỏa (火)", tipImg: "Lửa cháy.", tipSoundOn: "**Ka**ji hỏa hoạn.", tipSoundKun: "**Hi** lửa.", words: [{w:"火事 (かじ)", m:"Hỏa hoạn"}, {w:"火曜日 (かようび)", m:"Thứ ba"}] },
            "事": { hanviet: "SỰ", mean: "Việc", on: "ジ", kun: "こと", radicals: "Quyết (亅)", tipImg: "Miệng nói chuyện sử sách.", tipSoundOn: "Ka**ji** hỏa hoạn.", tipSoundKun: "**Koto** việc.", words: [{w:"火事 (かじ)", m:"Hỏa hoạn"}, {w:"事故 (じこ)", m:"Tai nạn"}] },
            "故": { hanviet: "CỐ", mean: "Cũ/Sự cố", on: "コ", kun: "", radicals: "Phộc (攵) + Cổ (古)", tipImg: "Đánh cái cũ gây sự cố.", tipSoundOn: "Ji**ko** tai nạn.", tipSoundKun: "", words: [{w:"事故 (じこ)", m:"Tai nạn"}, {w:"故障 (こしょう)", m:"Hỏng hóc"}] },
            "見": { hanviet: "KIẾN", mean: "Nhìn", on: "ケン", kun: "み.る", radicals: "Mục (目)", tipImg: "Mắt trên chân đi kiến tập.", tipSoundOn: "**Ken**gaku kiến tập.", tipSoundKun: "**Mi**ru nhìn.", words: [{w:"お見合い (おみあい)", m:"Xem mắt"}, {w:"見ます (みます)", m:"Nhìn"}] },
            "合": { hanviet: "HỢP", mean: "Hợp/Gặp", on: "ゴウ", kun: "あ.う", radicals: "Nhân (人) + Nhất (一)", tipImg: "Một người miệng hợp lại.", tipSoundOn: "**Gou**kaku thi đỗ.", tipSoundKun: "Omi**ai** xem mắt.", words: [{w:"お見合い (おみあい)", m:"Xem mắt"}, {w:"間に合う (まにあう)", m:"Kịp giờ"}] },
            "電": { hanviet: "ĐIỆN", mean: "Điện", on: "デン", kun: "", radicals: "Vũ (雨)", tipImg: "Mưa có sét là điện.", tipSoundOn: "**Den**wadai tiền điện thoại.", tipSoundKun: "", words: [{w:"電話代 (でんわだい)", m:"Tiền điện thoại"}, {w:"電気 (でんき)", m:"Điện"}] },
            "代": { hanviet: "ĐẠI", mean: "Thay thế/Phí", on: "ダイ", kun: "か.わる", radicals: "Nhân (亻) + Dực (弋)", tipImg: "Người thay thế bắn cung.", tipSoundOn: "Denwa**dai** tiền điện thoại.", tipSoundKun: "**Ka**wari thay thế.", words: [{w:"電話代 (でんわだい)", m:"Tiền điện thoại"}, {w:"時代 (じだい)", m:"Thời đại"}] },
            "号": { hanviet: "HIỆU", mean: "Số hiệu", on: "ゴウ", kun: "", radicals: "Khẩu (口)", tipImg: "Miệng kêu gào số 5.", tipSoundOn: "**Gou**shitsu phòng số.", tipSoundKun: "", words: [{w:"〜号室 (ごうしつ)", m:"Phòng số ~"}, {w:"信号 (しんごう)", m:"Đèn giao thông"}] },
            "汗": { hanviet: "HÃN", mean: "Mồ hôi", on: "カン", kun: "あせ", radicals: "Thủy (氵) + Can (干)", tipImg: "Nước (氵) làm khô (干) là mồ hôi.", tipSoundOn: "Hak**kan** phát hãn.", tipSoundKun: "**Ase** mồ hôi.", words: [{w:"汗 (あせ)", m:"Mồ hôi"}] },
            "石": { hanviet: "THẠCH", mean: "Đá", on: "セキ", kun: "いし", radicals: "Thạch (石)", tipImg: "Hòn đá.", tipSoundOn: "**Sek**ken xà phòng.", tipSoundKun: "**Ishi** đá.", words: [{w:"石鹸 (せっけん)", m:"Xà phòng"}, {w:"石 (いし)", m:"Đá"}] },
            "鹸": { hanviet: "KIỀM", mean: "Xà phòng", on: "ケン", kun: "", radicals: "Lỗ (鹵)", tipImg: "Đất mặn làm xà phòng.", tipSoundOn: "Sek**ken** xà phòng.", tipSoundKun: "", words: [{w:"石鹸 (せっけん)", m:"Xà phòng"}] },
            "勢": { hanviet: "THẾ", mean: "Thế lực", on: "セイ", kun: "いきお.い", radicals: "Lực (力)", tipImg: "Trồng cây trên đất bằng sức lực.", tipSoundOn: "Oo**zei** nhiều người.", tipSoundKun: "**Ikio**i khí thế.", words: [{w:"大勢 (おおぜい)", m:"Nhiều người"}] },
            "疲": { hanviet: "BÌ", mean: "Mệt", on: "ヒ", kun: "つか.れる", radicals: "Nạch (疒) + Bì (皮)", tipImg: "Bệnh da mệt mỏi.", tipSoundOn: "**Hi**rou mệt mỏi.", tipSoundKun: "**Tsuka**re mệt.", words: [{w:"お疲れ様 (おつかれさま)", m:"Vất vả rồi"}] },
            "様": { hanviet: "DẠNG", mean: "Ngài/Hình dáng", on: "ヨウ", kun: "さま", radicals: "Mộc (木) + Dương (羊)", tipImg: "Con dê (羊) ăn cây (木) ra dáng.", tipSoundOn: "**You**su tình trạng.", tipSoundKun: "Otsukare**sama** ngài.", words: [{w:"お疲れ様 (おつかれさま)", m:"Vất vả rồi"}, {w:"神様 (かみさま)", m:"Thần"}] },
            "伺": { hanviet: "TỨ", mean: "Thăm hỏi", on: "シ", kun: "うかが.う", radicals: "Nhân (亻) + Tư (司)", tipImg: "Người (亻) quản lý (司) đi thăm.", tipSoundOn: "**Shi**kou tứ hậu.", tipSoundKun: "**Ukaga**u thăm.", words: [{w:"伺います (うかがいます)", m:"Đến thăm"}] },
            "途": { hanviet: "ĐỒ", mean: "Đường", on: "ト", kun: "", radicals: "Xước (⻌) + Dư (余)", tipImg: "Người dư (余) dả đi (⻌) đường.", tipSoundOn: "**To**chuu giữa đường.", tipSoundKun: "", words: [{w:"途中 (とちゅう)", m:"Giữa đường"}] },
            "洋": { hanviet: "DƯƠNG", mean: "Đại dương/Tây", on: "ヨウ", kun: "", radicals: "Thủy (氵) + Dương (羊)", tipImg: "Con dê (羊) uống nước (氵) đại dương.", tipSoundOn: "**You**fuku âu phục.", tipSoundKun: "", words: [{w:"洋服 (ようふく)", m:"Âu phục"}, {w:"西洋 (せいよう)", m:"Phương Tây"}] },
            "服": { hanviet: "PHỤC", mean: "Quần áo", on: "フク", kun: "", radicals: "Nguyệt (月)", tipImg: "Trăng phục vụ quần áo.", tipSoundOn: "You**fuku** quần áo.", tipSoundKun: "", words: [{w:"洋服 (ようふく)", m:"Âu phục"}, {w:"服 (ふく)", m:"Quần áo"}] },
            "西": { hanviet: "TÂY", mean: "Phía tây", on: "セイ, サイ", kun: "にし", radicals: "Á (覀)", tipImg: "Mặt trời lặn hướng tây.", tipSoundOn: "**Sei**you phương tây.", tipSoundKun: "**Nishi** tây.", words: [{w:"西洋 (せいよう)", m:"Phương Tây"}, {w:"西 (にし)", m:"Phía tây"}] },
            "成": { hanviet: "THÀNH", mean: "Trở thành", on: "セイ", kun: "な.る", radicals: "Qua (戈)", tipImg: "Dùng giáo mác thành công.", tipSoundOn: "**Sei**jinshiki lễ trưởng thành.", tipSoundKun: "**Na**ru trở thành.", words: [{w:"成人式 (せいじんしき)", m:"Lễ trưởng thành"}, {w:"成功 (せいこう)", m:"Thành công"}] },
            "式": { hanviet: "THỨC", mean: "Hình thức/Lễ", on: "シキ", kun: "", radicals: "Dực (弋) + Công (工)", tipImg: "Công (工) việc bắn cung (弋) theo nghi thức.", tipSoundOn: "Seijin**shiki** lễ.", tipSoundKun: "", words: [{w:"成人式 (せいじんしき)", m:"Lễ trưởng thành"}, {w:"結婚式 (けっこんしき)", m:"Lễ cưới"}] },
            "数": { hanviet: "SỐ", mean: "Đếm/Số", on: "スウ", kun: "かぞ.える", radicals: "Phộc (攵)", tipImg: "Đánh (攵) dấu đếm số gạo.", tipSoundOn: "**Suu**gaku toán học.", tipSoundKun: "**Kazo**eru đếm.", words: [{w:"数えます (かぞえます)", m:"Đếm"}, {w:"数字 (すうじ)", m:"Chữ số"}] },
            "測": { hanviet: "TRẮC", mean: "Đo lường", on: "ソク", kun: "はか.る", radicals: "Thủy (氵) + Tắc (則)", tipImg: "Dùng quy tắc (則) đo nước (氵).", tipSoundOn: "Soku**tei** đo đạc.", tipSoundKun: "**Haka**ru đo.", words: [{w:"測ります (はかります)", m:"Đo/Cân"}] },
            "確": { hanviet: "XÁC", mean: "Chính xác", on: "カク", kun: "たし.か", radicals: "Thạch (石)", tipImg: "Hòn đá (石) cứng xác thực.", tipSoundOn: "**Kaku**nin xác nhận.", tipSoundKun: "**Tashi**kamesu xác nhận.", words: [{w:"確かめます (たしかめます)", m:"Xác nhận"}, {w:"正確 (せいかく)", m:"Chính xác"}] },
            "似": { hanviet: "TỰ", mean: "Giống", on: "ジ", kun: "に.る", radicals: "Nhân (亻)", tipImg: "Người dùng làm mẫu giống.", tipSoundOn: "Rui**ji** tương tự.", tipSoundKun: "**Ni**au hợp.", words: [{w:"似合います (にあいます)", m:"Hợp"}, {w:"似る (にる)", m:"Giống"}] },
            "酔": { hanviet: "TÚY", mean: "Say", on: "スイ", kun: "よ.う", radicals: "Dậu (酉)", tipImg: "Uống rượu (酉) tốt nghiệp (卒) là say.", tipSoundOn: "Ma**sui** gây mê.", tipSoundKun: "**Yo**u say.", words: [{w:"酔います (よいます)", m:"Say"}, {w:"二日酔い (ふつかよい)", m:"Say nguội"}] },
            "危": { hanviet: "NGUY", mean: "Nguy hiểm", on: "キ", kun: "あぶ.ない", radicals: "Tiết (卩)", tipImg: "Quỳ bên vách núi nguy hiểm.", tipSoundOn: "**Ki**ken nguy hiểm.", tipSoundKun: "**Abu**nai nguy.", words: [{w:"危険 (きけん)", m:"Nguy hiểm"}, {w:"危ない (あぶない)", m:"Nguy hiểm"}] },
            "険": { hanviet: "HIỂM", mean: "Hiểm trở", on: "ケン", kun: "けわ.しい", radicals: "Phụ (阝)", tipImg: "Gò đất (阝) hội (佥) tụ hiểm trở.", tipSoundOn: "Ki**ken** nguy hiểm.", tipSoundKun: "**Kewa**shii dốc.", words: [{w:"危険 (きけん)", m:"Nguy hiểm"}, {w:"保険 (ほけん)", m:"Bảo hiểm"}] },
            "要": { hanviet: "YẾU", mean: "Cần thiết", on: "ヨウ", kun: "い.る", radicals: "Nữ (女)", tipImg: "Phụ nữ phương tây quan trọng.", tipSoundOn: "Hitsu**you** cần thiết.", tipSoundKun: "**I**ru cần.", words: [{w:"必要 (ひつよう)", m:"Cần thiết"}, {w:"重要 (じゅうよう)", m:"Quan trọng"}] },
            "議": { hanviet: "NGHỊ", mean: "Thảo luận", on: "ギ", kun: "", radicals: "Ngôn (言) + Nghĩa (義)", tipImg: "Lời nói (言) nghĩa (義) khí trong hội nghị.", tipSoundOn: "Kai**gi** hội nghị.", tipSoundKun: "", words: [{w:"会議 (かいぎ)", m:"Hội nghị"}, {w:"議員 (ぎいん)", m:"Nghị viên"}] },
            "次": { hanviet: "THỨ", mean: "Tiếp theo", on: "ジ", kun: "つぎ", radicals: "Khiếm (欠) + Nhị (二)", tipImg: "Hai (二) người thiếu (欠) thứ tự.", tipSoundOn: "Ni**ji**kai tăng hai.", tipSoundKun: "**Tsugi** tiếp theo.", words: [{w:"二次会 (にじかい)", m:"Tăng hai"}, {w:"次 (つぎ)", m:"Tiếp theo"}] },
            "表": { hanviet: "BIỂU", mean: "Mặt trước/Bảng", on: "ヒョウ", kun: "おもて", radicals: "Y (衣)", tipImg: "Y phục biểu hiện ra ngoài.", tipSoundOn: "Happyou phát biểu.", tipSoundKun: "**Omote** mặt trước.", words: [{w:"表 (おもて)", m:"Mặt trước"}, {w:"発表 (はっぴょう)", m:"Phát biểu"}] },
            "裏": { hanviet: "LÝ", mean: "Mặt sau", on: "リ", kun: "うら", radicals: "Y (衣) + Lý (里)", tipImg: "Trong áo (衣) là làng (里) quê (mặt sau).", tipSoundOn: "**Ri**men mặt trái.", tipSoundKun: "**Ura** mặt sau.", words: [{w:"裏 (うら)", m:"Mặt sau"}, {w:"裏口 (うらぐち)", m:"Cửa sau"}] },
            "返": { hanviet: "PHẢN", mean: "Trả lại", on: "ヘン", kun: "かえ.す", radicals: "Xước (⻌) + Phản (反)", tipImg: "Phản đối rồi bỏ đi.", tipSoundOn: "**Hen**ji hồi âm.", tipSoundKun: "**Kae**su trả lại.", words: [{w:"返事 (へんじ)", m:"Hồi âm"}, {w:"返します (かえします)", m:"Trả lại"}] },
            "米": { hanviet: "MỄ", mean: "Gạo", on: "ベイ", kun: "こめ", radicals: "Mễ (米)", tipImg: "Hình bông lúa.", tipSoundOn: "**Bei**koku nước Mỹ.", tipSoundKun: "**Kome** gạo.", words: [{w:"米 (こめ)", m:"Gạo"}, {w:"米国 (べいこく)", m:"Nước Mỹ"}] },
            "麦": { hanviet: "MẠCH", mean: "Lúa mạch", on: "バク", kun: "むぎ", radicals: "Mạch (麦)", tipImg: "Cây lúa mạch.", tipSoundOn: "**Baku**ga mạch nha.", tipSoundKun: "**Mugi** lúa mạch.", words: [{w:"麦 (むぎ)", m:"Lúa mạch"}, {w:"麦茶 (むぎちゃ)", m:"Trà lúa mạch"}] },
            "油": { hanviet: "DU", mean: "Dầu", on: "ユ", kun: "あぶら", radicals: "Thủy (氵) + Do (由)", tipImg: "Nước từ do dầu.", tipSoundOn: "Seki**yu** dầu mỏ.", tipSoundKun: "**Abura** dầu.", words: [{w:"石油 (せきゆ)", m:"Dầu mỏ"}, {w:"油 (あぶら)", m:"Dầu"}] },
            "原": { hanviet: "NGUYÊN", mean: "Cánh đồng/Gốc", on: "ゲン", kun: "はら", radicals: "Hán (厂) + Tuyền (泉)", tipImg: "Suối (泉) chảy từ vách núi (厂) là nguồn.", tipSoundOn: "**Gen**ryou nguyên liệu.", tipSoundKun: "**Hara** cánh đồng.", words: [{w:"原料 (げんりょう)", m:"Nguyên liệu"}, {w:"野原 (のはら)", m:"Cánh đồng"}] }
        };

        // --- 4. APP LOGIC (Standard Day 1 Logic) ---
        let currentIndex = 0; 
        let currentQuizItem = null; 
        let score = 0; 
        let currentStrokeSvg = null;

        function init() {
            renderList();
            renderGrammarMenu();
            loadWord(0);
            
            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                searchInput.addEventListener('input', e => { 
                    const t = e.target.value.toLowerCase(); 
                    document.querySelectorAll('.vocab-item').forEach(el => el.style.display = el.innerText.toLowerCase().includes(t) ? 'block' : 'none'); 
                });
            }

            const mobileSearchInput = document.getElementById('mobileSearchInput');
            if (mobileSearchInput) {
                mobileSearchInput.addEventListener('input', e => { 
                    const t = e.target.value.toLowerCase(); 
                    document.querySelectorAll('.vocab-item').forEach(el => el.style.display = el.innerText.toLowerCase().includes(t) ? 'block' : 'none'); 
                });
            }

            const quizInput = document.getElementById('quiz-input');
            if (quizInput) {
                quizInput.addEventListener('keypress', e => { if(e.key === 'Enter') checkAnswer(); });
            }
        }

        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(`tab-${tab}`).classList.add('active');
            document.getElementById('learn-section').classList.toggle('hidden', tab !== 'learn');
            document.getElementById('quiz-section').classList.toggle('hidden', tab !== 'quiz');
            if(tab === 'quiz') nextQuestion();
        }

        function renderList() {
            const listD = document.getElementById('vocabList'); 
            const listM = document.getElementById('mobileVocabList');
            const html = vocabData.map((item, i) => `
                <div class="vocab-item p-3 border-b hover:bg-gray-50 cursor-pointer rounded-lg mx-1 my-1" data-index="${i}" onclick="loadWord(${i}); if(window.innerWidth < 768) toggleDrawer();">
                    <div class="flex justify-between font-bold items-center">
                        <span class="text-gray-800 ja-text">${item.Kanji || item.Furigana}</span>
                        <span class="text-gray-300 text-xs font-mono">#${item.STT}</span>
                    </div>
                    <div class="text-xs text-gray-500 mt-1 truncate">${item.Nghĩa}</div>
                </div>`).join('');
            if (listD) listD.innerHTML = html;
            if (listM) listM.innerHTML = html;
        }

        function loadWord(idx) {
            currentIndex = idx; 
            const word = vocabData[idx];
            document.querySelectorAll('.vocab-item').forEach(el => el.classList.remove('active'));
            document.querySelectorAll(`.vocab-item[data-index="${idx}"]`).forEach(el => el.classList.add('active'));
            
            const activeItem = document.querySelector(`.vocab-item[data-index="${idx}"]`);
            if (activeItem) activeItem.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

            document.getElementById('headerProgress').innerText = `${idx+1}/${vocabData.length}`;
            document.getElementById('wordIndex').innerText = `#${word.STT}`;
            document.getElementById('cardKanji').innerText = word.Kanji || word.Furigana;
            document.getElementById('cardFurigana').innerText = word.Furigana;
            document.getElementById('cardMeaning').innerText = word.Nghĩa;
            document.getElementById('wordType').innerText = word.type.toUpperCase();
            
            const hasKanji = word.Kanji && word.Kanji !== word.Furigana;
            document.getElementById('strokeBtn').classList.toggle('hidden', !hasKanji);
            
            renderShadowing(word);
        }

        function renderShadowing(word) {
            const cont = document.getElementById('sentenceList'); 
            cont.innerHTML = '';
            
            if(!word.conv) { 
                document.getElementById('emptyState').classList.remove('hidden'); 
                return; 
            }
            document.getElementById('emptyState').classList.add('hidden');
            
            const types = [
                { k:'polite', l:'Lịch sự', m:word.conv.pVi, i:'user-tie', c:'indigo' }, 
                { k:'casual', l:'Thân mật', m:word.conv.cVi, i:'comments', c:'pink' }
            ];
            
            types.forEach(t => {
                const grammarBtn = word.conv.gIds && word.conv.gIds.length > 0 
                    ? `<button onclick="openExplan('${word.conv.gIds.join(',')}')" class="text-xs text-indigo-500 hover:text-indigo-700 font-bold px-2 py-1 rounded hover:bg-indigo-50 transition"><i class="fas fa-info-circle"></i> Ngữ pháp</button>`
                    : '';

                cont.innerHTML += `
                    <div class="shadow-card bg-white rounded-2xl p-4 border border-gray-100">
                        <div class="flex justify-between border-b border-gray-100 pb-2 mb-3">
                            <div class="flex gap-2 items-center">
                                <div class="bg-${t.c}-50 p-1.5 rounded text-${t.c}-600"><i class="fas fa-${t.i}"></i></div>
                                <span class="text-xs font-bold text-gray-400 uppercase tracking-wide">${t.l}</span>
                            </div>
                            ${grammarBtn}
                        </div>
                        <div class="flex justify-between items-start gap-3">
                            <div>
                                <div class="text-lg md:text-xl ja-text font-medium text-gray-800 mb-1 cursor-pointer hover:text-indigo-600 transition-colors" onclick="speakText('${word.conv[t.k]}')">${word.conv[t.k]}</div>
                                <div class="text-sm text-gray-500 italic">${t.m}</div>
                            </div>
                            <button onclick="speakText('${word.conv[t.k]}')" class="audio-btn text-${t.c}-400 hover:text-${t.c}-600 p-2 rounded-full hover:bg-${t.c}-50 transition-colors flex-shrink-0">
                                <i class="fas fa-volume-up text-xl"></i>
                            </button>
                        </div>
                    </div>`;
            });
        }

        function openExplan(idsStr) {
            const ids = idsStr.split(','); 
            const f = document.getElementById('dgFormula'); 
            const e = document.getElementById('dgExplanation');
            
            f.innerText = ids.map(id => grammarRepo[id] ? grammarRepo[id].formula : "N/A").join("  /  ");
            e.innerHTML = ids.map(id => {
                if (!grammarRepo[id]) return `<div class="text-red-500">Missing grammar: ${id}</div>`;
                return `
                <div class="pb-2 border-b border-gray-100 last:border-0">
                    <strong class="text-indigo-700 block mb-1">${grammarRepo[id].title} <span class="text-xs font-normal text-gray-400">(${grammarRepo[id].desc.split(':')[0]})</span></strong>
                    <p>${grammarRepo[id].desc.split(':').slice(1).join(':') || grammarRepo[id].desc}</p>
                    <p class="text-xs text-gray-400 mt-1 italic">Vd: ${grammarRepo[id].ex}</p>
                </div>`;
            }).join("");
            
            showModal('detailGrammarModal');
        }

        function renderGrammarMenu() {
            const grid = document.getElementById('grammarGrid'); 
            grid.innerHTML = '';
            Object.keys(grammarRepo).forEach(key => {
                const r = grammarRepo[key];
                grid.innerHTML += `
                    <div class="bg-white p-4 rounded-xl border border-gray-100 flex flex-col justify-between hover:shadow-md transition cursor-pointer" onclick="speakText('${r.ex}')">
                        <div>
                            <div class="font-bold text-sm text-indigo-600 mb-1 flex items-center gap-2"><i class="fas fa-tag text-xs"></i> ${r.title}</div>
                            <code class="text-xs block bg-gray-50 p-1.5 rounded mb-2 border border-gray-200 font-mono text-gray-700">${r.formula}</code>
                            <p class="text-xs text-gray-500 mb-2 line-clamp-2">${r.desc}</p>
                        </div>
                        <div class="bg-indigo-50 p-2 rounded flex justify-between items-center gap-2 mt-2">
                            <span class="text-[11px] font-medium text-indigo-800 ja-text truncate">${r.ex}</span>
                            <i class="fas fa-volume-up text-indigo-400 text-xs"></i>
                        </div>
                    </div>`;
            });
        }

        function showModal(id) { 
            const modal = document.getElementById(id);
            modal.classList.remove('hidden'); 
            setTimeout(() => { 
                document.getElementById(id.replace('Modal','Backdrop')).classList.remove('opacity-0'); 
                document.getElementById(id.replace('Modal','Panel')).classList.remove('opacity-0', 'scale-95'); 
            }, 10); 
        }
        function closeModal(id) { 
            const b = document.getElementById(id.replace('Modal','Backdrop')); 
            const p = document.getElementById(id.replace('Modal','Panel'));
            if(b) b.classList.add('opacity-0'); 
            if(p) p.classList.add('opacity-0', 'scale-95');
            setTimeout(() => document.getElementById(id).classList.add('hidden'), 200); 
        }
        function openGrammarList() { showModal('grammarListModal'); }

        async function openStrokeModal(char) {
            const word = vocabData[currentIndex]; 
            const kanjis = word.Kanji.match(/[\u4e00-\u9faf]/g) || [];
            if(kanjis.length === 0) return;
            const target = char || kanjis[0];
            const tabs = document.getElementById('strokeTabs'); 
            tabs.innerHTML = '';
            if(kanjis.length > 1) {
                kanjis.forEach(k => {
                    const b = document.createElement('button'); 
                    b.innerText = k;
                    b.className = `w-12 h-12 text-xl rounded-xl font-bold border transition ja-text ${k===target ? 'bg-pink-600 text-white border-pink-600 shadow-lg' : 'bg-white text-gray-600 border-gray-200 hover:bg-gray-50'}`;
                    b.onclick = () => showKanjiStroke(k); 
                    tabs.appendChild(b);
                });
            }
            showModal('strokeModal'); 
            await showKanjiStroke(target);
        }

        async function showKanjiStroke(k) {
            const d = kanjiDetails[k]; 
            const c = document.getElementById('kanjiDetailContent'); 
            const e = document.getElementById('kanjiDetailEmpty');
            if(d) {
                c.classList.remove('hidden'); e.classList.add('hidden');
                document.getElementById('detailKanji').innerText = k; 
                document.getElementById('detailHanViet').innerText = d.hanviet || '?';
                document.getElementById('detailMeaning').innerText = d.mean || ''; 
                document.getElementById('detailOn').innerText = d.on || '-'; 
                document.getElementById('detailKun').innerText = d.kun || '-';
                document.getElementById('detailRadicals').innerText = d.radicals || '...';
                
                const fmt = s => s.replace(/\*\*(.*?)\*\*/g, '<span class="font-bold text-gray-900">$1</span>');
                document.getElementById('detailTipImg').innerHTML = fmt(d.tipImg || ''); 
                
                let soundContent = d.tipSound || '';
                if (!soundContent && (d.tipSoundOn || d.tipSoundKun)) {
                    soundContent = [d.tipSoundOn, d.tipSoundKun].filter(Boolean).join(' / ');
                }
                document.getElementById('detailTipSound').innerHTML = fmt(soundContent);
                
                document.getElementById('btnPlayOn').onclick = () => speakText(d.on);
                document.getElementById('btnPlayKun').onclick = () => speakText(d.kun);

                const wc = document.getElementById('detailWords'); 
                wc.innerHTML = '';
                if(d.words) {
                    d.words.forEach(w => wc.innerHTML += `<div class="flex justify-between items-center bg-gray-50 p-2 rounded hover:bg-gray-100 cursor-pointer border border-transparent hover:border-gray-200 transition" onclick="speakText('${w.w}')"><span class="text-lg font-bold text-indigo-700 ja-text">${w.w}</span><span class="text-xs text-gray-500 font-medium">${w.m}</span></div>`);
                }
            } else { 
                c.classList.add('hidden'); e.classList.remove('hidden'); 
            }
            const anim = document.getElementById('strokeAnimContainer'); 
            const grid = document.getElementById('strokeGridContainer');
            anim.innerHTML = '<i class="fas fa-spinner fa-spin text-gray-300 text-2xl"></i>'; 
            grid.innerHTML = '';
            try {
                const r = await fetch(`https://cdn.jsdelivr.net/gh/KanjiVG/kanjivg/kanji/${getKanjiHex(k)}.svg`);
                if(!r.ok) throw new Error();
                const svgText = await r.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(svgText, "image/svg+xml");
                doc.querySelectorAll('path').forEach(p => p.setAttribute('style', 'opacity:0; stroke:#333; stroke-width:3; fill:none; stroke-linecap:round; stroke-linejoin:round;')); 
                anim.innerHTML = new XMLSerializer().serializeToString(doc.documentElement);
                const mainSvg = anim.querySelector('svg');
                mainSvg.setAttribute('width','100%'); mainSvg.setAttribute('height','100%');
                currentStrokeSvg = mainSvg;
                replayStrokeAnimation();
                const cleanDoc = parser.parseFromString(svgText, "image/svg+xml"); 
                cleanDoc.querySelectorAll('path').forEach((p, i) => {
                    const b = document.createElement('div'); 
                    b.className = "w-16 h-16 stroke-grid-box flex items-center justify-center rounded bg-white shadow-sm";
                    const clone = cleanDoc.documentElement.cloneNode(true);
                    clone.setAttribute('width','100%'); clone.setAttribute('height','100%');
                    clone.querySelectorAll('path').forEach((pp, idx) => {
                        pp.style.fill="none"; pp.style.strokeLinecap="round"; pp.style.strokeLinejoin="round";
                        if(idx<i) { pp.style.stroke="#e5e7eb"; pp.style.strokeWidth="3"; }
                        else if(idx===i) { pp.style.stroke="#db2777"; pp.style.strokeWidth="4"; } 
                        else pp.style.display="none";
                    });
                    b.appendChild(clone); grid.appendChild(b);
                });
            } catch(e) { anim.innerHTML = "<span class='text-xs text-red-400'>Lỗi tải nét viết</span>"; }
        }

        function replayStrokeAnimation() {
            if(!currentStrokeSvg) return;
            const paths = currentStrokeSvg.querySelectorAll('path');
            paths.forEach(p => { p.style.transition='none'; p.style.opacity='0'; });
            void currentStrokeSvg.offsetWidth;
            let delay = 0;
            paths.forEach(p => {
                const len = p.getTotalLength();
                p.style.strokeDasharray = len; p.style.strokeDashoffset = len; p.style.opacity = '1';
                setTimeout(() => { p.style.transition = `stroke-dashoffset 0.6s ease-in-out`; p.style.strokeDashoffset = '0'; }, delay * 1000);
                delay += 0.6;
            });
        }

        function getKanjiHex(k) { return k.charCodeAt(0).toString(16).padStart(5, '0'); }
        function speakText(t) { if ('speechSynthesis' in window) { const u = new SpeechSynthesisUtterance(t); u.lang = 'ja-JP'; u.rate = 0.9; speechSynthesis.speak(u); } }
        function speakCurrent() { speakText(vocabData[currentIndex].Furigana); }
        function toggleDrawer() { const d = document.getElementById('mobileDrawer'); const c = document.getElementById('drawerContent'); const b = document.getElementById('drawerBackdrop'); if(d.classList.contains('pointer-events-none')) { d.classList.remove('pointer-events-none'); c.classList.remove('-translate-x-full'); b.classList.remove('opacity-0'); } else { c.classList.add('-translate-x-full'); b.classList.add('opacity-0'); setTimeout(() => d.classList.add('pointer-events-none'), 300); } }

        function nextQuestion() {
            document.getElementById('feedback-area').classList.add('hidden'); document.getElementById('btn-check').classList.remove('hidden'); document.getElementById('btn-next').classList.add('hidden');
            document.getElementById('quiz-kanji').className = "text-6xl ja-text font-bold text-gray-800 mb-4 transition-all inline-block";
            const inp = document.getElementById('quiz-input'); inp.value = ''; inp.disabled = false; inp.focus();
            const valid = vocabData.filter(v => v.Furigana !== "...");
            currentQuizItem = valid[Math.floor(Math.random() * valid.length)];
            document.getElementById('quiz-kanji').innerText = currentQuizItem.Kanji || currentQuizItem.Furigana;
            document.getElementById('quiz-meaning').innerText = currentQuizItem.Nghĩa;
        }
        function checkAnswer() {
            const inp = document.getElementById('quiz-input'); if(!inp.value.trim()) return;
            inp.disabled = true; 
            const correct = inp.value.trim() === currentQuizItem.Furigana;
            const k = document.getElementById('quiz-kanji'); const fbTitle = document.getElementById('feedback-title'); const fbArea = document.getElementById('feedback-area');
            if(correct) { 
                score += 10; k.classList.add("text-green-600", "correct-anim"); 
                fbTitle.innerHTML = '<span class="text-green-600"><i class="fas fa-check-circle mr-2"></i> Chính xác!</span>';
                fbArea.className = fbArea.className.replace("bg-red-50 border-red-200", "") + " bg-green-50 border-green-200";
                speakText(currentQuizItem.Furigana); 
            } else { 
                score = Math.max(0, score - 5); k.classList.add("text-red-500", "wrong-anim"); 
                fbTitle.innerHTML = '<span class="text-red-600"><i class="fas fa-times-circle mr-2"></i> Sai rồi!</span>';
                fbArea.className = fbArea.className.replace("bg-green-50 border-green-200", "") + " bg-red-50 border-red-200";
            }
            document.getElementById('score-display').innerText = score; document.getElementById('correct-answer').innerText = currentQuizItem.Furigana;
            document.getElementById('feedback-area').classList.remove('hidden'); document.getElementById('btn-check').classList.add('hidden'); document.getElementById('btn-next').classList.remove('hidden');
        }
        function playQuizAudio() { if(currentQuizItem) speakText(currentQuizItem.Furigana); }
        function prevWord() { if(currentIndex > 0) loadWord(currentIndex - 1); }
        function nextWord() { if(currentIndex < vocabData.length - 1) loadWord(currentIndex + 1); }

        window.speakCurrent = speakCurrent;
        window.switchTab = switchTab;
        window.openGrammarList = openGrammarList;
        window.openStrokeModal = openStrokeModal;
        window.replayStrokeAnimation = replayStrokeAnimation;
        window.speakText = speakText;
        window.toggleDrawer = toggleDrawer;
        window.nextQuestion = nextQuestion;
        window.checkAnswer = checkAnswer;
        window.playQuizAudio = playQuizAudio;
        window.prevWord = prevWord;
        window.nextWord = nextWord;
        window.loadWord = loadWord;
        window.openExplan = openExplan;
        window.closeModal = closeModal;
        window.showModal = showModal;

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
