<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AzaKanji - Tính Từ Ngữ Cảnh N3 (Grammar Master)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Nunito', sans-serif; background-color: #f0fdf4; }
        .kanji-font { font-family: 'Noto Sans JP', sans-serif; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #86efac; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #4ade80; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .modal-enter { animation: modalIn 0.3s ease-out forwards; }
        @keyframes modalIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .correct-anim { animation: bounce 0.5s; }
        @keyframes bounce { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        .wrong-anim { animation: shake 0.5s; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-green-600 text-white shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 py-3">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center space-x-3 cursor-pointer" onclick="location.reload()">
                    <i class="fas fa-leaf text-3xl text-yellow-300"></i>
                    <div>
                        <h1 class="text-xl font-bold uppercase tracking-wider">AzaKanji Adjectives</h1>
                        <p class="text-xs text-green-100">41 Cặp Tính Từ & Ngữ Pháp N5-N3</p>
                    </div>
                </div>
                <div class="flex bg-green-800 rounded-lg p-1 overflow-x-auto">
                    <button onclick="switchTab('learn')" id="tab-learn" class="px-4 py-2 rounded-md text-sm font-bold transition bg-white text-green-800 shadow whitespace-nowrap">
                        <i class="fas fa-book-open mr-2"></i>Học Từ
                    </button>
                    <button onclick="switchTab('quiz')" id="tab-quiz" class="px-4 py-2 rounded-md text-sm font-bold transition text-green-200 hover:text-white whitespace-nowrap">
                        <i class="fas fa-keyboard mr-2"></i>Kiểm Tra
                    </button>
                    <button onclick="openGrammarModal()" class="px-4 py-2 rounded-md text-sm font-bold transition text-green-200 hover:text-white whitespace-nowrap border-l border-green-700 ml-1">
                        <i class="fas fa-book mr-2"></i>Ngữ Pháp
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8 flex-grow relative z-0" id="app-container">
        <!-- LEARN MODE -->
        <div id="learn-section" class="fade-in">
            <div id="content-area" class="space-y-8"></div>
        </div>

        <!-- QUIZ MODE -->
        <div id="quiz-section" class="hidden fade-in max-w-2xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200">
                <div class="bg-gradient-to-r from-green-600 to-teal-600 p-6 text-white flex justify-between items-center">
                    <div><h2 class="text-2xl font-bold">Thử Thách Tính Từ</h2><p class="text-green-100 text-sm">Nhìn Kanji - Gõ Hiragana</p></div>
                    <div class="text-right"><div class="text-xs text-green-200 uppercase font-bold">Điểm số</div><div class="text-4xl font-bold" id="score-display">0</div></div>
                </div>
                <div class="p-8 text-center">
                    <div class="mb-8">
                        <div class="text-sm text-gray-500 mb-2 uppercase tracking-wide font-bold">Từ này đọc là gì?</div>
                        <div id="quiz-kanji" class="text-6xl kanji-font font-bold text-gray-800 mb-4 transition-all"></div>
                        <div id="quiz-meaning" class="text-xl text-green-600 font-bold mb-2"></div>
                    </div>
                    <div class="relative max-w-md mx-auto mb-6">
                        <input type="text" id="quiz-input" class="w-full text-center text-2xl p-4 border-2 border-gray-300 rounded-xl focus:border-green-500 focus:outline-none transition kanji-font" placeholder="Nhập Hiragana (vd: あつい)" autocomplete="off">
                    </div>
                    <div id="feedback-area" class="hidden rounded-xl p-4 bg-gray-50 border border-gray-200 text-left mb-6">
                        <div id="feedback-title" class="font-bold text-lg mb-2 flex items-center"></div>
                        <div class="text-gray-700 mb-2">
                            Đáp án đúng: <span id="correct-answer" class="font-bold text-xl text-green-600 mx-2 kanji-font"></span>
                            <button onclick="playCurrentAudio()" class="text-gray-500 hover:text-green-600"><i class="fas fa-volume-up"></i></button>
                        </div>
                        <div class="bg-yellow-50 p-3 rounded-lg border border-yellow-200 text-sm text-gray-800">
                            <div class="font-bold text-yellow-800 mb-1"><i class="fas fa-lightbulb mr-1"></i> Mẹo ghi nhớ:</div>
                            <div id="quiz-tip-img" class="mb-1"></div>
                            <div id="quiz-tip-sound"></div>
                        </div>
                    </div>
                    <div>
                        <button id="btn-check" onclick="checkAnswer()" class="w-full md:w-auto bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition active:scale-95 text-lg">Kiểm Tra</button>
                        <button id="btn-next" onclick="nextQuestion()" class="hidden w-full md:w-auto bg-gray-800 hover:bg-gray-900 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition active:scale-95 text-lg">Câu Tiếp Theo <i class="fas fa-arrow-right ml-2"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-400 py-8 mt-auto">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2024 AzaKanji Project. Học ngữ pháp N5-N3 qua ví dụ thực tế.</p>
        </div>
    </footer>

    <!-- CONJUGATION MODAL -->
    <div id="conjugation-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeModal()"></div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen">&#8203;</span>
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full modal-enter">
                <div class="bg-green-600 px-4 py-4 sm:px-6 flex justify-between items-center text-white">
                    <div><h3 class="text-lg leading-6 font-bold" id="modal-title">Biến Đổi & Ngữ Cảnh</h3><p class="text-green-100 text-xs">Ví dụ đa dạng (N5, N4, N3)</p></div>
                    <button onclick="closeModal()" class="text-green-100 hover:text-white focus:outline-none"><i class="fas fa-times text-2xl"></i></button>
                </div>
                <div class="bg-gray-50 px-4 py-5 sm:p-6 max-h-[70vh] overflow-y-auto">
                    <div class="flex items-center mb-6 bg-white p-4 rounded-xl shadow-sm border border-green-200">
                        <div class="text-5xl kanji-font font-bold text-green-600 mr-4" id="modal-kanji"></div>
                        <div>
                            <div class="text-2xl font-bold text-gray-800" id="modal-hiragana"></div>
                            <div class="text-sm text-gray-500 font-bold uppercase tracking-wide" id="modal-group"></div>
                            <div class="text-lg text-gray-700" id="modal-meaning"></div>
                        </div>
                        <button id="modal-main-audio" class="ml-auto bg-green-50 text-green-600 p-3 rounded-full hover:bg-green-100 transition shadow-sm"><i class="fas fa-volume-up text-xl"></i></button>
                    </div>
                    <div class="space-y-4" id="conjugation-list"></div>
                </div>
                <div class="bg-gray-100 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button type="button" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm" onclick="closeModal()">Đóng</button>
                </div>
            </div>
        </div>
    </div>

    <!-- GRAMMAR RULES MODAL -->
    <div id="grammar-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeGrammarModal()"></div>
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full modal-enter relative">
                <button onclick="closeGrammarModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none z-10"><i class="fas fa-times text-2xl"></i></button>
                <div class="bg-white px-6 py-8 sm:p-8">
                    <h2 class="text-3xl font-extrabold text-green-700 mb-6 text-center border-b pb-4"><i class="fas fa-book-reader mr-2"></i>Quy Tắc Biến Đổi Tính Từ</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="bg-blue-50 rounded-xl p-6 border border-blue-200">
                            <h3 class="text-xl font-bold text-blue-700 mb-4 flex items-center"><span class="bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center mr-2 text-sm">い</span>I-Adj (Đuôi i)</h3>
                            <ul class="space-y-3 text-gray-700 text-sm">
                                <li class="flex justify-between border-b border-blue-100 pb-2"><span class="font-semibold">Phủ định:</span><span>Bỏ <span class="text-red-600">い</span> + くない</span></li>
                                <li class="flex justify-between border-b border-blue-100 pb-2"><span class="font-semibold">Quá khứ:</span><span>Bỏ <span class="text-red-600">い</span> + かった</span></li>
                                <li class="flex justify-between border-b border-blue-100 pb-2"><span class="font-semibold">Nối câu (Te):</span><span>Bỏ <span class="text-red-600">い</span> + くて</span></li>
                                <li class="flex justify-between border-b border-blue-100 pb-2"><span class="font-semibold">Phó từ:</span><span>Bỏ <span class="text-red-600">い</span> + く</span></li>
                                <li class="flex justify-between border-b border-blue-100 pb-2"><span class="font-semibold">Giả định (Ba):</span><span>Bỏ <span class="text-red-600">い</span> + ければ</span></li>
                            </ul>
                        </div>
                        <div class="bg-green-50 rounded-xl p-6 border border-green-200">
                            <h3 class="text-xl font-bold text-green-700 mb-4 flex items-center"><span class="bg-green-600 text-white rounded-full w-8 h-8 flex items-center justify-center mr-2 text-sm">な</span>Na-Adj (Đuôi Na)</h3>
                            <ul class="space-y-3 text-gray-700 text-sm">
                                <li class="flex justify-between border-b border-green-100 pb-2"><span class="font-semibold">Phủ định:</span><span>+ じゃない / ではない</span></li>
                                <li class="flex justify-between border-b border-green-100 pb-2"><span class="font-semibold">Quá khứ:</span><span>+ でした / だった</span></li>
                                <li class="flex justify-between border-b border-green-100 pb-2"><span class="font-semibold">Nối câu (Te):</span><span>+ で</span></li>
                                <li class="flex justify-between border-b border-green-100 pb-2"><span class="font-semibold">Phó từ:</span><span>+ に</span></li>
                                <li class="flex justify-between border-b border-green-100 pb-2"><span class="font-semibold">Giả định (Ba):</span><span>+ なら(ば)</span></li>
                            </ul>
                        </div>
                    </div>
                    <div class="mt-8 text-center"><button onclick="closeGrammarModal()" class="bg-gray-800 hover:bg-gray-900 text-white font-bold py-2 px-8 rounded-full shadow-lg transition">Đã Hiểu</button></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- MASTER DATA (ADJECTIVES) - CORRECTED MNEMONICS & RADICALS ---
        const adjectives = [
            { k: "大きい", h: "おおきい", m: "to, lớn", t: "i", ti: "Người dang tay ra (**大**) là **ĐẠI** (to).", ta: "**Ô! Kìa** (**Ookii**) to quá." },
            { k: "小さい", h: "ちいさい", m: "nhỏ, bé", t: "i", ti: "Cây (**亅**) bị chặt làm hai (**八**) là **TIỂU** (nhỏ).", ta: "**Chi** (**Chii**) tiền **sai** nên mua đồ nhỏ." },
            { k: "高い", h: "たかい", m: "cao, đắt", t: "i", ti: "Đứng trên cổng thành (**京**) nhìn **CAO**.", ta: "**Ta cãi** (**Takai**) vì giá đắt." },
            { k: "低い", h: "ひくい", m: "thấp", t: "i", ti: "Người (**亻**) cúi xuống gốc cây (**氐**) vì **ĐÊ** (thấp).", ta: "**Hi** hóp má **cúi** (**Hikui**) xuống thấp." },
            { k: "長い", h: "ながい", m: "dài", t: "i", ti: "Ông trưởng (**長**) lão tóc dài.", ta: "**Na** (**Naga**) đi đường **dài**." },
            { k: "短い", h: "みじかい", m: "ngắn", t: "i", ti: "Mũi tên (**矢**) bắn vào hạt đậu (**豆**) **ĐOẢN** mệnh.", ta: "**Mì** **gì** **cai** (**Mijikai**) thế, ngắn tũn." },
            { k: "太い", h: "ふとい", m: "béo, dày", t: "i", ti: "Đại (**大**) thêm 1 chấm là **THÁI** (quá to).", ta: "**Phù** (**Futoi**) mỏ vì béo." },
            { k: "細い", h: "ほそい", m: "gầy, mỏng", t: "i", ti: "Sợi tơ (**糸**) ở ruộng (**田**) rất **TẾ** (nhỏ).", ta: "**Hồ** **Sơ** (**Hosoi**) mỏng dính." },
            { k: "広い", h: "ひろい", m: "rộng", t: "i", ti: "Mái nhà (**广**) chứa đồ tư (**ム**) **QUẢNG** đại.", ta: "**Hi** **Rồ** (**Hiroi**) đi đường rộng." },
            { k: "狭い", h: "せまい", m: "hẹp", t: "i", ti: "Con Chó (**犭**) bị kẹp (**夹**) ở chỗ **HIỆP** (hẹp).", ta: "**Xe** **Mãi** (**Semai**) mới qua đường hẹp." },
            { k: "暑い", h: "あつい", m: "nóng (thời tiết)", t: "i", ti: "Mặt trời (**日**) chiếu vào kẻ (**者**) **THỬ** (nóng).", ta: "**A! Tui** (**Atsui**) nóng quá." },
            { k: "寒い", h: "さむい", m: "lạnh (thời tiết)", t: "i", ti: "Ở nhà (**宀**) trùm rơm rạ (**艹**) có người (**人**) đóng băng (**冫**) vì **HÀN** (lạnh).", ta: "**Sa** **Mù** (**Samui**) trời lạnh." },
            { k: "熱い", h: "あつい", m: "nóng (vật/cảm xúc)", t: "i", ti: "Trồng cây (**埶**) đốt lửa (**灬**) **NHIỆT** tình.", ta: "**A! Tui** (**Atsui**) bị bỏng (vật nóng)." },
            { k: "冷たい", h: "つめたい", m: "lạnh (vật/thái độ)", t: "i", ti: "Ra lệnh (**令**) đóng băng (**冫**) **LÃNH** khốc.", ta: "**Tự** **Mê** **Tại** (**Tsumetai**) kem lạnh." },
            { k: "暖かい", h: "あたたかい", m: "ấm (thời tiết)", t: "i", ti: "Ngày (**日**) có viện trợ (**爰**) **NOÃN** (ấm).", ta: "**A ta ta** (**Atata**) thấy ấm." },
            { k: "涼しい", h: "すずしい", m: "mát mẻ", t: "i", ti: "Nước (**氵**) chảy trên kinh đô (**京**) **LƯƠNG** mát.", ta: "**Su su** (**Suzu**) ăn mát." },
            { k: "良い", h: "いい", m: "tốt", t: "ii", ti: "Người con gái ăn ở **LƯƠNG** thiện.", ta: "**I** (**Ii**) như vậy là tốt." },
            { k: "悪い", h: "わるい", m: "xấu", t: "i", ti: "Tâm (**心**) nghĩ điều ác (**亜**) là **ÁC** (xấu).", ta: "**Wa! Rùi** (**Warui**) xong, xấu rồi." },
            { k: "新しい", h: "あたらしい", m: "mới", t: "i", ti: "Đứng (**立**) trên cây (**木**) dùng rìu (**斤**) làm cái **TÂN** (mới).", ta: "**A ta ra** (**Atara**) mua đồ mới." },
            { k: "古い", h: "ふるい", m: "cũ", t: "i", ti: "Mười (**十**) cái miệng (**口**) kể chuyện **CỔ** (cũ).", ta: "**Phù** **Rùi** (**Furui**) bụi đồ cũ." },
            { k: "強い", h: "つよい", m: "mạnh", t: "i", ti: "Cung (**弓**) bắn côn trùng (**虫**) **CƯỜNG** tráng.", ta: "**Tự** **Do** (**Tsuyo**) là mạnh mẽ." },
            { k: "弱い", h: "よわい", m: "yếu", t: "i", ti: "Cung (**弓**) gãy lông (**彡**) là **NHƯỢC** (yếu).", ta: "**Gió** **Wai** (**Yowai**) thổi bay người yếu." },
            { k: "難しい", h: "むずかしい", m: "khó", t: "i", ti: "Con Chim (**隹**) bị dính vào đất sét (**堇**) nên gặp **NAN** (khó).", ta: "**Mù** **Dư** **Cả** (**Muzuka**) đống bài khó." },
            { k: "易しい", h: "やさしい", m: "dễ", t: "i", ti: "Mặt trời (**日**) chiếu xuống rạng rỡ (**勿**) **DỊ** (dễ).", ta: "**Ya! Xa** (**Yasa**) thế mà dễ đi." },
            { k: "甘い", h: "あまい", m: "ngọt", t: "i", ti: "Ngậm (**廿**) một (**一**) miếng **CAM** (ngọt).", ta: "**A! Mai** (**Amai**) ăn đồ ngọt." },
            { k: "辛い", h: "からい", m: "cay", t: "i", ti: "Đứng (**立**) mười (**十**) lần chịu đựng **TÂN** (cay đắng).", ta: "**Cà** **Ra** (**Kara**) ăn cay." },
            { k: "好き", h: "すき", m: "thích", t: "na", ti: "Phụ nữ (**女**) có con (**子**) là điều **HẢO** (tốt/thích).", ta: "**Su** **Ki** (**Suki**) thích ăn su kem." },
            { k: "嫌い", h: "きらい", m: "ghét", t: "na", ti: "Phụ nữ (**女**) kiêm (**兼**) nhiệm nhiều quá nên **HIỀM** (ghét).", ta: "**Kì** **Lạ** (**Kirai**) ai cũng ghét." },
            { k: "上手", h: "じょうず", m: "giỏi", t: "na", ti: "Tay (**手**) ở trên (**上**) là **THƯỢNG THỦ** (giỏi).", ta: "**Dô** **Dự** (**Jouzu**) thi vì giỏi." },
            { k: "下手", h: "へた", m: "kém", t: "na", ti: "Tay (**手**) ở dưới (**下**) là **HẠ THỦ** (kém).", ta: "**Hét** **Ta** (**Heta**) vì làm kém." },
            { k: "きれい", h: "きれい", m: "đẹp, sạch", t: "na", ti: "Đại (**大**) Khả (**可**) là **KỲ** (lạ) + Con hươu (**鹿**) đẹp (**麗**).", ta: "**Kì** **Rê** (**Kirei**) đẹp quá." },
            { k: "賑やか", h: "にぎやか", m: "náo nhiệt", t: "na", ti: "Có tiền (**貝**) vào ngày rồng (**辰**) thì chợ rất **CHẨN** (náo nhiệt).", ta: "**Nghi** **Gì** (**Nigi**) mà ồn thế." },
            { k: "静か", h: "しずか", m: "yên tĩnh", t: "na", ti: "Màu xanh (**青**) tranh đấu (**争**) xong thì **TĨNH**.", ta: "**Si** **Dư** **Cả** (**Shizuka**) ko gian yên tĩnh (Xuka)." },
            { k: "便利", h: "べんり", m: "tiện lợi", t: "na", ti: "Người (**亻**) đổi mới (**更**) lúa (**禾**) dao (**刂**) **TIỆN LỢI**.", ta: "**Bền** **Bỉ** (**Benri**) tiện lợi." },
            { k: "不便", h: "ふべん", m: "bất tiện", t: "na", ti: "**BẤT** (**不**) tiện lợi.", ta: "**Phù** **Bền** (**Fuben**) dùng bất tiện." },
            { k: "暇", h: "ひま", m: "rảnh rỗi", t: "na", ti: "Ngày (**日**) mượn (**叺**) thời gian **HẠ** (rảnh).", ta: "**Hi** **Ma** (**Hima**) rảnh đi chơi với ma." },
            { k: "忙しい", h: "いそがしい", m: "bận rộn", t: "i", ti: "Tim (**忄**) chết (**亡**) vì quá **MANG** (bận).", ta: "**I** **Sô** **Gà** (**Isoga**) bận rộn." }, 
            { k: "親切", h: "しんせつ", m: "tốt bụng", t: "na", ti: "Thân (**親**) thiết (**切**) như cắt ruột.", ta: "**Xin** **Sếp** (**Shinsetsu**) tốt bụng." },
            { k: "有名", h: "ゆうめい", m: "nổi tiếng", t: "na", ti: "Có (**有**) danh (**名**) tiếng.", ta: "**Yu** **Mê** (**Yuumei**) người nổi tiếng." },
            { k: "大切", h: "たいせつ", m: "quan trọng", t: "na", ti: "Cắt (**切**) miếng to (**大**) là **ĐẠI THIẾT** (quý/quan trọng).", ta: "**Tai** **Sét** (**Taisetsu**) đánh cái quan trọng." },
            { k: "大丈夫", h: "だいじょうぶ", m: "ổn, không sao", t: "na", ti: "**ĐẠI TRƯỢNG PHU** (Người đàn ông lớn) thì luôn ổn.", ta: "**Đai** **Dô** **Bự** (**Daijoubu**) vẫn ổn." }
        ];

        // --- GRAMMAR RICH EXAMPLES (Diverse & Realistic N5-N3 Patterns) ---
        const specificAdjExamples = {
            "大きい": {
                dict: { ex: "彼は大きな夢を持っている。", romaji: "Kare wa ookina yume o motte iru.", mean: "Anh ấy mang một giấc mơ lớn (N5 - Na-adj variant)." },
                polite: { ex: "地震で被害が大きいです。", romaji: "Jishin de higai ga ookii desu.", mean: "Thiệt hại do động đất rất lớn (N5 - desu)." },
                neg: { ex: "音はそれほど大きくない。", romaji: "Oto wa sorehodo ookikunai.", mean: "Âm thanh không lớn đến mức đó đâu (N4 - sorehodo)." },
                past: { ex: "昔、この木はもっと大きかった。", romaji: "Mukashi, kono ki wa motto ookikatta.", mean: "Ngày xưa cái cây này to hơn nhiều (N5 - past)." },
                te: { ex: "サイズが大きくて、合わない。", romaji: "Saizu ga ookikute, awanai.", mean: "Kích cỡ to quá nên không vừa (N4 - te cause)." },
                adv: { ex: "子供が大きく育った。", romaji: "Kodomo ga ookiku sodatta.", mean: "Đứa trẻ đã lớn khôn (N4 - adv)." },
                noun: { ex: "大きい声で話してください。", romaji: "Ookii koe de hanashite kudasai.", mean: "Hãy nói bằng giọng to lên (N5 - noun mod)." }
            },
            "高い": {
                dict: { ex: "プライドが高い。", romaji: "Puraido ga takai.", mean: "Lòng tự trọng cao (Kiêu ngạo)." },
                polite: { ex: "日本の物価が高いと思います。", romaji: "Nihon no bukka ga takai to omoimasu.", mean: "Tôi nghĩ vật giá Nhật Bản đắt đỏ (N4 - to omou)." },
                neg: { ex: "給料はそんなに高くない。", romaji: "Kyūryō wa sonnani takakunai.", mean: "Lương không cao đến thế (N4 - sonnani)." },
                past: { ex: "先週の野菜は高かった。", romaji: "Senshū no yasai wa takakatta.", mean: "Rau tuần trước đắt lắm." },
                te: { ex: "値段が高くて、買えません。", romaji: "Nedan ga takakute, kaemasen.", mean: "Giá đắt quá, tôi không thể mua (N4 - potential)." },
                adv: { ex: "もっと高く飛びたい。", romaji: "Motto takaku tobitai.", mean: "Tôi muốn bay cao hơn nữa (N4 - tai)." },
                noun: { ex: "高いビルが並んでいる。", romaji: "Takai biru ga narande iru.", mean: "Những tòa nhà cao tầng xếp hàng san sát (N4 - te iru)." }
            },
            "暑い": {
                dict: { ex: "今日は死ぬほど暑い。", romaji: "Kyō wa shinu hodo atsui.", mean: "Hôm nay nóng muốn chết (N3 - hodo)." },
                polite: { ex: "外は蒸し暑いです。", romaji: "Soto wa mushiatsui desu.", mean: "Bên ngoài nóng oi bức." },
                neg: { ex: "今日は涼しくて、暑くない。", romaji: "Kyō wa suzushikute, atsukunai.", mean: "Hôm nay mát mẻ, không nóng (N4 - te)." },
                past: { ex: "去年の夏は暑かったなあ。", romaji: "Kyonen no natsu wa atsukatta nā.", mean: "Mùa hè năm ngoái nóng thật đấy (N5 - na)." },
                te: { ex: "暑くて、氷が溶けてしまった。", romaji: "Atsukute, kōri ga tokete shimatta.", mean: "Nóng quá đá tan hết mất rồi (N4 - te shimau)." },
                adv: { ex: "だんだん暑くなってきた。", romaji: "Dandan atsuku natte kita.", mean: "Trời đang dần nóng lên (N4 - te kuru)." },
                noun: { ex: "暑い日差し。", romaji: "Atsui hizashi.", mean: "Ánh nắng nóng gắt." }
            },
            "忙しい": {
                dict: { ex: "猫の手も借りたいほど忙しい。", romaji: "Neko no te mo karitai hodo isogashii.", mean: "Bận tối mắt tối mũi (N3 - Idiom/Hodo)." },
                polite: { ex: "最近、仕事が忙しいんです。", romaji: "Saikin, shigoto ga isogashii n desu.", mean: "Dạo này công việc bận rộn lắm (N4 - ndesu)." },
                neg: { ex: "明日は忙しくないよ。", romaji: "Ashita wa isogashikunai yo.", mean: "Mai tôi không bận đâu (N5 - yo)." },
                past: { ex: "先月は目が回るほど忙しかった。", romaji: "Sengetsu wa me ga mawaru hodo isogashikatta.", mean: "Tháng trước bận chóng cả mặt." },
                te: { ex: "忙しくて、昼ごはんを食べる時間もない。", romaji: "Isogashikute, hirugohan o taberu jikan mo nai.", mean: "Bận quá đến mức không có thời gian ăn trưa (N5 - mo)." },
                adv: { ex: "毎日忙しく働いている。", romaji: "Mainichi isogashiku hataraite iru.", mean: "Ngày nào cũng làm việc bận rộn." },
                noun: { ex: "忙しい生活を送る。", romaji: "Isogashii seikatsu o okuru.", mean: "Sống một cuộc sống bận rộn." }
            },
            "いい": {
                dict: { ex: "頭がいい人は人気がある。", romaji: "Atama ga ii hito wa ninki ga aru.", mean: "Người thông minh thì được yêu thích (N5 - ga aru)." },
                polite: { ex: "調子はどうですか？いいですよ。", romaji: "Chōshi wa dō desu ka? Ii desu yo.", mean: "Tình hình thế nào? Tốt lắm." },
                neg: { ex: "顔色が良くないね。", romaji: "Kaoiro ga yokunai ne.", mean: "Sắc mặt cậu không tốt nhỉ." },
                past: { ex: "あの映画は本当に良かった。", romaji: "Ano eiga wa hontō ni yokatta.", mean: "Bộ phim đó thực sự rất hay." },
                te: { ex: "安くて良くて、便利だ。", romaji: "Yasukute yokute, benri da.", mean: "Rẻ, tốt mà lại tiện." },
                adv: { ex: "仲良くしましょう。", romaji: "Nakayoku shimashō.", mean: "Hãy hòa thuận với nhau nhé (N5 - mashou)." },
                noun: { ex: "良い知らせを待つ。", romaji: "Ii shirase o matsu.", mean: "Chờ tin tốt lành." }
            },
            "好き": {
                dict: { ex: "君のことが好きだ。", romaji: "Kimi no koto ga suki da.", mean: "Tớ thích cậu (Tỏ tình)." },
                polite: { ex: "日本料理が好きですか。", romaji: "Nihon ryōri ga suki desu ka.", mean: "Bạn có thích món ăn Nhật không?" },
                neg: { ex: "納豆はあまり好きじゃない。", romaji: "Nattō wa amari suki janai.", mean: "Tôi không thích Natto lắm (N5 - amari)." },
                past: { ex: "昔は彼が好きでした。", romaji: "Mukashi wa kare ga suki deshita.", mean: "Ngày xưa tôi đã từng thích anh ấy." },
                te: { ex: "好きでやっているわけではない。", romaji: "Suki de yatte iru wake dewa nai.", mean: "Không phải tôi làm vì thích đâu (N3 - wake dewa nai)." },
                adv: { ex: "好きにしてください。", romaji: "Suki ni shite kudasai.", mean: "Hãy làm tùy ý bạn (Cứ làm gì bạn thích)." },
                noun: { ex: "好きなタイプは？", romaji: "Suki na taipu wa?", mean: "Mẫu người yêu thích là gì?" }
            },
            "暇": {
                dict: { ex: "明日は暇だと思う。", romaji: "Ashita wa hima da to omou.", mean: "Tôi nghĩ mai sẽ rảnh (N4 - to omou)." },
                polite: { ex: "今、お暇ですか。", romaji: "Ima, ohima desu ka.", mean: "Bây giờ bạn có rảnh không?" },
                neg: { ex: "全然暇じゃない。", romaji: "Zenzen hima janai.", mean: "Chẳng rảnh tí nào (N5 - zenzen)." },
                past: { ex: "学生時代は暇でした。", romaji: "Gakusei jidai wa hima deshita.", mean: "Thời sinh viên tôi rảnh lắm." },
                te: { ex: "暇で死にそうだ。", romaji: "Hima de shinisō da.", mean: "Rảnh muốn chết (Chán quá) (N4 - sou da)." },
                adv: { ex: "暇になると、不安になる。", romaji: "Hima ni naru to, fuan ni naru.", mean: "Hễ rảnh rỗi là tôi lại thấy bất an (N4 - to)." },
                noun: { ex: "暇な時に本を読む。", romaji: "Hima na toki ni hon o yomu.", mean: "Đọc sách khi rảnh rỗi." }
            },
            "きれい": {
                dict: { ex: "字がきれいだね。", romaji: "Ji ga kirei da ne.", mean: "Chữ đẹp nhỉ." },
                polite: { ex: "部屋はいつもきれいです。", romaji: "Heya wa itsumo kirei desu.", mean: "Phòng lúc nào cũng sạch sẽ." },
                neg: { ex: "空気があまりきれいじゃない。", romaji: "Kūki ga amari kirei janai.", mean: "Không khí không được sạch lắm." },
                past: { ex: "若い頃はきれいでした。", romaji: "Wakai koro wa kirei deshita.", mean: "Hồi trẻ bà ấy rất đẹp." },
                te: { ex: "きれいで便利な町。", romaji: "Kirei de benri na machi.", mean: "Thành phố đẹp và tiện lợi." },
                adv: { ex: "トイレをきれいに使いましょう。", romaji: "Toire o kirei ni tsukaimashō.", mean: "Hãy sử dụng nhà vệ sinh sạch sẽ (Giữ vệ sinh)." },
                noun: { ex: "きれいな花が咲いた。", romaji: "Kirei na hana ga saita.", mean: "Bông hoa đẹp đã nở." }
            },
            "低い": {
                dict: { ex: "この店の評価は低い。", romaji: "Kono mise no hyōka wa hikui.", mean: "Đánh giá của quán này thấp." },
                polite: { ex: "天井が低いです。", romaji: "Tenjō ga hikui desu.", mean: "Trần nhà thấp." },
                neg: { ex: "可能性は低くない。", romaji: "Kanōsei wa hikukunai.", mean: "Khả năng không thấp đâu." },
                past: { ex: "昨日は気温が低かった。", romaji: "Kinō wa kion ga hikukatta.", mean: "Hôm qua nhiệt độ thấp." },
                te: { ex: "椅子が低くて座りにくい。", romaji: "Isu ga hikukute suwarinikui.", mean: "Ghế thấp nên khó ngồi (N4 - nikui)." },
                adv: { ex: "声を低くしてください。", romaji: "Koe o hikuku shite kudasai.", mean: "Hãy nói nhỏ (trầm) giọng xuống." },
                noun: { ex: "低い鼻。", romaji: "Hikui hana.", mean: "Mũi tẹt (thấp)." }
            },
            "長い": {
                dict: { ex: "この会議は長い。", romaji: "Kono kaigi wa nagai.", mean: "Cuộc họp này dài lê thê." },
                polite: { ex: "髪が長いです。", romaji: "Kami ga nagai desu.", mean: "Tóc dài." },
                neg: { ex: "行列はそんなに長くない。", romaji: "Gyōretsu wa sonnani nagakunai.", mean: "Hàng người xếp hàng không dài lắm đâu." },
                past: { ex: "待ち時間が長かった。", romaji: "Machijikan ga nagakatta.", mean: "Thời gian chờ đợi đã rất dài." },
                te: { ex: "話が長くて、飽きた。", romaji: "Hanashi ga nagakute, akita.", mean: "Câu chuyện dài dòng nên tôi chán rồi." },
                adv: { ex: "長く続く幸せ。", romaji: "Nagaku tsuzuku shiawase.", mean: "Hạnh phúc kéo dài." },
                noun: { ex: "長い一日。", romaji: "Nagai ichinichi.", mean: "Một ngày dài đằng đẵng." }
            },
            "短い": {
                dict: { ex: "人生は短い。", romaji: "Jinsei wa mijikai.", mean: "Cuộc đời ngắn ngủi." },
                polite: { ex: "スカートが短いです。", romaji: "Sukāto ga mijikai desu.", mean: "Váy ngắn." },
                neg: { ex: "期間は短くない。", romaji: "Kikan wa mijikakunai.", mean: "Kỳ hạn không ngắn." },
                past: { ex: "夏休みは短かった。", romaji: "Natsuyasumi wa mijikakatta.", mean: "Kỳ nghỉ hè thật ngắn." },
                te: { ex: "短くて分かりやすい。", romaji: "Mijikakute wakariyasui.", mean: "Ngắn gọn và dễ hiểu (N4 - yasui)." },
                adv: { ex: "髪を短く切った。", romaji: "Kami o mijikaku kitta.", mean: "Tôi đã cắt tóc ngắn." },
                noun: { ex: "短い鉛筆。", romaji: "Mijikai enpitsu.", mean: "Cây bút chì ngắn." }
            },
            "広い": {
                dict: { ex: "心が広い人だ。", romaji: "Kokoro ga hiroi hito da.", mean: "Người rộng lượng (hào phóng)." },
                polite: { ex: "この部屋は広いです。", romaji: "Kono heya wa hiroi desu.", mean: "Căn phòng này rộng." },
                neg: { ex: "そんなに広くない。", romaji: "Sonnani hirokunai.", mean: "Không rộng đến thế." },
                past: { ex: "前の家は広かった。", romaji: "Mae no ie wa hirokatta.", mean: "Nhà cũ đã rất rộng." },
                te: { ex: "広くて快適だ。", romaji: "Hirokute kaiteki da.", mean: "Rộng rãi và thoải mái." },
                adv: { ex: "もっと広く使いたい。", romaji: "Motto hiroku tsukaitai.", mean: "Tôi muốn sử dụng rộng rãi hơn." },
                noun: { ex: "広い世界を見たい。", romaji: "Hiroi sekai o mitai.", mean: "Tôi muốn ngắm nhìn thế giới rộng lớn." }
            },
            "狭い": {
                dict: { ex: "心が狭い。", romaji: "Kokoro ga semai.", mean: "Hẹp hòi (ích kỷ)." },
                polite: { ex: "道が狭いです。", romaji: "Michi ga semai desu.", mean: "Đường hẹp." },
                neg: { ex: "店は狭くない。", romaji: "Mise wa semakunai.", mean: "Quán không chật." },
                past: { ex: "昔の部屋は狭かった。", romaji: "Mukashi no heya wa semakatta.", mean: "Phòng ngày xưa chật chội." },
                te: { ex: "狭くて動きにくい。", romaji: "Semakute ugokinikui.", mean: "Chật nên khó di chuyển (N4 - nikui)." },
                adv: { ex: "道が狭くなった。", romaji: "Michi ga semaku natta.", mean: "Con đường trở nên hẹp đi." },
                noun: { ex: "狭い範囲。", romaji: "Semai han'i.", mean: "Phạm vi hẹp." }
            },
            "甘い": {
                dict: { ex: "考えが甘い。", romaji: "Kangae ga amai.", mean: "Suy nghĩ ngây thơ (non nớt)." },
                polite: { ex: "このケーキは甘いです。", romaji: "Kono kēki wa amai desu.", mean: "Bánh này ngọt." },
                neg: { ex: "あまり甘くない。", romaji: "Amari amakunai.", mean: "Không ngọt lắm." },
                past: { ex: "果物が甘かった。", romaji: "Kudamono ga amakatta.", mean: "Hoa quả đã rất ngọt." },
                te: { ex: "甘くて美味しい。", romaji: "Amakute oishii.", mean: "Ngọt và ngon." },
                adv: { ex: "甘く見ないで。", romaji: "Amaku minaide.", mean: "Đừng có coi thường (xem nhẹ)." },
                noun: { ex: "甘い言葉に気をつけて。", romaji: "Amai kotoba ni ki o tsukete.", mean: "Hãy cẩn thận với những lời đường mật." }
            },
            "辛い": {
                dict: { ex: "人生は辛い。", romaji: "Jinsei wa tsurai (karai).", mean: "Cuộc đời thật cay đắng (khổ cực)." },
                polite: { ex: "カレーが辛いです。", romaji: "Karē ga karai desu.", mean: "Cà ri cay." },
                neg: { ex: "辛くないですか。", romaji: "Karakunai desu ka.", mean: "Không cay à?" },
                past: { ex: "辛かったです。", romaji: "Karakatta desu.", mean: "Đã cay (hoặc đã khổ cực)." },
                te: { ex: "辛くて涙が出た。", romaji: "Karakute namida ga deta.", mean: "Cay chảy cả nước mắt." },
                adv: { ex: "もっと辛くしてください。", romaji: "Motto karaku shite kudasai.", mean: "Làm ơn cho cay hơn chút." },
                noun: { ex: "辛い料理が好き。", romaji: "Karai ryōri ga suki.", mean: "Tôi thích món cay." }
            },
            "寒い": {
                dict: { ex: "おやじギャグは寒い。", romaji: "Oyaji gyagu wa samui.", mean: "Trò đùa của ông già thật nhạt nhẽo (lạnh nhạt)." },
                polite: { ex: "今夜は寒いです。", romaji: "Konya wa samui desu.", mean: "Đêm nay lạnh." },
                neg: { ex: "コートを着れば寒くない。", romaji: "Kōto o kireba samukunai.", mean: "Mặc áo khoác thì không lạnh." },
                past: { ex: "昨日は寒かった。", romaji: "Kinō wa samukatta.", mean: "Hôm qua lạnh." },
                te: { ex: "寒くて風邪を引いた。", romaji: "Samukute kaze o hiita.", mean: "Lạnh nên bị cảm." },
                adv: { ex: "急に寒くなった。", romaji: "Kyū ni samuku natta.", mean: "Đột nhiên trở lạnh." },
                noun: { ex: "寒い日。", romaji: "Samui hi.", mean: "Ngày lạnh." }
            },
            "冷たい": {
                dict: { ex: "彼女の態度は冷たい。", romaji: "Kanojo no taido wa tsumetai.", mean: "Thái độ cô ấy thật lạnh lùng." },
                polite: { ex: "水が冷たいです。", romaji: "Mizu ga tsumetai desu.", mean: "Nước lạnh." },
                neg: { ex: "冷たくない飲み物がいい。", romaji: "Tsumetakunai nomimono ga ii.", mean: "Tôi thích đồ uống không lạnh." },
                past: { ex: "手足が冷たかった。", romaji: "Teashi ga tsumetakatta.", mean: "Chân tay đã lạnh cóng." },
                te: { ex: "冷たくて気持ちいい。", romaji: "Tsumetakute kimochii.", mean: "Lạnh và dễ chịu." },
                adv: { ex: "冷たくしないで。", romaji: "Tsumetaku shinaide.", mean: "Đừng lạnh lùng thế." },
                noun: { ex: "冷たい視線。", romaji: "Tsumetai shisen.", mean: "Ánh nhìn lạnh lùng." }
            },
            "近い": {
                dict: { ex: "合格が近い。", romaji: "Gōkaku ga chikai.", mean: "Sắp đỗ rồi (Mục tiêu gần kề)." },
                polite: { ex: "駅が近いです。", romaji: "Eki ga chikai desu.", mean: "Nhà ga gần." },
                neg: { ex: "遠くない、近くない。", romaji: "Tookunai, chikakunai.", mean: "Không xa, không gần." },
                past: { ex: "昔はもっと近かった。", romaji: "Mukashi wa motto chikakatta.", mean: "Ngày xưa gần hơn." },
                te: { ex: "近くて便利だ。", romaji: "Chikakute benri da.", mean: "Gần và tiện lợi." },
                adv: { ex: "近くに来て。", romaji: "Chikaku ni kite.", mean: "Lại gần đây." },
                noun: { ex: "近い将来。", romaji: "Chikai shōrai.", mean: "Tương lai gần." }
            },
            "遠い": {
                dict: { ex: "意識が遠い。", romaji: "Ishiki ga tooi.", mean: "Ý thức mơ hồ (xa xăm)." },
                polite: { ex: "会社が遠いです。", romaji: "Kaisha ga tooi desu.", mean: "Công ty xa." },
                neg: { ex: "それほど遠くない。", romaji: "Sorehodo tookunai.", mean: "Không xa lắm." },
                past: { ex: "道のりが遠かった。", romaji: "Michinori ga tookatta.", mean: "Quãng đường đã rất xa." },
                te: { ex: "遠くて行けない。", romaji: "Tookute ikenai.", mean: "Xa quá không đi được." },
                adv: { ex: "遠くへ行きたい。", romaji: "Tooku e ikitai.", mean: "Tôi muốn đi thật xa." },
                noun: { ex: "遠い親戚。", romaji: "Tooi shinseki.", mean: "Họ hàng xa." }
            },
            "難しい": {
                dict: { ex: "気難しい人。", romaji: "Kimuzukashii hito.", mean: "Người khó tính." },
                polite: { ex: "日本語は難しいです。", romaji: "Nihongo wa muzukashii desu.", mean: "Tiếng Nhật khó." },
                neg: { ex: "操作は難しくない。", romaji: "Sōsa wa muzukashikunai.", mean: "Thao tác không khó." },
                past: { ex: "試験は難しかった。", romaji: "Shiken wa muzukashikatta.", mean: "Kỳ thi đã rất khó." },
                te: { ex: "難しくてわからない。", romaji: "Muzukashikute wakaranai.", mean: "Khó quá không hiểu." },
                adv: { ex: "難しく考えないで。", romaji: "Muzukashiku kangaenaide.", mean: "Đừng suy nghĩ phức tạp hóa." },
                noun: { ex: "難しい問題。", romaji: "Muzukashii mondai.", mean: "Vấn đề nan giải." }
            },
            "易しい": {
                dict: { ex: "口で言うのは易しい。", romaji: "Kuchi de iu no wa yasashii.", mean: "Nói mồm thì dễ." },
                polite: { ex: "この本は易しいです。", romaji: "Kono hon wa yasashii desu.", mean: "Sách này dễ." },
                neg: { ex: "現実は易しくない。", romaji: "Genjitsu wa yasashikunai.", mean: "Thực tế không hề dễ dàng." },
                past: { ex: "問題は易しかった。", romaji: "Mondai wa yasashikatta.", mean: "Bài tập đã rất dễ." },
                te: { ex: "易しくて助かる。", romaji: "Yasashikute tasukaru.", mean: "Dễ nên đỡ quá." },
                adv: { ex: "易しく説明する。", romaji: "Yasashiku setsumei suru.", mean: "Giải thích một cách dễ hiểu." },
                noun: { ex: "易しい言葉。", romaji: "Yasashii kotoba.", mean: "Từ ngữ đơn giản." }
            },
            "強い": {
                dict: { ex: "お酒に強い。", romaji: "Osake ni tsuyoi.", mean: "Tửu lượng tốt (Uống rượu giỏi)." },
                polite: { ex: "風が強いです。", romaji: "Kaze ga tsuyoi desu.", mean: "Gió mạnh." },
                neg: { ex: "私は強くない。", romaji: "Watashi wa tsuyokunai.", mean: "Tôi không mạnh mẽ đâu." },
                past: { ex: "相手は強かった。", romaji: "Aite wa tsuyokatta.", mean: "Đối thủ đã rất mạnh." },
                te: { ex: "強くて頼もしい。", romaji: "Tsuyokute tanomoshii.", mean: "Mạnh mẽ và đáng tin cậy." },
                adv: { ex: "強く打つ。", romaji: "Tsuyoku utsu.", mean: "Đánh mạnh." },
                noun: { ex: "強い意志。", romaji: "Tsuyoi ishi.", mean: "Ý chí kiên cường." }
            },
            "弱い": {
                dict: { ex: "頭が弱い。", romaji: "Atama ga yowai.", mean: "Kém thông minh." },
                polite: { ex: "体が弱いです。", romaji: "Karada ga yowai desu.", mean: "Cơ thể yếu ớt." },
                neg: { ex: "弱くないフリをする。", romaji: "Yowakunai furi o suru.", mean: "Giả vờ không yếu đuối." },
                past: { ex: "昔は弱かった。", romaji: "Mukashi wa yowakatta.", mean: "Ngày xưa tôi yếu lắm." },
                te: { ex: "弱くて負けた。", romaji: "Yowakute maketa.", mean: "Yếu quá nên thua." },
                adv: { ex: "火を弱くする。", romaji: "Hi o yowaku suru.", mean: "Vặn nhỏ lửa." },
                noun: { ex: "弱いチーム。", romaji: "Yowai chīmu.", mean: "Đội yếu." }
            },
            "新しい": {
                dict: { ex: "新しい自分になる。", romaji: "Atarashii jibun ni naru.", mean: "Trở thành một con người mới." },
                polite: { ex: "これは新しいモデルです。", romaji: "Kore wa atarashii moderu desu.", mean: "Đây là mẫu mới." },
                neg: { ex: "新しくないです。", romaji: "Atarashikunai desu.", mean: "Không mới." },
                past: { ex: "買った時は新しかった。", romaji: "Katta toki wa atarashikatta.", mean: "Lúc mua thì nó còn mới." },
                te: { ex: "新しくてきれいだ。", romaji: "Atarashikute kirei da.", mean: "Mới và đẹp." },
                adv: { ex: "新しく始める。", romaji: "Atarashiku hajimeru.", mean: "Bắt đầu lại từ đầu." },
                noun: { ex: "新しいアイデア。", romaji: "Atarashii aidea.", mean: "Ý tưởng mới." }
            },
            "古い": {
                dict: { ex: "考えが古い。", romaji: "Kangae ga furui.", mean: "Suy nghĩ cổ hủ." },
                polite: { ex: "この建物は古いです。", romaji: "Kono tatemono wa furui desu.", mean: "Tòa nhà này cũ rồi." },
                neg: { ex: "古くないですよ。", romaji: "Furukunai desu yo.", mean: "Không cũ đâu nhé." },
                past: { ex: "設備が古かった。", romaji: "Setsubi ga furukatta.", mean: "Trang thiết bị đã cũ kỹ." },
                te: { ex: "古くて使えない。", romaji: "Furukute tsukaenai.", mean: "Cũ quá không dùng được." },
                adv: { ex: "古くから伝わる。", romaji: "Furuku kara tsutawaru.", mean: "Được truyền lại từ xa xưa." },
                noun: { ex: "古い友人。", romaji: "Furui yūjin.", mean: "Bạn cũ (cố nhân)." }
            },
            "便利": {
                dict: { ex: "コンビニは便利だ。", romaji: "Konbini wa benri da.", mean: "Cửa hàng tiện lợi thật tiện." },
                polite: { ex: "スマホは便利です。", romaji: "Sumaho wa benri desu.", mean: "Điện thoại thông minh tiện lợi." },
                neg: { ex: "駅から遠くて便利じゃない。", romaji: "Eki kara tookute benri janai.", mean: "Xa ga nên không tiện." },
                past: { ex: "昔は不便でしたが、今は便利でした。", romaji: "Mukashi wa fuben deshita ga, ima wa benri deshita.", mean: "Xưa thì bất tiện nhưng giờ đã tiện rồi." },
                te: { ex: "便利で助かる。", romaji: "Benri de tasukaru.", mean: "Tiện nên đỡ quá." },
                adv: { ex: "便利になる。", romaji: "Benri ni naru.", mean: "Trở nên tiện lợi." },
                noun: { ex: "便利な道具。", romaji: "Benri na dōgu.", mean: "Dụng cụ hữu ích." }
            },
            "不便": {
                dict: { ex: "田舎の生活は不便だ。", romaji: "Inaka no seikatsu wa fuben da.", mean: "Cuộc sống ở quê bất tiện." },
                polite: { ex: "交通が不便です。", romaji: "Kōtsū ga fuben desu.", mean: "Giao thông bất tiện." },
                neg: { ex: "車があれば不便じゃない。", romaji: "Kuruma ga areba fuben janai.", mean: "Nếu có xe thì không bất tiện." },
                past: { ex: "昔は不便でした。", romaji: "Mukashi wa fuben deshita.", mean: "Ngày xưa đã rất bất tiện." },
                te: { ex: "不便で困る。", romaji: "Fuben de komaru.", mean: "Bất tiện nên khổ sở." },
                adv: { ex: "不便に感じる。", romaji: "Fuben ni kanjiru.", mean: "Cảm thấy bất tiện." },
                noun: { ex: "不便な場所。", romaji: "Fuben na basho.", mean: "Nơi bất tiện (hẻo lánh)." }
            },
            "親切": {
                dict: { ex: "彼は親切だ。", romaji: "Kare wa shinsetsu da.", mean: "Anh ấy tốt bụng." },
                polite: { ex: "店員さんが親切です。", romaji: "Ten'in-san ga shinsetsu desu.", mean: "Nhân viên cửa hàng rất nhiệt tình." },
                neg: { ex: "あの人は親切じゃない。", romaji: "Ano hito wa shinsetsu janai.", mean: "Người đó không tốt bụng đâu." },
                past: { ex: "親切でした。", romaji: "Shinsetsu deshita.", mean: "Đã rất tử tế." },
                te: { ex: "親切で優しい。", romaji: "Shinsetsu de yasashii.", mean: "Tốt bụng và hiền lành." },
                adv: { ex: "親切にする。", romaji: "Shinsetsu ni suru.", mean: "Đối xử tử tế." },
                noun: { ex: "親切な行為。", romaji: "Shinsetsu na kōi.", mean: "Hành động tử tế." }
            },
            "有名": {
                dict: { ex: "彼は世界で有名だ。", romaji: "Kare wa sekai de yūmei da.", mean: "Anh ấy nổi tiếng thế giới." },
                polite: { ex: "この店は有名です。", romaji: "Kono mise wa yūmei desu.", mean: "Quán này nổi tiếng." },
                neg: { ex: "あまり有名じゃない。", romaji: "Amari yūmei janai.", mean: "Không nổi tiếng lắm." },
                past: { ex: "昔は有名でした。", romaji: "Mukashi wa yūmei deshita.", mean: "Ngày xưa đã từng nổi tiếng." },
                te: { ex: "有名で忙しい。", romaji: "Yūmei de isogashii.", mean: "Nổi tiếng nên bận rộn." },
                adv: { ex: "有名になる。", romaji: "Yūmei ni naru.", mean: "Trở nên nổi tiếng." },
                noun: { ex: "有名な観光地。", romaji: "Yūmei na kankōchi.", mean: "Điểm du lịch nổi tiếng." }
            },
            "大切": {
                dict: { ex: "時間が大切だ。", romaji: "Jikan ga taisetsu da.", mean: "Thời gian là quan trọng." },
                polite: { ex: "家族が大切です。", romaji: "Kazoku ga taisetsu desu.", mean: "Gia đình là quan trọng." },
                neg: { ex: "それは大切じゃない。", romaji: "Sore wa taisetsu janai.", mean: "Cái đó không quan trọng." },
                past: { ex: "思い出は大切でした。", romaji: "Omoide wa taisetsu deshita.", mean: "Kỷ niệm đã rất quý giá." },
                te: { ex: "大切で守りたい。", romaji: "Taisetsu de mamoritai.", mean: "Quý giá và muốn bảo vệ." },
                adv: { ex: "大切にする。", romaji: "Taisetsu ni suru.", mean: "Trân trọng (giữ gìn)." },
                noun: { ex: "大切な人。", romaji: "Taisetsu na hito.", mean: "Người quan trọng." }
            },
            "大丈夫": {
                dict: { ex: "全然大丈夫だ。", romaji: "Zenzen daijōbu da.", mean: "Hoàn toàn ổn." },
                polite: { ex: "時間は大丈夫です。", romaji: "Jikan wa daijōbu desu.", mean: "Thời gian thì ok." },
                neg: { ex: "体調は大丈夫じゃない。", romaji: "Taichō wa daijōbu janai.", mean: "Sức khỏe không ổn." },
                past: { ex: "テストは大丈夫でした。", romaji: "Tesuto wa daijōbu deshita.", mean: "Bài kiểm tra đã ổn." },
                te: { ex: "大丈夫で安心した。", romaji: "Daijōbu de anshin shita.", mean: "Ổn rồi nên an tâm." },
                adv: { ex: "大丈夫になる。", romaji: "Daijōbu ni naru.", mean: "Sẽ ổn thôi." },
                noun: { ex: "大丈夫な日。", romaji: "Daijōbu na hi.", mean: "Ngày phù hợp (ok)." }
            }
        };

        // --- GROUPS ---
        const groupsConfig = [
            { title: "1. Kích Thước (Size) 📏", color: "blue", ids: ["大きい","小さい","高い","低い","長い","短い","太い","細い","広い","狭い"] },
            { title: "2. Thời Tiết & Cảm Giác ☀️❄️", color: "orange", ids: ["暑い","寒い","熱い","冷たい","暖かい","涼しい","いい","悪い"] },
            { title: "3. Tính Chất (Quality) ✨", color: "purple", ids: ["新しい","古い","強い","弱い","難しい","易しい","甘い","辛い"] },
            { title: "4. Đánh Giá & Cảm Xúc (Na-Adj) 😊", color: "green", ids: ["好き","嫌い","上手","下手","きれい","賑やか","静か","便利","不便","暇","忙しい","親切","有名","大切","大丈夫"] }
        ];

        // --- CONJUGATION ENGINE (Adjectives) ---
        function conjugate(word) {
            let h = word.h, type = word.t;
            let f = { dict: h, polite: "", neg: "", past: "", te: "", adv: "", noun: "" };
            
            if (type === "i" || type === "ii") {
                let stem = h.slice(0, -1);
                if (type === "ii") stem = "よ";
                f.polite = h + "です";
                f.neg = stem + "くないです";
                f.past = stem + "かったです";
                f.te = stem + "くて";
                f.adv = stem + "く";
                f.noun = h + " + N";
                if (type === "ii") f.dict = "いい (よい)";
            } else if (type === "na") {
                f.polite = h + "です";
                f.neg = h + "じゃないです";
                f.past = h + "でした";
                f.te = h + "で";
                f.adv = h + "に";
                f.noun = h + "な + N";
            }
            return f;
        }

        // Improved Example Generator
        function getExamples(word, forms) {
            const specific = specificAdjExamples[word.k];
            if (specific) {
                return [
                    { f: forms.dict, j: specific.dict.ex, r: specific.dict.romaji, v: specific.dict.mean },
                    { f: forms.polite, j: specific.polite.ex, r: specific.polite.romaji, v: specific.polite.mean },
                    { f: forms.neg, j: specific.neg.ex, r: specific.neg.romaji, v: specific.neg.mean },
                    { f: forms.past, j: specific.past.ex, r: specific.past.romaji, v: specific.past.mean },
                    { f: forms.te, j: specific.te.ex, r: specific.te.romaji, v: specific.te.mean },
                    { f: forms.adv, j: specific.adv.ex, r: specific.adv.romaji, v: specific.adv.mean },
                    { f: forms.noun, j: specific.noun.ex, r: specific.noun.romaji, v: specific.noun.mean }
                ];
            }
            
            // Richer Fallback
            let j_ex = "", v_ex = "";
            if (word.t === "i" || word.t === "ii") { j_ex = `この料理は${word.k}です。`; v_ex = `Món này ${word.m}.`; } 
            else { j_ex = `彼は${word.k}です。`; v_ex = `Anh ấy ${word.m}.`; }
            return [
                { f: forms.dict, j: `${word.k}。`, r: `${word.h}.`, v: `(Từ điển) ${word.m}.` },
                { f: forms.polite, j: j_ex, r: `... ${forms.polite}`, v: `(Lịch sự) ...` },
                { f: forms.neg, j: `全然${forms.neg}`, r: `Zenzen ${forms.neg}`, v: `Hoàn toàn không ${word.m}.` },
                { f: forms.past, j: `昔は${forms.past}`, r: `Mukashi wa ${forms.past}`, v: `Ngày xưa đã ${word.m}.` },
                { f: forms.te, j: `${forms.te}、いいですね。`, r: `${forms.te}, ii desu ne.`, v: `${word.m} nên tốt nhỉ.` },
                { f: forms.adv, j: `${forms.adv}なりました。`, r: `${forms.adv} narimashita.`, v: `Đã trở nên ${word.m}.` },
                { f: forms.noun, j: `${forms.noun.split('+')[0]}人。`, r: `... hito.`, v: `Người ${word.m} (Bổ nghĩa).` }
            ];
        }

        // --- APP LOGIC ---
        let allWords = [];
        const colorMap = { blue: "bg-blue-100 border-blue-400 text-blue-800", green: "bg-green-100 border-green-400 text-green-800", yellow: "bg-yellow-100 border-yellow-400 text-yellow-800", orange: "bg-orange-100 border-orange-400 text-orange-800", teal: "bg-teal-100 border-teal-400 text-teal-800", pink: "bg-pink-100 border-pink-400 text-pink-800", indigo: "bg-indigo-100 border-indigo-400 text-indigo-800", purple: "bg-purple-100 border-purple-400 text-purple-800", gray: "bg-gray-100 border-gray-400 text-gray-800" };
        const btnColorMap = { blue: "bg-blue-500 hover:bg-blue-600", green: "bg-green-500 hover:bg-green-600", yellow: "bg-yellow-500 hover:bg-yellow-600", orange: "bg-orange-500 hover:bg-orange-600", teal: "bg-teal-500 hover:bg-teal-600", pink: "bg-pink-500 hover:bg-pink-600", indigo: "bg-indigo-500 hover:bg-indigo-600", purple: "bg-purple-500 hover:bg-purple-600", gray: "bg-gray-500 hover:bg-gray-600" };

        function renderContent() {
            const container = document.getElementById("content-area");
            container.innerHTML = "";
            groupsConfig.forEach(group => {
                const groupDiv = document.createElement("div");
                groupDiv.className = "bg-white rounded-lg shadow-md overflow-hidden mb-8";
                groupDiv.innerHTML = `<div class="${colorMap[group.color]} px-6 py-4 border-l-8 font-bold text-xl flex justify-between items-center"><span>${group.title}</span></div>`;
                const grid = document.createElement("div");
                grid.className = "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6";
                group.ids.forEach(kanji => {
                    const word = adjectives.find(w => w.k === kanji);
                    if(!word) return;
                    allWords.push(word);
                    const wordStr = encodeURIComponent(JSON.stringify(word));
                    const typeBadge = word.t === 'i' || word.t === 'ii' ? '<span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full mr-2">Đuôi i</span>' : '<span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full mr-2">Đuôi na</span>';
                    const card = document.createElement("div");
                    card.className = "border border-gray-200 rounded-xl p-4 hover:shadow-lg transition duration-200 bg-white flex flex-col relative group";
                    card.innerHTML = `
                        <div class="flex justify-between items-start mb-3 border-b border-gray-100 pb-2">
                            <div><div class="text-3xl kanji-font font-bold text-gray-800">${word.k}</div><div class="text-sm text-gray-500 font-bold">${word.h}</div></div>
                            <div class="flex space-x-2">
                                <button onclick="openModal('${wordStr}')" class="bg-gray-100 hover:bg-green-100 text-green-600 p-2 rounded-full w-10 h-10 flex items-center justify-center shadow-sm transition"><i class="fas fa-list-ul"></i></button>
                                <button onclick="speak('${word.k}', '${word.h}')" class="${btnColorMap[group.color]} text-white p-2 rounded-full w-10 h-10 flex items-center justify-center shadow-md focus:outline-none transform active:scale-95 transition"><i class="fas fa-volume-up"></i></button>
                            </div>
                        </div>
                        <div class="mb-2 flex items-center">${typeBadge}<span class="font-bold text-green-700 text-lg">${word.m}</span></div>
                        <div class="mt-auto bg-green-50 rounded-lg p-3 text-sm space-y-2">
                            <div class="text-gray-700 leading-snug"><span class="font-semibold text-gray-900">🖼️ Hình:</span> ${word.ti.replace(/\*\*(.*?)\*\*/g, '<span class="text-red-600 font-bold">$1</span>')}</div>
                            <div class="text-gray-700 leading-snug border-t border-green-200 pt-2 mt-2"><span class="font-semibold text-gray-900">🔊 Âm:</span> ${word.ta.replace(/\*\*(.*?)\*\*/g, '<span class="text-blue-600 font-bold">$1</span>')}</div>
                        </div>
                    `;
                    grid.appendChild(card);
                });
                groupDiv.appendChild(grid);
                container.appendChild(groupDiv);
            });
        }

        function openModal(wordStr) {
            const word = JSON.parse(decodeURIComponent(wordStr));
            const forms = conjugate(word);
            const examples = getExamples(word, forms);
            document.getElementById("modal-kanji").innerText = word.k;
            document.getElementById("modal-hiragana").innerText = word.h;
            document.getElementById("modal-meaning").innerText = word.m;
            document.getElementById("modal-group").innerText = (word.t === 'i' || word.t === 'ii') ? "Tính từ đuôi I" : "Tính từ đuôi NA";
            const btn = document.getElementById("modal-main-audio");
            btn.onclick = () => speak(word.k, word.h);
            const list = document.getElementById("conjugation-list");
            list.innerHTML = "";
            const labels = ["Từ điển", "Lịch sự (Desu)", "Phủ định (Kunai/Janai)", "Quá khứ (Katta/Datta)", "Nối (Kute/De)", "Phó từ (Ku/Ni)", "Bổ nghĩa cho Danh từ"];
            examples.forEach((ex, i) => {
                const row = `
                <div class="bg-white border border-gray-200 rounded-lg p-4 hover:border-green-300 transition">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-xs font-bold uppercase text-gray-400 tracking-wider">${labels[i]}</span>
                        <div class="flex items-center">
                            <span class="text-xl font-bold text-green-700 kanji-font mr-3">${Object.values(forms)[i]}</span>
                            <button onclick="speak('${Object.values(forms)[i]}', '')" class="text-green-400 hover:text-green-600 bg-green-50 hover:bg-green-100 rounded-full w-8 h-8 flex items-center justify-center transition"><i class="fas fa-volume-up text-sm"></i></button>
                        </div>
                    </div>
                    <div class="bg-green-50 rounded p-3 text-sm relative group">
                        <div class="font-bold text-gray-800 kanji-font mb-1 text-lg">${ex.j}</div>
                        <div class="text-gray-500 text-xs italic mb-1">${ex.r}</div>
                        <div class="text-gray-700">${ex.v}</div>
                        <button onclick="speak('${ex.j}', '')" class="absolute top-2 right-2 text-green-400 hover:text-green-600 bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-sm"><i class="fas fa-volume-up"></i></button>
                    </div>
                </div>`;
                list.innerHTML += row;
            });
            document.getElementById("conjugation-modal").classList.remove("hidden");
        }

        function closeModal() { document.getElementById("conjugation-modal").classList.add("hidden"); }
        function openGrammarModal() { document.getElementById("grammar-modal").classList.remove("hidden"); }
        function closeGrammarModal() { document.getElementById("grammar-modal").classList.add("hidden"); }
        
        function switchTab(m) {
            document.getElementById("learn-section").classList.toggle("hidden", m!=="learn");
            document.getElementById("quiz-section").classList.toggle("hidden", m!=="quiz");
            document.getElementById("tab-learn").className = m==="learn" ? "px-4 py-2 rounded-md text-sm font-bold transition bg-white text-green-900 shadow whitespace-nowrap" : "px-4 py-2 rounded-md text-sm font-bold transition text-green-200 whitespace-nowrap";
            document.getElementById("tab-quiz").className = m==="quiz" ? "px-4 py-2 rounded-md text-sm font-bold transition bg-white text-green-900 shadow whitespace-nowrap" : "px-4 py-2 rounded-md text-sm font-bold transition text-green-200 whitespace-nowrap";
            if(m==="quiz") nextQuestion();
        }

        let currentQ = null, score = 0;
        function nextQuestion() {
            document.getElementById("feedback-area").classList.add("hidden");
            document.getElementById("btn-check").classList.remove("hidden");
            document.getElementById("btn-next").classList.add("hidden");
            document.getElementById("quiz-input").value = "";
            document.getElementById("quiz-input").disabled = false;
            document.getElementById("quiz-input").focus();
            
            const uniqueWords = Array.from(new Set(allWords.map(a => a.k))).map(k => allWords.find(a => a.k === k));
            currentQ = uniqueWords[Math.floor(Math.random() * uniqueWords.length)];
            
            document.getElementById("quiz-kanji").innerText = currentQ.k;
            document.getElementById("quiz-meaning").innerText = currentQ.m;
            document.getElementById("quiz-kanji").className = "text-6xl kanji-font font-bold text-gray-800 mb-4 transition-all";
        }

        function checkAnswer() {
            const val = document.getElementById("quiz-input").value.trim();
            if(!val) return;
            document.getElementById("quiz-input").disabled = true;
            const correct = val === currentQ.h;
            const k = document.getElementById("quiz-kanji");
            if(correct) {
                score+=10; k.className = "text-6xl kanji-font font-bold text-green-600 mb-4 transition-all correct-anim";
                document.getElementById("feedback-title").innerHTML = '<i class="fas fa-check-circle text-green-600 mr-2"></i> Chính xác!';
                document.getElementById("feedback-title").className = "font-bold text-lg mb-2 flex items-center text-green-700";
            } else {
                score=Math.max(0, score-5); k.className = "text-6xl kanji-font font-bold text-red-600 mb-4 transition-all wrong-anim";
                document.getElementById("feedback-title").innerHTML = '<i class="fas fa-times-circle text-red-600 mr-2"></i> Sai rồi!';
                document.getElementById("feedback-title").className = "font-bold text-lg mb-2 flex items-center text-red-700";
            }
            document.getElementById("score-display").innerText = score;
            document.getElementById("correct-answer").innerText = currentQ.h;
            document.getElementById("quiz-tip-img").innerHTML = `<span class="font-bold text-gray-700">🖼️ Hình:</span> ` + currentQ.ti.replace(/\*\*(.*?)\*\*/g, '<span class="text-red-600 font-bold">$1</span>');
            document.getElementById("quiz-tip-sound").innerHTML = `<span class="font-bold text-gray-700">🔊 Âm:</span> ` + currentQ.ta.replace(/\*\*(.*?)\*\*/g, '<span class="text-blue-600 font-bold">$1</span>');
            
            document.getElementById("feedback-area").classList.remove("hidden");
            document.getElementById("btn-check").classList.add("hidden");
            document.getElementById("btn-next").classList.remove("hidden");
            document.getElementById("btn-next").focus();
        }

        function playCurrentAudio() { if(currentQ) speak(currentQ.k, currentQ.h); }
        function speak(t, h) {
            if('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const u = new SpeechSynthesisUtterance(t);
                u.lang = 'ja-JP'; u.rate = 0.9;
                window.speechSynthesis.speak(u);
            }
        }
        document.getElementById("quiz-input").addEventListener("keypress", function(e) { if(e.key==="Enter") checkAnswer(); });
        document.addEventListener('DOMContentLoaded', renderContent);
    </script>
</body>
</html>
