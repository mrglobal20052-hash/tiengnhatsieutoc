<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AzaKanji - T√≠nh T·ª´ Ng·ªØ C·∫£nh N3 (Final with Stroke Order)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Nunito', sans-serif; background-color: #f0fdf4; }
        .kanji-font { font-family: 'Noto Sans JP', sans-serif; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #86efac; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #4ade80; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .modal-enter { animation: modalIn 0.3s ease-out forwards; }
        @keyframes modalIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .correct-anim { animation: bounce 0.5s; }
        @keyframes bounce { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        .wrong-anim { animation: shake 0.5s; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }

        /* STROKE ORDER STYLES */
        .stroke-path {
            fill: none;
            stroke: #333;
            stroke-width: 3;
            stroke-linecap: round;
            stroke-linejoin: round;
        }
        .stroke-grid-box {
            border: 1px solid #e5e7eb;
            background-color: white;
            position: relative;
        }
        /* Dotted lines for kanji grid */
        .stroke-grid-box::after {
            content: ''; position: absolute; top: 0; left: 50%; width: 1px; height: 100%;
            background: repeating-linear-gradient(to bottom, #ddd 0, #ddd 4px, transparent 4px, transparent 8px);
            z-index: 0;
        }
        .stroke-grid-box::before {
            content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 1px;
            background: repeating-linear-gradient(to right, #ddd 0, #ddd 4px, transparent 4px, transparent 8px);
            z-index: 0;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-green-600 text-white shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 py-3">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center space-x-3 cursor-pointer" onclick="location.reload()">
                    <i class="fas fa-leaf text-3xl text-yellow-300"></i>
                    <div>
                        <h1 class="text-xl font-bold uppercase tracking-wider">AzaKanji Adjectives</h1>
                        <p class="text-xs text-green-100">41 C·∫∑p T√≠nh T·ª´ & Ng·ªØ Ph√°p N5-N3</p>
                    </div>
                </div>
                <div class="flex bg-green-800 rounded-lg p-1 overflow-x-auto">
                    <button onclick="switchTab('learn')" id="tab-learn" class="px-4 py-2 rounded-md text-sm font-bold transition bg-white text-green-800 shadow whitespace-nowrap">
                        <i class="fas fa-book-open mr-2"></i>H·ªçc T·ª´
                    </button>
                    <button onclick="switchTab('quiz')" id="tab-quiz" class="px-4 py-2 rounded-md text-sm font-bold transition text-green-200 hover:text-white whitespace-nowrap">
                        <i class="fas fa-keyboard mr-2"></i>Ki·ªÉm Tra
                    </button>
                    <button onclick="openGrammarModal()" class="px-4 py-2 rounded-md text-sm font-bold transition text-green-200 hover:text-white whitespace-nowrap border-l border-green-700 ml-1">
                        <i class="fas fa-book mr-2"></i>Ng·ªØ Ph√°p
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8 flex-grow relative z-0" id="app-container">
        <!-- LEARN MODE -->
        <div id="learn-section" class="fade-in">
            <div id="content-area" class="space-y-8"></div>
        </div>

        <!-- QUIZ MODE -->
        <div id="quiz-section" class="hidden fade-in max-w-2xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200">
                <div class="bg-gradient-to-r from-green-600 to-teal-600 p-6 text-white flex justify-between items-center">
                    <div><h2 class="text-2xl font-bold">Th·ª≠ Th√°ch T√≠nh T·ª´</h2><p class="text-green-100 text-sm">Nh√¨n Kanji - G√µ Hiragana</p></div>
                    <div class="text-right"><div class="text-xs text-green-200 uppercase font-bold">ƒêi·ªÉm s·ªë</div><div class="text-4xl font-bold" id="score-display">0</div></div>
                </div>
                <div class="p-8 text-center">
                    <div class="mb-8">
                        <div class="text-sm text-gray-500 mb-2 uppercase tracking-wide font-bold">T·ª´ n√†y ƒë·ªçc l√† g√¨?</div>
                        <div id="quiz-kanji" class="text-6xl kanji-font font-bold text-gray-800 mb-4 transition-all"></div>
                        <div id="quiz-meaning" class="text-xl text-green-600 font-bold mb-2"></div>
                    </div>
                    <div class="relative max-w-md mx-auto mb-6">
                        <input type="text" id="quiz-input" class="w-full text-center text-2xl p-4 border-2 border-gray-300 rounded-xl focus:border-green-500 focus:outline-none transition kanji-font" placeholder="Nh·∫≠p Hiragana (vd: „ÅÇ„Å§„ÅÑ)" autocomplete="off">
                    </div>
                    <div id="feedback-area" class="hidden rounded-xl p-4 bg-gray-50 border border-gray-200 text-left mb-6">
                        <div id="feedback-title" class="font-bold text-lg mb-2 flex items-center"></div>
                        <div class="text-gray-700 mb-2">
                            ƒê√°p √°n ƒë√∫ng: <span id="correct-answer" class="font-bold text-xl text-green-600 mx-2 kanji-font"></span>
                            <button onclick="playCurrentAudio()" class="text-gray-500 hover:text-green-600"><i class="fas fa-volume-up"></i></button>
                        </div>
                        <div class="bg-yellow-50 p-3 rounded-lg border border-yellow-200 text-sm text-gray-800">
                            <div class="font-bold text-yellow-800 mb-1"><i class="fas fa-lightbulb mr-1"></i> M·∫πo ghi nh·ªõ:</div>
                            <div id="quiz-tip-img" class="mb-1"></div>
                            <div id="quiz-tip-sound"></div>
                        </div>
                    </div>
                    <div>
                        <button id="btn-check" onclick="checkAnswer()" class="w-full md:w-auto bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition active:scale-95 text-lg">Ki·ªÉm Tra</button>
                        <button id="btn-next" onclick="nextQuestion()" class="hidden w-full md:w-auto bg-gray-800 hover:bg-gray-900 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition active:scale-95 text-lg">C√¢u Ti·∫øp Theo <i class="fas fa-arrow-right ml-2"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-400 py-8 mt-auto">
        <div class="container mx-auto px-4 text-center">
            <div class="mb-4">
                <i class="fas fa-leaf text-2xl text-green-500 mb-2"></i>
                <h3 class="text-lg font-bold text-white">AzaKanji Adjectives</h3>
                <p class="text-sm">H·ªçc T√≠nh t·ª´ ti·∫øng Nh·∫≠t th·∫≠t d·ªÖ d√†ng & vui v·∫ª</p>
            </div>
            <div class="border-t border-gray-700 pt-4 mt-4 text-xs">
                <p>&copy; 2024 AzaKanji Project. Developed for Kanji Lovers.</p>
                <p class="mt-1">D·ªØ li·ªáu bao g·ªìm c√°c c·∫∑p t√≠nh t·ª´ ƒëu√¥i i v√† ƒëu√¥i na th√¥ng d·ª•ng (N5-N4).</p>
            </div>
        </div>
    </footer>

    <!-- CONJUGATION MODAL -->
    <div id="conjugation-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeModal()"></div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen">&#8203;</span>
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full modal-enter">
                <div class="bg-green-600 px-4 py-4 sm:px-6 flex justify-between items-center text-white">
                    <div><h3 class="text-lg leading-6 font-bold" id="modal-title">Bi·∫øn ƒê·ªïi T√≠nh T·ª´</h3><p class="text-green-100 text-xs">C√°ch d√πng & V√≠ d·ª• c√¢u</p></div>
                    <button onclick="closeModal()" class="text-green-100 hover:text-white focus:outline-none"><i class="fas fa-times text-2xl"></i></button>
                </div>
                <div class="bg-green-50 px-4 py-5 sm:p-6 max-h-[70vh] overflow-y-auto">
                    <div class="flex items-center mb-6 bg-white p-4 rounded-xl shadow-sm border border-green-200">
                        <div class="text-5xl kanji-font font-bold text-green-600 mr-4" id="modal-kanji"></div>
                        <div>
                            <div class="text-2xl font-bold text-gray-800" id="modal-hiragana"></div>
                            <div class="text-sm text-gray-500 font-bold uppercase tracking-wide" id="modal-group"></div>
                            <div class="text-lg text-gray-700" id="modal-meaning"></div>
                        </div>
                        <button id="modal-main-audio" class="ml-auto bg-green-50 text-green-600 p-3 rounded-full hover:bg-green-100 transition shadow-sm"><i class="fas fa-volume-up text-xl"></i></button>
                    </div>
                    <div class="space-y-4" id="conjugation-list"></div>
                </div>
                <div class="bg-gray-100 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
                    <button type="button" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm" onclick="closeModal()">ƒê√≥ng</button>
                </div>
            </div>
        </div>
    </div>

    <!-- GRAMMAR RULES MODAL -->
    <div id="grammar-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeGrammarModal()"></div>
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full modal-enter relative">
                <button onclick="closeGrammarModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none z-10"><i class="fas fa-times text-2xl"></i></button>
                <div class="bg-white px-6 py-8 sm:p-8">
                    <h2 class="text-3xl font-extrabold text-green-700 mb-6 text-center border-b pb-4"><i class="fas fa-book-reader mr-2"></i>Quy T·∫Øc Bi·∫øn ƒê·ªïi T√≠nh T·ª´</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="bg-blue-50 rounded-xl p-6 border border-blue-200">
                            <h3 class="text-xl font-bold text-blue-700 mb-4 flex items-center"><span class="bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center mr-2 text-sm">„ÅÑ</span>I-Adj (ƒêu√¥i i)</h3>
                            <ul class="space-y-3 text-gray-700 text-sm">
                                <li class="flex justify-between border-b border-blue-100 pb-2"><span class="font-semibold">Ph·ªß ƒë·ªãnh:</span><span>B·ªè <span class="text-red-600">„ÅÑ</span> + „Åè„Å™„ÅÑ</span></li>
                                <li class="flex justify-between border-b border-blue-100 pb-2"><span class="font-semibold">Qu√° kh·ª©:</span><span>B·ªè <span class="text-red-600">„ÅÑ</span> + „Åã„Å£„Åü</span></li>
                                <li class="flex justify-between border-b border-blue-100 pb-2"><span class="font-semibold">N·ªëi c√¢u (Te):</span><span>B·ªè <span class="text-red-600">„ÅÑ</span> + „Åè„Å¶</span></li>
                                <li class="flex justify-between border-b border-blue-100 pb-2"><span class="font-semibold">Ph√≥ t·ª´:</span><span>B·ªè <span class="text-red-600">„ÅÑ</span> + „Åè</span></li>
                                <li class="flex justify-between border-b border-blue-100 pb-2"><span class="font-semibold">Gi·∫£ ƒë·ªãnh (Ba):</span><span>B·ªè <span class="text-red-600">„ÅÑ</span> + „Åë„Çå„Å∞</span></li>
                            </ul>
                        </div>
                        <div class="bg-green-50 rounded-xl p-6 border border-green-200">
                            <h3 class="text-xl font-bold text-green-700 mb-4 flex items-center"><span class="bg-green-600 text-white rounded-full w-8 h-8 flex items-center justify-center mr-2 text-sm">„Å™</span>Na-Adj (ƒêu√¥i Na)</h3>
                            <ul class="space-y-3 text-gray-700 text-sm">
                                <li class="flex justify-between border-b border-green-100 pb-2"><span class="font-semibold">Ph·ªß ƒë·ªãnh:</span><span>+ „Åò„ÇÉ„Å™„ÅÑ / „Åß„ÅØ„Å™„ÅÑ</span></li>
                                <li class="flex justify-between border-b border-green-100 pb-2"><span class="font-semibold">Qu√° kh·ª©:</span><span>+ „Åß„Åó„Åü / „Å†„Å£„Åü</span></li>
                                <li class="flex justify-between border-b border-green-100 pb-2"><span class="font-semibold">N·ªëi c√¢u (Te):</span><span>+ „Åß</span></li>
                                <li class="flex justify-between border-b border-green-100 pb-2"><span class="font-semibold">Ph√≥ t·ª´:</span><span>+ „Å´</span></li>
                                <li class="flex justify-between border-b border-green-100 pb-2"><span class="font-semibold">Gi·∫£ ƒë·ªãnh (Ba):</span><span>+ „Å™„Çâ(„Å∞)</span></li>
                            </ul>
                        </div>
                    </div>
                    <div class="mt-8 text-center"><button onclick="closeGrammarModal()" class="bg-gray-800 hover:bg-gray-900 text-white font-bold py-2 px-8 rounded-full shadow-lg transition">ƒê√£ Hi·ªÉu</button></div>
                </div>
            </div>
        </div>
    </div>

    <!-- STROKE ORDER MODAL (NEW) -->
    <div id="stroke-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeStrokeModal()"></div>
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full modal-enter relative">
                
                <div class="bg-green-600 px-4 py-3 flex justify-between items-center text-white">
                    <h3 class="font-bold text-lg"><i class="fas fa-pen-nib mr-2"></i>T·∫≠p Vi·∫øt Kanji: <span id="stroke-modal-char" class="text-2xl ml-2"></span></h3>
                    <button onclick="closeStrokeModal()" class="hover:text-gray-200"><i class="fas fa-times text-xl"></i></button>
                </div>
                
                <div class="p-6 bg-gray-50 max-h-[80vh] overflow-y-auto">
                    <!-- Animation Area -->
                    <div class="flex flex-col md:flex-row gap-8 items-start justify-center">
                        <div class="bg-white p-4 rounded-lg shadow border border-gray-200 text-center">
                            <p class="text-sm text-gray-500 mb-2 font-bold uppercase">M√¥ ph·ªèng n√©t vi·∫øt</p>
                            <div id="stroke-animation-container" class="w-40 h-40 mx-auto bg-white border border-gray-300 relative stroke-grid-box"></div>
                            <button onclick="replayStrokeAnimation()" class="mt-3 text-sm bg-green-100 text-green-700 px-3 py-1 rounded hover:bg-green-200 transition"><i class="fas fa-redo mr-1"></i> Vi·∫øt l·∫°i</button>
                        </div>
                        
                        <!-- Grid Breakdown -->
                        <div class="flex-1">
                            <p class="text-sm text-gray-500 mb-3 font-bold uppercase">Th·ª© t·ª± t·ª´ng n√©t</p>
                            <div id="stroke-grid-container" class="flex flex-wrap gap-2"></div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        // --- MASTER DATA (ADJECTIVES) ---
        const adjectives = [
           { k: "Â§ß„Åç„ÅÑ", h: "„Åä„Åä„Åç„ÅÑ", m: "to, l·ªõn", ti: "B·ªô ƒê·∫†I (Â§ß): H√¨nh ·∫£nh m·ªôt ng∆∞·ªùi dang r·ªông tay ch√¢n h·∫øt c·ª° l√† to l·ªõn.", ta: "√î! K√¨a (Ookii) v·∫≠t g√¨ to th·∫ø." },
        { k: "Â∞è„Åï„ÅÑ", h: "„Å°„ÅÑ„Åï„ÅÑ", m: "nh·ªè, b√©", ti: "B·ªô TI·ªÇU (Â∞è): M·ªôt v·∫≠t nh·ªè b√© b·ªã chia c·∫Øt ra l√†m c√°c ph·∫ßn nh·ªè.", ta: "Chi (Chii) ti·ªÅn sai n√™n ch·ªâ mua ƒë∆∞·ª£c ƒë·ªì nh·ªè." },
        { k: "È´ò„ÅÑ", h: "„Åü„Åã„ÅÑ", m: "cao, ƒë·∫Øt", ti: "B·ªô CAO (È´ò): H√¨nh ·∫£nh t√≤a th√°p nhi·ªÅu t·∫ßng cao v√∫t tr√™n c·ªïng th√†nh.", ta: "Ta c√£i (Takai) v√¨ gi√° n√†y qu√° ƒë·∫Øt." },
        { k: "‰Ωé„ÅÑ", h: "„Å≤„Åè„ÅÑ", m: "th·∫•p", ti: "B·ªô NH√ÇN (‰∫ª) + ƒê√ä (Ê∞ê): Ng∆∞·ªùi c√∫i m√¨nh xu·ªëng g·ªëc c√¢y n√™n g·ªçi l√† ƒê√ä (th·∫•p).", ta: "Hi h√≥p m√° c√∫i (Hikui) m√¨nh xu·ªëng th·∫•p." },
        { k: "Èï∑„ÅÑ", h: "„Å™„Åå„ÅÑ", m: "d√†i", ti: "B·ªô TR∆Ø·ªúNG (Èï∑): H√¨nh ·∫£nh √¥ng l√£o c√≥ m√°i t√≥c v√† r√¢u d√†i theo th·ªùi gian.", ta: "Na (Naga) ƒëi tr√™n con ƒë∆∞·ªùng r·∫•t d√†i." },
        { k: "Áü≠„ÅÑ", h: "„Åø„Åò„Åã„ÅÑ", m: "ng·∫Øn", ti: "B·ªô TH·ªà (Áü¢ - m≈©i t√™n) + ƒê·∫¨U (Ë±Ü): M≈©i t√™n ng·∫Øn ng·ªßn ch·ªâ b·∫±ng h·∫°t ƒë·∫≠u l√† ƒêO·∫¢N.", ta: "M√¨ g√¨ cai (Mijikai) th·∫ø, ng·∫Øn t≈©n √†." },
        { k: "Â§™„ÅÑ", h: "„Åµ„Å®„ÅÑ", m: "b√©o, d√†y", ti: "B·ªô ƒê·∫†I (Â§ß) + d·∫•u ch·∫•m: M·ªôt ng∆∞·ªùi to l·ªõn qu√° m·ª©c ƒë·∫øn ph√°t ph√¨ l√† TH√ÅI.", ta: "Ph√π (Futoi) m·ªè v√¨ b√©o qu√° m·ª©c." },
        { k: "Á¥∞„ÅÑ", h: "„Åª„Åù„ÅÑ", m: "g·∫ßy, m·ªèng", ti: "B·ªô M·ªäCH (Á≥∏ - s·ª£i t∆°) + ƒêI·ªÄN (Áî∞): S·ª£i t∆° nh·ªè b√© d·ªát tr√™n ru·ªông l√∫a r·∫•t T·∫æ.", ta: "H·ªì S∆° (Hosoi) m·ªèng d√≠nh nh∆∞ t·ªù gi·∫•y." },
        { k: "Â∫É„ÅÑ", h: "„Å≤„Çç„ÅÑ", m: "r·ªông", ti: "B·ªô NGHI√äM (Âπø - m√°i nh√†) + KH·ª® („É†): M√°i nh√† che cho c√°i t√¥i m·ªôt kh√¥ng gian QU·∫¢NG.", ta: "Hi R·ªì (Hiroi) ƒëi d·∫°o tr√™n ƒë∆∞·ªùng r·ªông." },
        { k: "Áã≠„ÅÑ", h: "„Åõ„Åæ„ÅÑ", m: "h·∫πp", ti: "B·ªô KHUY·ªÇN (Áä≠) + HI·ªÜP (Â§π): Con ch√≥ b·ªã k·∫πp gi·ªØa hai khe t∆∞·ªùng ch·∫≠t h·∫πp l√† HI·ªÜP.", ta: "Xe M√£i (Semai) m·ªõi l√°ch qua ƒë∆∞·ª£c ng√µ h·∫πp." },
        { k: "Êöë„ÅÑ", h: "„ÅÇ„Å§„ÅÑ", m: "n√≥ng (th·ªùi ti·∫øt)", ti: "B·ªô NH·∫¨T (Êó•) + GI·∫¢ (ËÄÖ): M·∫∑t tr·ªùi chi·∫øu tr·ª±c ti·∫øp v√†o ng∆∞·ªùi l√† TH·ª¨ (n√≥ng).", ta: "A! Tui (Atsui) n√≥ng ch·∫£y m·ªì h√¥i." },
        { k: "ÂØí„ÅÑ", h: "„Åï„ÇÄ„ÅÑ", m: "l·∫°nh (th·ªùi ti·∫øt)", ti: "B·ªô MI√äN (ÂÆÄ) + TH·∫¢O (Ëâπ) + BƒÇNG (ÂÜ´): ·ªû nh√† ƒë·∫Øp r∆°m v·∫´n th·∫•y bƒÉng gi√° v√¨ H√ÄN.", ta: "Sa M√π (Samui) l√† khi tr·ªùi l·∫°nh gi√°." },
        { k: "ÁÜ±„ÅÑ", h: "„ÅÇ„Å§„ÅÑ", m: "n√≥ng (v·∫≠t/c·∫£m x√∫c)", ti: "B·ªô NHI·ªÜT (ÁÜ±): Tr·ªìng c√¢y (Âü∂) tr√™n ng·ªçn l·ª≠a (ÁÅ¨) b√πng ch√°y.", ta: "A! Tui (Atsui) ch·∫°m v√†o v·∫≠t n√≥ng b·ªã b·ªèng." },
        { k: "ÂÜ∑„Åü„ÅÑ", h: "„Å§„ÇÅ„Åü„ÅÑ", m: "l·∫°nh (v·∫≠t/th√°i ƒë·ªô)", ti: "B·ªô BƒÇNG (ÂÜ´) + L·ªÜNH (‰ª§): Ra l·ªánh ƒë√≥ng bƒÉng l√† th√°i ƒë·ªô L√ÉNH kh·ªëc.", ta: "T·ª± M√™ T·∫°i (Tsumetai) m√≥n kem l·∫°nh." },
        { k: "Êöñ„Åã„ÅÑ", h: "„ÅÇ„Åü„Åü„Åã„ÅÑ", m: "·∫•m (th·ªùi ti·∫øt)", ti: "B·ªô NH·∫¨T (Êó•) + NO√ÉN (Áà∞): Tia n·∫Øng m·∫∑t tr·ªùi mang ƒë·∫øn s·ª± ·∫•m √°p (NO√ÉN).", ta: "A ta ta (Atata) th·∫•y n·∫Øng ·∫•m r·ªìi." },
        { k: "Ê∂º„Åó„ÅÑ", h: "„Åô„Åö„Åó„ÅÑ", m: "m√°t m·∫ª", ti: "B·ªô TH·ª¶Y (Ê∞µ) + KINH (‰∫¨): D√≤ng n∆∞·ªõc m√°t ch·∫£y qua kinh ƒë√¥ ph·ªìn hoa l√† L∆Ø∆†NG.", ta: "Su su (Suzu) ƒÉn v√†o th·∫•y m√°t l√≤ng." },
        { k: "ËâØ„ÅÑ", h: "„ÅÑ„ÅÑ", m: "t·ªët", ti: "B·ªô L∆Ø∆†NG (ËâØ): H√¨nh ·∫£nh ng∆∞·ªùi con g√°i ƒÉn ·ªü hi·ªÅn l√†nh, l∆∞∆°ng thi·ªán.", ta: "I (Ii) nh∆∞ v·∫≠y l√† t·ªët nh·∫•t r·ªìi." },
        { k: "ÊÇ™„ÅÑ", h: "„Çè„Çã„ÅÑ", m: "x·∫•u", ti: "B·ªô √ÅC (‰∫ú) + T√ÇM (ÂøÉ): Tr√°i tim ch·∫•t ch·ª©a nh·ªØng ƒëi·ªÅu ƒë·ªôc √°c l√† √ÅC (x·∫•u).", ta: "Wa! R√πi (Warui) xong, g·∫∑p chuy·ªán x·∫•u r·ªìi." },
        { k: "Êñ∞„Åó„ÅÑ", h: "„ÅÇ„Åü„Çâ„Åó„ÅÑ", m: "m·ªõi", ti: "B·ªô L·∫¨P (Á´ã) + M·ªòC (Êú®) + C√ÇN (Êñ§): ƒê·ª©ng tr√™n c√¢y c·∫ßm r√¨u l√†m ƒë·ªì T√ÇN (m·ªõi).", ta: "A ta ra (Atara) mua b·ªô ƒë·ªì m·ªõi." },
        { k: "Âè§„ÅÑ", h: "„Åµ„Çã„ÅÑ", m: "c≈©", ti: "B·ªô TH·∫¨P (ÂçÅ) + KH·∫®U (Âè£): M∆∞·ªùi c√°i mi·ªáng c√πng k·ªÉ l·∫°i chuy·ªán x∆∞a c≈© l√† C·ªî.", ta: "Ph√π R√πi (Furui) b·ª•i b·∫∑m v√¨ ƒë·ªì qu√° c≈©." },
        { k: "Âº∑„ÅÑ", h: "„Å§„Çà„ÅÑ", m: "m·∫°nh", ti: "B·ªô CUNG (Âºì) + TR√ôNG (Ëô´): S·ª©c m·∫°nh c·ªßa lo√†i tr√πng k√©o cƒÉng d√¢y cung l√† C∆Ø·ªúNG.", ta: "T·ª± Do (Tsuyo) gi√∫p ta m·∫°nh m·∫Ω h∆°n." },
        { k: "Âº±„ÅÑ", h: "„Çà„Çè„ÅÑ", m: "y·∫øu", ti: "B·ªô CUNG (Âºì) + SAM (ÂΩ°): C√°nh cung b·ªã g√£y l√¥ng y·∫øu ·ªõt g·ªçi l√† NH∆Ø·ª¢C.", ta: "Gi√≥ Wai (Yowai) th·ªïi bay ng∆∞·ªùi y·∫øu ƒëu·ªëi." },
        { k: "Èõ£„Åó„ÅÑ", h: "„ÇÄ„Åö„Åã„Åó„ÅÑ", m: "kh√≥", ti: "B·ªô TRUY (Èöπ - chim) + C·∫¨N (Â†á - ƒë·∫•t s√©t): Con chim b·ªã d√≠nh v√†o ƒë·∫•t s√©t g·∫∑p NAN.", ta: "M√π D∆∞ C·∫£ (Muzuka) ƒë·ªëng b√†i t·∫≠p kh√≥." },
        { k: "Êòì„Åó„ÅÑ", h: "„ÇÑ„Åï„Åó„ÅÑ", m: "d·ªÖ", ti: "B·ªô NH·∫¨T (Êó•) + V·∫¨T (Âãø): M·∫∑t tr·ªùi chi·∫øu s√°ng xuy√™n th·∫•u v·∫°n v·∫≠t l√† D·ªä (d·ªÖ).", ta: "Ya! Xa (Yasa) th·∫ø m√† ƒëi l·∫°i d·ªÖ d√†ng." },
        { k: "Áîò„ÅÑ", h: "„ÅÇ„Åæ„ÅÑ", m: "ng·ªçt", ti: "B·ªô CAM (Áîò): Ng·∫≠m m·ªôt mi·∫øng ƒë·ªì ƒÉn trong mi·ªáng ƒë·ªÉ c·∫£m nh·∫≠n v·ªã CAM (ng·ªçt).", ta: "A! Mai (Amai) ƒë∆∞·ª£c ƒÉn k·∫πo ng·ªçt." },
        { k: "Ëæõ„ÅÑ", h: "„Åã„Çâ„ÅÑ", m: "cay", ti: "B·ªô L·∫¨P (Á´ã) + TH·∫¨P (ÂçÅ): ƒê·ª©ng m∆∞·ªùi l·∫ßn ch·ªãu ƒë·ª±ng ƒëau ƒë·ªõn l√† T√ÇN (cay ƒë·∫Øng).", ta: "C√† Ra (Kara) ƒÉn v√†o th·∫•y cay x√®." },
        { k: "Âøô„Åó„ÅÑ", h: "„ÅÑ„Åù„Åå„Åó„ÅÑ", m: "b·∫≠n r·ªôn", ti: "B·ªô T√ÇM (ÂøÑ) + VONG (‰∫°): Tim ch·∫øt l·∫∑ng v√¨ b·∫≠n r·ªôn qu√° m·ª©c l√† MANG.", ta: "I S√¥ G√† (Isoga) b·∫≠n r·ªôn c·∫£ ng√†y." },

        // N3 Tr·ªçng t√¢m (D√≤ng 84 - 106 y√™u c·∫ßu)
        { k: "Ëã¶„Åó„ÅÑ", h: "„Åè„Çã„Åó„ÅÑ", m: "ƒëau kh·ªï, kh√≥ th·ªü", ti: "B·ªô TH·∫¢O (Ëâπ) + C·ªî (Âè§): ƒÇn ph·∫£i c·ªè c≈© h√©o ƒë·∫Øng ng·∫Øt n√™n th·∫•y r·∫•t KH·ªî.", ta: "C·ª© r·ªß si (Kurushii) l√†m chi cho kh·ªï." },
        { k: "ÊÇî„Åó„ÅÑ", h: "„Åè„ÇÑ„Åó„ÅÑ", m: "ti·∫øc nu·ªëi, cay c√∫", ti: "B·ªô T√ÇM (ÂøÑ) + M·ªñI (ÊØé): M·ªói l·∫ßn l√†m sai tr√°i tim l·∫°i th·∫•y H·ªêI ti·∫øc, cay c√∫.", ta: "C·ª© d√£ si (Kuyashii) v√¨ cay c√∫ qu√°." },
        { k: "Êáê„Åã„Åó„ÅÑ", h: "„Å™„Å§„Åã„Åó„ÅÑ", m: "nh·ªõ nhung", ti: "B·ªô T√ÇM (ÂøÑ) + HO√ÄI (Ë§±): Tr√°i tim lu√¥n √¥m ·∫•p k·ª∑ ni·ªám c≈© g·ªçi l√† HO√ÄI ni·ªám.", ta: "N·∫° t·ª± ca si (Natsukashii) nh·ªõ qu√™ x∆∞a." },
        { k: "Áæ®„Åæ„Åó„ÅÑ", h: "„ÅÜ„Çâ„ÇÑ„Åæ„Åó„ÅÑ", m: "ghen t·ªã", ti: "B·ªô D∆Ø∆†NG (Áæä - d√™) + KHI·∫æM (Ê¨†): Th·∫•y d√™ ng∆∞·ªùi kh√°c m√† m√¨nh thi·∫øu n√™n ghen t·ªã.", ta: "U ra da m·∫£ si (Urayamashii) ghen t·ªã." },
        { k: "ÊÅ•„Åö„Åã„Åó„ÅÑ", h: "„ÅØ„Åö„Åã„Åó„ÅÑ", m: "x·∫•u h·ªï", ti: "B·ªô NHƒ® (ËÄ≥) + T√ÇM (ÂøÉ): Tai nghe l·ªùi x·∫•u l√†m tim ƒë·∫≠p lo·∫°n x·∫° l√† S·ªà (x·∫•u h·ªï).", ta: "H√† d·ª± ca si (Hazukashii) th·∫•y x·∫•u h·ªï." },
        { k: "Ê≠£„Åó„ÅÑ", h: "„Åü„Å†„Åó„ÅÑ", m: "ƒë√∫ng ƒë·∫Øn", ti: "B·ªô NH·∫§T (‰∏Ä) + CH·ªà (Ê≠¢): D·ª´ng l·∫°i ƒë√∫ng v·∫°ch s·ªë 1 l√† h√†nh ƒë·ªông CH√çNH x√°c.", ta: "Ta ƒë√£ si (Tadashii) v√†o ƒëi·ªÅu ƒë√∫ng." },
        { k: "Áèç„Åó„ÅÑ", h: "„ÇÅ„Åö„Çâ„Åó„ÅÑ", m: "hi·∫øm, l·∫°", ti: "B·ªô V∆Ø∆†NG (Áéã) + TR√ÇN („ê±): V·∫≠t vua qu√Ω tr·ªçng l√† ƒë·ªì TR√ÇN qu√Ω, c·ª±c k·ª≥ hi·∫øm.", ta: "M√™ d·ª± ra si (Mezurashii) m√≥n ƒë·ªì hi·∫øm." },
        { k: "ÊøÄ„Åó„ÅÑ", h: "„ÅØ„Åí„Åó„ÅÑ", m: "m√£nh li·ªát", ti: "B·ªô TH·ª¶Y (Ê∞µ) + PH√ìNG (Êîæ): D√≤ng n∆∞·ªõc b·∫Øn ra m·∫°nh m·∫Ω g·ªçi l√† K√çCH li·ªát.", ta: "H√† gh√™ si (Hageshii) m√£nh li·ªát qu√° ch·ª´ng." },
        { k: "Âãá„Åæ„Åó„ÅÑ", h: "„ÅÑ„Åï„Åæ„Åó„ÅÑ", m: "d≈©ng c·∫£m", ti: "B·ªô D≈®NG (Âãá): H√¨nh ·∫£nh nam nhi d√πng s·ª©c l·ª±c l√†m vi·ªác nghƒ©a g·ªçi l√† D≈®NG.", ta: "Y xa m√† si (Isamashii) d≈©ng c·∫£m l√™n." },
        { k: "ÊÄ™„Åó„ÅÑ", h: "„ÅÇ„ÇÑ„Åó„ÅÑ", m: "ƒë√°ng nghi", ti: "B·ªô T√ÇM (ÂøÑ) + TH√ÅNH (Âú£): T√¢m linh c·∫£m nh·∫≠n ƒë∆∞·ª£c ƒëi·ªÅu QU√ÅI d·ªã, ƒë√°ng nghi.", ta: "A ya si (Ayashii) ng∆∞·ªùi n√†y ƒë√°ng nghi qu√°." },
        { k: "ÊÅê„Çç„Åó„ÅÑ", h: "„Åä„Åù„Çç„Åó„ÅÑ", m: "ƒë√°ng s·ª£", ti: "B·ªô T√ÇM (ÂøÑ) + KH·ª¶NG (ÊÅê): Tr√°i tim c·∫£m th·∫•y s·ª± kh·ªßng khi·∫øp l√† KH·ª¶NG b·ªë.", ta: "√î x√¥ r√¥ si (Osoroshii) chuy·ªán ƒë√°ng s·ª£." },
        { k: "Ë©≥„Åó„ÅÑ", h: "„Åè„Çè„Åó„ÅÑ", m: "chi ti·∫øt, t∆∞·ªùng t·∫≠n", ti: "B·ªô NG√îN (Ë®Ä) + D∆Ø∆†NG (Áæä): L·ªùi n√≥i chi ti·∫øt nh∆∞ b√≥c t√°ch con d√™ g·ªçi l√† CHI·∫æT.", ta: "C·ª• wa si (Kuwashii) k·ªÉ chuy·ªán t∆∞·ªùng t·∫≠n." },
        { k: "Èô∫„Åó„ÅÑ", h: "„Åë„Çè„Åó„ÅÑ", m: "hi·ªÉm tr·ªü", ti: "B·ªô PH·ª§ (Èòù) + HI·ªÇM (‰Ω•): G√≤ ƒë·∫•t d·ª±ng ƒë·ª©ng g√¢y ra s·ª± nguy HI·ªÇM hi·ªÉm tr·ªü.", ta: "K√™ wa si (Kewashii) con ƒë∆∞·ªùng hi·ªÉm tr·ªü." },
        { k: "Á≠â„Åó„ÅÑ", h: "„Å≤„Å®„Åó„ÅÑ", m: "b·∫±ng nhau", ti: "B·ªô TR√öC (Á´π) + T·ª∞ (ÂØ∫): Thanh tre trong ch√πa ƒë∆∞·ª£c m√†i ƒê·∫≤NG (b·∫±ng nhau).", ta: "Hi t√¥ si (Hitoshii) hai b√™n b·∫±ng nhau." },
        { k: "Ëôö„Åó„ÅÑ", h: "„ÇÄ„Å™„Åó„ÅÑ", m: "tr·ªëng r·ªóng", ti: "B·ªô H·ªî (Ëôç) + KH√ÇU (‰∏ò): Con h·ªï ƒë·ª©ng m·ªôt m√¨nh gi·ªØa ƒë·ªìi hoang th·∫•y H∆Ø v√¥.", ta: "M·ª• n·∫° si (Munashii) tr·ªëng r·ªóng t√¢m h·ªìn." },
        { k: "Áú©„Åó„ÅÑ", h: "„Åæ„Å∂„Åó„ÅÑ", m: "ch√≥i chang", ti: "B·ªô M·ª§C (ÁõÆ) + HUY·ªÑN (ÁéÑ): √Ånh s√°ng huy·ªÅn ·∫£o chi·∫øu v√†o m·∫Øt l√†m ch√≥i l√≤a.", ta: "M√° bu si (Mabushii) n·∫Øng ch√≥i chang." },
        { k: "„Å†„Çâ„Åó„Å™„ÅÑ", h: "„Å†„Çâ„Åó„Å™„ÅÑ", m: "lu·ªôm thu·ªôm", ti: "T·ª´ thu·∫ßn Nh·∫≠t: Di·ªÖn t·∫£ tr·∫°ng th√°i kh√¥ng c√≥ k·ª∑ lu·∫≠t, b·ª´a b√£i.", ta: "ƒê√£ ra si n·∫°i (Darashinai) s·ªëng lu·ªôm thu·ªôm." },
        { k: "Áî≥„ÅóË®≥„Å™„ÅÑ", h: "„ÇÇ„ÅÜ„Åó„Çè„Åë„Å™„ÅÑ", m: "th·∫≠t xin l·ªói", ti: "B·ªô TH√ÇN (Áî≥) + D·ªäCH (Ë®≥): N√≥i ra l√Ω do m√† v·∫´n th·∫•y kh√¥ng th·ªÉ t·∫° l·ªói.", ta: "M√¥i si wa k·ªá n·∫°i (Moushiwakenai)." },
        { k: "Âãø‰Ωì„Å™„ÅÑ", h: "„ÇÇ„Å£„Åü„ÅÑ„Å™„ÅÑ", m: "l√£ng ph√≠", ti: "B·ªô V·∫¨T (Âãø) + TH·ªÇ (‰Ωì): ƒê·ªì v·∫≠t kh√¥ng gi·ªØ ƒë√∫ng h√¨nh th·ªÉ n√™n th·∫≠t l√£ng ph√≠.", ta: "M·ªôt tai n·∫°i (Mottainai) l√£ng ph√≠ qu√°." },
        { k: "‰ªïÊñπ„Åå„Å™„ÅÑ", h: "„Åó„Åã„Åü„Åå„Å™„ÅÑ", m: "ch·ªãu th√¥i, b√≥ tay", ti: "B·ªô Sƒ® (‰ªï) + PH∆Ø∆†NG (Êñπ): Kh√¥ng c√≤n ph∆∞∆°ng c√°ch n√†o ƒë·ªÉ th·ª±c hi·ªán n·ªØa.", ta: "Si ca ta ga n·∫°i (Shikataganai)." },
        { k: "Èã≠„ÅÑ", h: "„Åô„Çã„Å©„ÅÑ", m: "s·∫Øc b√©n", ti: "B·ªô KIM (Èáë) + ƒêO√ÄI (ÂÖë): Kim lo·∫°i ƒë∆∞·ª£c m√†i nh·ªçn ho·∫Øt l√† NHU·ªÜ (s·∫Øc b√©n).", ta: "S∆∞ r·ªß ƒë√¥i (Surudoi) con m·∫Øt s·∫Øc b√©n." },
        { k: "Èàç„ÅÑ", h: "„Å´„Å∂„ÅÑ", m: "c√πn, ch·∫≠m ch·∫°p", ti: "B·ªô KIM (Èáë) + ƒê√îN (Â±Ø): Kim lo·∫°i b·ªã ƒë√® n√©n n√™n tr·ªü n√™n ƒê·ªòN (c√πn).", ta: "Ni bu i (Nibui) ph·∫£n ·ª©ng ch·∫≠m ch·∫°p." },
        { k: "È®í„Åå„Åó„ÅÑ", h: "„Åï„Çè„Åå„Åó„ÅÑ", m: "·ªìn √†o", ti: "B·ªô M√É (È¶¨) + TAO: Ng·ª±a ch·∫°y n√°o lo·∫°n g√¢y n√™n s·ª± TAO ƒë·ªông ·ªìn √†o.", ta: "Sa wa g√† si (Sawagashii) n∆°i n√†y ·ªìn qu√°." },
        { k: "Ê∑±„ÅÑ", h: "„Åµ„Åã„ÅÑ", m: "s√¢u", ti: "B·ªô TH·ª¶Y (Ê∞µ) + TH√ÇM (ÁΩô): D√≤ng n∆∞·ªõc ch·∫£y s√¢u trong hang t·ªëi l√† TH√ÇM.", ta: "Ph√π ca i (Fukai) n∆∞·ªõc s√¢u thƒÉm th·∫≥m." },
        { k: "Áóí„ÅÑ", h: "„Åã„ÇÜ„ÅÑ", m: "ng·ª©a", ti: "B·ªô N·∫†CH (Áñí - b·ªánh) + D∆Ø∆†NG (Áæä): CƒÉn b·ªánh g√¢y ra s·ª± ng·ª©a ng√°y (D∆Ø∆†NG).", ta: "C√† yu i (Kayui) th·∫•y ng·ª©a ng√°y." },
{ k: "Â•Ω„Åç", h: "„Åô„Åç", m: "th√≠ch", ti: "B·ªô N·ªÆ (Â•≥) + T·ª¨ (Â≠ê): Ng∆∞·ªùi ph·ª• n·ªØ y√™u th∆∞∆°ng con m√¨nh l√† H·∫¢O (th√≠ch).", ta: "Su Ki (Suki) th√≠ch ƒÉn su kem." },
        { k: "Â´å„ÅÑ", h: "„Åç„Çâ„ÅÑ", m: "gh√©t", ti: "B·ªô N·ªÆ (Â•≥) + KI√äM (ÂÖº): Ph·ª• n·ªØ ki√™m qu√° nhi·ªÅu vi·ªác n√™n n·∫£y sinh HI·ªÄM gh√©t.", ta: "K√¨ L·∫° (Kirai) sao ai c≈©ng gh√©t." },
        { k: "‰∏äÊâã", h: "„Åò„Çá„ÅÜ„Åö", m: "gi·ªèi", ti: "B·ªô TH∆Ø·ª¢NG (‰∏ä) + TH·ª¶ (Êâã): Tay ƒë∆∞a l√™n cao th·ªÉ hi·ªán s·ª± gi·ªèi giang.", ta: "D√¥ D·ª± (Jouzu) ƒëi thi v√¨ m√¨nh gi·ªèi." },
        { k: "‰∏ãÊâã", h: "„Å∏„Åü", m: "k√©m", ti: "B·ªô H·∫† (‰∏ã) + TH·ª¶ (Êâã): Tay ƒë·∫∑t ph√≠a d∆∞·ªõi l√† k·ªπ nƒÉng y·∫øu k√©m.", ta: "H√©t Ta (Heta) v√¨ l√†m qu√° k√©m." },
        { k: "„Åç„Çå„ÅÑ", h: "„Åç„Çå„ÅÑ", m: "ƒë·∫πp, s·∫°ch", ti: "B·ªô K·ª≤ (Â•á) + L·ªÜ (È∫ó): S·ª± k·ª≥ l·∫° di·ªÖm l·ªá c·ªßa con h∆∞∆°u t·∫°o n√™n v·∫ª ƒë·∫πp.", ta: "K√¨ R√™ (Kirei) nh√¨n ƒë·∫πp qu√°." },
        { k: "Ë≥ë„ÇÑ„Åã", h: "„Å´„Åé„ÇÑ„Åã", m: "n√°o nhi·ªát", ti: "B·ªô PH·ª§ (Ë≤ù) + TH·∫¶N (Ëæ∞): C√≥ ti·ªÅn v√†o ng√†y r·ªìng th√¨ ch·ª£ r·∫•t n√°o nhi·ªát.", ta: "Nghi G√¨ (Nigi) m√† ·ªìn √†o n√°o nhi·ªát th·∫ø." },
        { k: "Èùô„Åã", h: "„Åó„Åö„Åã", m: "y√™n tƒ©nh", ti: "B·ªô THANH (Èùí) + TRANH (‰∫â): Sau khi tranh ƒë·∫•u xong l√† s·ª± Tƒ®NH l·∫∑ng.", ta: "Si D∆∞ C·∫£ (Shizuka) kh√¥ng gian y√™n tƒ©nh." },
        { k: "‰æøÂà©", h: "„Åπ„Çì„Çä", m: "ti·ªán l·ª£i", ti: "B·ªô NH√ÇN (‰∫ª) + TI·ªÜN (Êõ¥) + L·ª¢I (Âà©): Ng∆∞·ªùi d√πng dao g·∫∑t l√∫a r·∫•t TI·ªÜN L·ª¢I.", ta: "B·ªÅn B·ªâ (Benri) v√† ti·ªán l·ª£i." },
        { k: "‰∏ç‰æø", h: "„Åµ„Åπ„Çì", m: "b·∫•t ti·ªán", ti: "B·ªô B·∫§T (‰∏ç) + TI·ªÜN (‰æø): Kh√¥ng c√≥ s·ª± ti·ªán l·ª£i ch√≠nh l√† b·∫•t ti·ªán.", ta: "Ph√π B·ªÅn (Fuben) d√πng th·∫≠t b·∫•t ti·ªán." },
        { k: "Êöá", h: "„Å≤„Åæ", m: "r·∫£nh r·ªói", ti: "B·ªô NH·∫¨T (Êó•) + H·∫† (Âè∫): M∆∞·ª£n th·ªùi gian trong ng√†y ƒë·ªÉ ngh·ªâ ng∆°i r·∫£nh r·ªói.", ta: "Hi Ma (Hima) r·∫£nh ƒëi ch∆°i v·ªõi ma." },
        { k: "Ë¶™Âàá", h: "„Åó„Çì„Åõ„Å§", m: "t·ªët b·ª•ng", ti: "B·ªô TH√ÇN (Ë¶™) + THI·∫æT (Âàá): Th√¢n thi·∫øt ƒë·∫øn m·ª©c s·∫µn l√≤ng chia c·∫Øt v√¨ nhau.", ta: "Xin S·∫øp (Shinsetsu) cho ng∆∞·ªùi t·ªët b·ª•ng." },
        { k: "ÊúâÂêç", h: "„ÇÜ„ÅÜ„ÇÅ„ÅÑ", m: "n·ªïi ti·∫øng", ti: "B·ªô H·ªÆU (Êúâ) + DANH (Âêç): C√≥ c√°i danh ti·∫øng ƒë∆∞·ª£c mu√¥n n∆°i bi·∫øt ƒë·∫øn.", ta: "Yu M√™ (Yuumei) theo ng∆∞·ªùi n·ªïi ti·∫øng." },
        { k: "Â§ßÂàá", h: "„Åü„ÅÑ„Åõ„Å§", m: "quan tr·ªçng", ti: "B·ªô ƒê·∫†I (Â§ß) + THI·∫æT (Âàá): Vi·ªác c·∫Øt m·ªôt mi·∫øng l·ªõn th·ªÉ hi·ªán s·ª± ƒê·∫†I THI·∫æT.", ta: "Tai S√©t (Taisetsu) ƒë√°nh v√†o v·∫≠t quan tr·ªçng." },
        { k: "Â§ß‰∏àÂ§´", h: "„Å†„ÅÑ„Åò„Çá„ÅÜ„Å∂", m: "·ªïn, kh√¥ng sao", ti: "ƒê·∫†I TR∆Ø·ª¢NG PHU (‰∏àÂ§´): Ng∆∞·ªùi qu√¢n t·ª≠ lu√¥n gi·ªØ ƒë∆∞·ª£c tr·∫°ng th√°i ·ªïn.", ta: "ƒêai D√¥ B·ª± (Daijoubu) m·ªçi vi·ªác ƒë·ªÅu ·ªïn." },

        // N3 Tr·ªçng t√¢m
        { k: "Á©è„ÇÑ„Åã", h: "„Åä„Å†„ÇÑ„Åã", m: "√¥n h√≤a, ƒëi·ªÅm tƒ©nh", ti: "B·ªô H√íA (Á¶æ) + ·∫®N (Èö†): C√¢y l√∫a ·∫©n m√¨nh trong gi√≥ nh·∫π l√† ·ªîN ƒë·ªãnh.", ta: "√î ƒë√£ ya ca (Odayaka) ng∆∞·ªùi √¥n h√≤a." },
        { k: "ÁàΩ„ÇÑ„Åã", h: "„Åï„Çè„ÇÑ„Åã", m: "s·∫£ng kho√°i", ti: "B·ªô H√ÄO (Áàª) + ƒê·∫†I (Â§ß): Ng∆∞·ªùi dang tay ƒë√≥n nh·ªØng n√©t gi√≥ ƒëan xen s·∫£ng kho√°i.", ta: "Sa wa ya ca (Sawayaka) tr·ªùi s·∫£ng kho√°i." },
        { k: "Ë§áÈõë", h: "„Åµ„Åè„Åñ„Å§", m: "ph·ª©c t·∫°p", ti: "B·ªô PH·ª®C (Ë§á) + T·∫†P (Èõë): √Åo nhi·ªÅu l·ªõp k·∫øt h·ª£p pha tr·ªôn nhi·ªÅu th√†nh ph·∫ßn.", ta: "Ph√π c∆∞ da t·ª± (Fukuzatsu) th·∫≠t ph·ª©c t·∫°p." },
        { k: "Ë≤¥Èáç", h: "„Åç„Å°„Çá„ÅÜ", m: "qu√Ω gi√°", ti: "B·ªô QU√ù (Ë≤ù) + TR·ªåNG (Èáç): Ti·ªÅn b·∫°c mang s·ª©c n·∫∑ng l√† v·∫≠t QU√ù TR·ªåNG.", ta: "K√¨ ch√¥ (Kichou) m√≥n ƒë·ªì qu√Ω gi√°." },
        { k: "ÈÇ™È≠î", h: "„Åò„ÇÉ„Åæ", m: "c·∫£n tr·ªü, phi·ªÅn h√†", ti: "B·ªô T√Ä (ÈÇ™) + MA (È≠î): S·ª± t√† √°c c·ªßa con ma ƒëi c·∫£n tr·ªü ng∆∞·ªùi kh√°c.", ta: "D√† m√† (Jama) th√¥i c·∫£n tr·ªü ƒëi." },
        { k: "Âø´ÈÅ©", h: "„Åã„ÅÑ„Å¶„Åç", m: "tho·∫£i m√°i", ti: "B·ªô KHO√ÅI (Âø´) + TH√çCH (ÈÅ©): T√¢m h·ªìn vui v·∫ª g·∫∑p ƒë∆∞·ª£c ƒëi·ªÅu v·ª´a √Ω.", ta: "C·∫£i t√™ k√¨ (Kaiteki) s·ªëng tho·∫£i m√°i." },
        { k: "Âπ∏Á¶è", h: "„Åì„ÅÜ„Åµ„Åè", m: "h·∫°nh ph√∫c", ti: "B·ªô H·∫†NH (Âπ∏) + PH√öC (Á¶è): G·∫∑p may m·∫Øn v√† nh·ªØng ƒëi·ªÅu t·ªët l√†nh (PH√öC).", ta: "C√¥ ph√π c∆∞ (Koufuku) ƒë·ªùi h·∫°nh ph√∫c." },
        { k: "Ê∑±Âàª", h: "„Åó„Çì„Åì„Åè", m: "nghi√™m tr·ªçng", ti: "B·ªô TH√ÇM (Ê∑±) + KH·∫ÆC (Âàª): V·∫øt kh·∫Øc s√¢u v√†o s·ª± vi·ªác l√† ƒëi·ªÅu nghi√™m tr·ªçng.", ta: "Sin c√¥ c∆∞ (Shinkoku) v·∫•n ƒë·ªÅ nghi√™m tr·ªçng." },
        { k: "Ë±äÂØå", h: "„Åª„ÅÜ„Åµ", m: "phong ph√∫", ti: "B·ªô PHONG (Ë±ä) + PH√ö (ÂØå): S·ª± d·ªìi d√†o v√† gi√†u c√≥ v·ªÅ m·ªçi m·∫∑t.", ta: "H√¥ ph√π (Houfu) t√†i li·ªáu phong ph√∫." },
        { k: "ÈÅ©ÂΩì", h: "„Å¶„Åç„Å®„ÅÜ", m: "qua loa, ph√π h·ª£p", ti: "B·ªô TH√çCH (ÈÅ©) + ƒê∆Ø∆†NG (ÂΩì): L√†m cho v·ª´a ƒë√∫ng l√∫c r·ªìi b·ªè m·∫∑c qua loa.", ta: "T√™ ki t√¥ (Tekitou) l√†m vi·ªác qua loa." },
        { k: "Áã¨Áâπ", h: "„Å©„Åè„Å®„Åè", m: "ƒë·ªôc ƒë√°o", ti: "B·ªô ƒê·ªòC (Áã¨) + ƒê·∫∂C (Áâπ): Ch·ªâ c√≥ duy nh·∫•t m·ªôt ƒë·∫∑c ƒëi·ªÉm ri√™ng bi·ªát ƒë·ªôc ƒë√°o.", ta: "ƒê·ªôc t√¥ c∆∞ (Dokutoku) phong c√°ch ƒë·ªôc ƒë√°o." },
        { k: "ÊÆãÂøµ", h: "„Åñ„Çì„Å≠„Çì", m: "ƒë√°ng ti·∫øc", ti: "B·ªô T√ÄN (ÊÆã) + NI·ªÜM (Âøµ): Suy nghƒ© v·ªÅ nh·ªØng g√¨ c√≤n s√≥t l·∫°i m√† ch∆∞a l√†m ƒë∆∞·ª£c.", ta: "Dan n√®n (Zannen) th·∫≠t l√† ƒë√°ng ti·∫øc." },
        { k: "Ê∞óËªΩ", h: "„Åç„Åå„Çã", m: "tho·∫£i m√°i, ƒë·ª´ng ng·∫°i", ti: "B·ªô KH√ç (Ê∞ó) + KHINH (ËªΩ): Lu·ªìng h∆°i trong ng∆∞·ªùi th·∫•y nh·∫π nh√†ng kh√¥ng v∆∞·ªõng b·∫≠n.", ta: "K√¨ ga r∆∞ (Kigaru) c·ª© tho·∫£i m√°i nh√©." },
        { k: "Áõõ„Çì", h: "„Åï„Åã„Çì", m: "th·ªãnh h√†nh", ti: "B·ªô TH√ÄNH (Êàê) + M√ÉNH (Áöø): Th√†nh qu·∫£ ƒë·∫ßy ·∫Øp tr√™n ƒëƒ©a l√† TH·ªäNH h√†nh.", ta: "Sa can (Sakan) tr√†o l∆∞u th·ªãnh h√†nh." },
        { k: "Ë¶ã‰∫ã", h: "„Åø„Åî„Å®", m: "tuy·ªát v·ªùi, ƒë·∫πp m·∫Øt", ti: "B·ªô KI·∫æN (Ë¶ã) + S·ª∞ (‰∫ã): M·ªôt s·ª± vi·ªác ƒë√°ng ƒë·ªÉ nh√¨n ng·∫Øm v√† ng∆∞·ª°ng m·ªô.", ta: "Mi g√¥ t√¥ (Migoto) c·∫£nh s·∫Øc tuy·ªát v·ªùi." },
        { k: "ÊÑèÂú∞ÊÇ™", h: "„ÅÑ„Åò„Çè„Çã", m: "x·∫•u t√≠nh", ti: "B·ªô √ù (ÊÑè) + ƒê·ªäA (Âú∞) + √ÅC: T√¢m ƒë·ªãa ch·∫•t ch·ª©a nh·ªØng √Ω ƒë·ªãnh x·∫•u xa.", ta: "Y di wa r∆∞ (Ijiwaru) ƒë·ª©a tr·∫ª x·∫•u t√≠nh." },
        { k: "‰∏äÂìÅ", h: "„Åò„Çá„ÅÜ„Å≤„Çì", m: "qu√Ω ph√°i", ti: "B·ªô TH∆Ø·ª¢NG (‰∏ä) + PH·∫®M (ÂìÅ): ƒê·ªì v·∫≠t ho·∫∑c phong th√°i ·ªü ƒë·∫≥ng c·∫•p cao.", ta: "D√¥ hin (Jouhin) d√°ng v·∫ª qu√Ω ph√°i." },
        { k: "‰∏ãÂìÅ", h: "„Åí„Å≤„Çì", m: "th√¥ t·ª•c", ti: "B·ªô H·∫† (‰∏ã) + PH·∫®M (ÂìÅ): ƒê·ªì v·∫≠t ho·∫∑c phong th√°i ·ªü ƒë·∫≥ng c·∫•p th·∫•p h√®n.", ta: "G√™ hin (Gehin) l·ªùi l·∫Ω th√¥ t·ª•c." },
        { k: "‰∏çÊÄùË≠∞", h: "„Åµ„Åó„Åé", m: "k·ª≥ l·∫°", ti: "B·ªô B·∫§T (‰∏ç) + T∆Ø (ÊÄù) + NGH·ªä (Ë≠∞): Kh√¥ng th·ªÉ d√πng t∆∞ duy b√¨nh th∆∞·ªùng ƒë·ªÉ b√†n lu·∫≠n.", ta: "Ph√π si ghi (Fushigi) hi·ªán t∆∞·ª£ng k·ª≥ l·∫°." },
        { k: "‰∏çÂÆâ", h: "„Åµ„ÅÇ„Çì", m: "lo l·∫Øng", ti: "B·ªô B·∫§T (‰∏ç) + AN (ÂÆâ): Kh√¥ng t√¨m th·∫•y s·ª± an t√¢m, b√¨nh an trong l√≤ng.", ta: "Ph√π an (Fuan) th·∫•y lo l·∫Øng qu√°." },
        { k: "Â§¢‰∏≠", h: "„ÇÄ„Å°„ÇÖ„ÅÜ", m: "say m√™", ti: "B·ªô M·ªòNG (Â§¢) + TRUNG (‰∏≠): ƒêang ch√¨m ƒë·∫Øm ·ªü trong c∆°n m∆° say ƒë·∫Øm.", ta: "M·ª• ch√π (Muchuu) say m√™ ƒë·ªçc s√°ch." },
        { k: "ÂæóÊÑè", h: "„Å®„Åè„ÅÑ", m: "gi·ªèi, s·ªü tr∆∞·ªùng", ti: "B·ªô ƒê·∫ÆC (Âæó) + √ù (ÊÑè): ƒê·∫°t ƒë∆∞·ª£c √Ω nguy·ªán v√† s·ª± t·ª± tin trong lƒ©nh v·ª±c ƒë√≥.", ta: "T√¥ c∆∞ i (Tokui) s·ªü tr∆∞·ªùng c·ªßa t√¥i." },
        { k: "Ëã¶Êâã", h: "„Å´„Åå„Å¶", m: "k√©m, s·ªü ƒëo·∫£n", ti: "B·ªô KH·ªî (Ëã¶) + TH·ª¶ (Êâã): C√°i tay l√†m vi·ªác th·∫•y ƒë·∫Øng cay kh·ªï s·ªü v√¨ k√©m c·ªèi.", ta: "Ni ga t√™ (Nigate) m√¥n to√°n l√† s·ªü ƒëo·∫£n." },
        { k: "ÈÄÄÂ±à", h: "„Åü„ÅÑ„Åè„Å§", m: "ch√°n ng·∫Øt", ti: "B·ªô THO√ÅI (ÈÄÄ) + KHU·∫§T (Â±à): Mu·ªën l√πi b∆∞·ªõc v√† co r√∫m ng∆∞·ªùi l·∫°i v√¨ ch√°n n·∫£n.", ta: "Tai c∆∞ t·ª± (Taikutsu) c√¥ng vi·ªác ch√°n ng·∫Øt." },
        { k: "‰∏ÅÂØß", h: "„Å¶„ÅÑ„Å≠„ÅÑ", m: "l·ªãch s·ª±", ti: "B·ªô ƒêINH (‰∏Å) + NINH (ÂØß): C·∫©n th·∫≠n v√† y√™n ·ªïn trong t·ª´ng h√†nh ƒë·ªông nh·ªè nh·∫•t.", ta: "T√™ n√™ i (Teinei) c√°ch n√≥i l·ªãch s·ª±." }

        ];

    
        const specificAdjExamples = {
            "Â§ß„Åç„ÅÑ": { dict: { ex: "ÂΩº„ÅØÂ§ß„Åç„Å™Â§¢„ÇíÊåÅ„Å£„Å¶„ÅÑ„Çã„ÄÇ", romaji: "Kare wa ookina yume o motte iru.", mean: "Anh ·∫•y mang m·ªôt gi·∫•c m∆° l·ªõn." }, polite: { ex: "„Åì„ÅÆÈù¥„ÅØÂ∞ë„ÅóÂ§ß„Åç„ÅÑ„Åß„Åô„ÄÇ", romaji: "Kono kutsu wa sukoshi ookii desu.", mean: "ƒê√¥i gi√†y n√†y h∆°i r·ªông (to)." }, neg: { ex: "„Åù„Çå„Åª„Å©Â§ß„Åç„Åè„Å™„ÅÑ„Åß„Åô„ÄÇ", romaji: "Sorehodo ookikunai desu.", mean: "N√≥ kh√¥ng to ƒë·∫øn m·ª©c ƒë√≥ ƒë√¢u." }, past: { ex: "Êòî„ÄÅ„Åì„ÅÆÊú®„ÅØ„ÇÇ„Å£„Å®Â§ß„Åç„Åã„Å£„Åü„ÄÇ", romaji: "Mukashi, kono ki wa motto ookikatta.", mean: "Ng√†y x∆∞a c√°i c√¢y n√†y to h∆°n nhi·ªÅu." }, te: { ex: "Èü≥„ÅåÂ§ß„Åç„Åè„Å¶„ÄÅÁú†„Çå„Å™„ÅÑ„ÄÇ", romaji: "Oto ga ookikute, nemurenai.", mean: "Ti·∫øng ·ªìn l·ªõn qu√° kh√¥ng ng·ªß ƒë∆∞·ª£c." }, adv: { ex: "Â≠ê‰æõ„ÅåÂ§ß„Åç„ÅèËÇ≤„Å£„Åü„ÄÇ", romaji: "Kodomo ga ookiku sodatta.", mean: "ƒê·ª©a tr·∫ª ƒë√£ l·ªõn kh√¥n." }, noun: { ex: "Â§ß„Åç„ÅÑ„Éü„Çπ„Çí„Åó„Åü„ÄÇ", romaji: "Ookii misu o shita.", mean: "T√¥i ƒë√£ m·∫Øc m·ªôt l·ªói l·ªõn." } },
            "È´ò„ÅÑ": { dict: { ex: "ÂØåÂ£´Â±±„ÅØÊó•Êú¨„Åß‰∏ÄÁï™È´ò„ÅÑ„ÄÇ", romaji: "Fuji-san wa Nihon de ichiban takai.", mean: "N√∫i Ph√∫ Sƒ© cao nh·∫•t Nh·∫≠t B·∫£n." }, polite: { ex: "Áâ©‰æ°„ÅåÈ´ò„ÅÑ„Åß„Åô„Å≠„ÄÇ", romaji: "Bukka ga takai desu ne.", mean: "V·∫≠t gi√° ƒë·∫Øt ƒë·ªè nh·ªâ." }, neg: { ex: "Áµ¶Êñô„ÅØ„Åù„Çì„Å™„Å´È´ò„Åè„Å™„ÅÑ„ÄÇ", romaji: "Ky≈´ry≈ç wa sonnani takakunai.", mean: "L∆∞∆°ng kh√¥ng cao ƒë·∫øn th·∫ø." }, past: { ex: "ÂÖàÈÄ±„ÅÆÈáéËèú„ÅØÈ´ò„Åã„Å£„Åü„ÄÇ", romaji: "Sensh≈´ no yasai wa takakatta.", mean: "Rau tu·∫ßn tr∆∞·ªõc ƒë·∫Øt l·∫Øm." }, te: { ex: "ÂÄ§ÊÆµ„ÅåÈ´ò„Åè„Å¶„ÄÅË≤∑„Åà„Åæ„Åõ„Çì„ÄÇ", romaji: "Nedan ga takakute, kaemasen.", mean: "Gi√° ƒë·∫Øt qu√°, t√¥i kh√¥ng th·ªÉ mua." }, adv: { ex: "„ÇÇ„Å£„Å®È´ò„ÅèÈ£õ„Å≥„Åü„ÅÑ„ÄÇ", romaji: "Motto takaku tobitai.", mean: "T√¥i mu·ªën bay cao h∆°n n·ªØa." }, noun: { ex: "È´ò„ÅÑ„Éì„É´„Åå‰∏¶„Çì„Åß„ÅÑ„Çã„ÄÇ", romaji: "Takai biru ga narande iru.", mean: "Nh·ªØng t√≤a nh√† cao t·∫ßng x·∫øp h√†ng san s√°t." } },
            // ... (Includes all examples from previous version) ...
            "Âøô„Åó„ÅÑ": { dict: { ex: "Áå´„ÅÆÊâã„ÇÇÂÄü„Çä„Åü„ÅÑ„Åª„Å©Âøô„Åó„ÅÑ„ÄÇ", romaji: "Neko no te mo karitai hodo isogashii.", mean: "B·∫≠n t·ªëi m·∫Øt t·ªëi m≈©i." }, polite: { ex: "ÊúÄËøë„ÄÅ‰ªï‰∫ã„ÅåÂøô„Åó„ÅÑ„Åß„Åô„ÄÇ", romaji: "Saikin, shigoto ga isogashii desu.", mean: "D·∫°o n√†y c√¥ng vi·ªác b·∫≠n r·ªôn." }, neg: { ex: "ÊòéÊó•„ÅØÂøô„Åó„Åè„Å™„ÅÑ„Çà„ÄÇ", romaji: "Ashita wa isogashikunai yo.", mean: "Mai t√¥i kh√¥ng b·∫≠n ƒë√¢u." }, past: { ex: "ÂÖàÊúà„ÅØÁõÆ„ÅåÂõû„Çã„Åª„Å©Âøô„Åó„Åã„Å£„Åü„ÄÇ", romaji: "Sengetsu wa me ga mawaru hodo isogashikatta.", mean: "Th√°ng tr∆∞·ªõc b·∫≠n ch√≥ng c·∫£ m·∫∑t." }, te: { ex: "Âøô„Åó„Åè„Å¶„ÄÅÊòº„Åî„ÅØ„Çì„ÇíÈ£ü„Åπ„ÇãÊôÇÈñì„ÇÇ„Å™„ÅÑ„ÄÇ", romaji: "Isogashikute, hirugohan o taberu jikan mo nai.", mean: "B·∫≠n qu√° ƒë·∫øn m·ª©c kh√¥ng c√≥ th·ªùi gian ƒÉn tr∆∞a." }, adv: { ex: "ÊØéÊó•Âøô„Åó„ÅèÂÉç„ÅÑ„Å¶„ÅÑ„Çã„ÄÇ", romaji: "Mainichi isogashiku hataraite iru.", mean: "Ng√†y n√†o c≈©ng l√†m vi·ªác b·∫≠n r·ªôn." }, noun: { ex: "Âøô„Åó„ÅÑÁîüÊ¥ª„ÇíÈÄÅ„Çã„ÄÇ", romaji: "Isogashii seikatsu o okuru.", mean: "S·ªëng m·ªôt cu·ªôc s·ªëng b·∫≠n r·ªôn." } }
        };

        // --- CONJUGATION ENGINE ---
        function conjugate(word) {
            let h = word.h, type = word.t;
            let f = { dict: h, polite: "", neg: "", past: "", te: "", adv: "", noun: "" };
            
            if (type === "i" || type === "ii") {
                let stem = h.slice(0, -1);
                if (type === "ii") stem = "„Çà";
                f.polite = h + "„Åß„Åô"; f.neg = stem + "„Åè„Å™„ÅÑ„Åß„Åô"; f.past = stem + "„Åã„Å£„Åü„Åß„Åô"; f.te = stem + "„Åè„Å¶"; f.adv = stem + "„Åè"; f.noun = h + " + N";
                if (type === "ii") f.dict = "„ÅÑ„ÅÑ („Çà„ÅÑ)";
            } else if (type === "na") {
                f.polite = h + "„Åß„Åô"; f.neg = h + "„Åò„ÇÉ„Å™„ÅÑ„Åß„Åô"; f.past = h + "„Åß„Åó„Åü"; f.te = h + "„Åß"; f.adv = h + "„Å´"; f.noun = h + "„Å™ + N";
            }
            return f;
        }

        function getExamples(word, forms) {
            const specific = specificAdjExamples[word.k];
            if (specific) {
                return [
                    { f: forms.dict, j: specific.dict.ex, r: specific.dict.romaji, v: specific.dict.mean },
                    { f: forms.polite, j: specific.polite.ex, r: specific.polite.romaji, v: specific.polite.mean },
                    { f: forms.neg, j: specific.neg.ex, r: specific.neg.romaji, v: specific.neg.mean },
                    { f: forms.past, j: specific.past.ex, r: specific.past.romaji, v: specific.past.mean },
                    { f: forms.te, j: specific.te.ex, r: specific.te.romaji, v: specific.te.mean },
                    { f: forms.adv, j: specific.adv.ex, r: specific.adv.romaji, v: specific.adv.mean },
                    { f: forms.noun, j: specific.noun.ex, r: specific.noun.romaji, v: specific.noun.mean }
                ];
            }
            let j_ex = "", v_ex = "";
            if (word.t === "i" || word.t === "ii") { j_ex = `„Åì„ÅÆÊñôÁêÜ„ÅØ${word.k}„Åß„Åô„ÄÇ`; v_ex = `M√≥n n√†y ${word.m}.`; } 
            else { j_ex = `ÂΩº„ÅØ${word.k}„Åß„Åô„ÄÇ`; v_ex = `Anh ·∫•y ${word.m}.`; }
            return [
                { f: forms.dict, j: `${word.k}„ÄÇ`, r: `${word.h}.`, v: `(T·ª´ ƒëi·ªÉn) ${word.m}.` },
                { f: forms.polite, j: j_ex, r: `... ${forms.polite}`, v: `(L·ªãch s·ª±) ...` },
                { f: forms.neg, j: `ÂÖ®ÁÑ∂${forms.neg}`, r: `Zenzen ${forms.neg}`, v: `Ho√†n to√†n kh√¥ng ${word.m}.` },
                { f: forms.past, j: `Êòî„ÅØ${forms.past}`, r: `Mukashi wa ${forms.past}`, v: `Ng√†y x∆∞a ƒë√£ ${word.m}.` },
                { f: forms.te, j: `${forms.te}„ÄÅ„ÅÑ„ÅÑ„Åß„Åô„Å≠„ÄÇ`, r: `${forms.te}, ii desu ne.`, v: `${word.m} n√™n t·ªët nh·ªâ.` },
                { f: forms.adv, j: `${forms.adv}„Å™„Çä„Åæ„Åó„Åü„ÄÇ`, r: `${forms.adv} narimashita.`, v: `ƒê√£ tr·ªü n√™n ${word.m}.` },
                { f: forms.noun, j: `${forms.noun.split('+')[0]}‰∫∫„ÄÇ`, r: `... hito.`, v: `Ng∆∞·ªùi ${word.m} (B·ªï nghƒ©a).` }
            ];
        }

        // --- APP LOGIC ---
        let allWords = [];
        const colorMap = { blue: "bg-blue-100 border-blue-400 text-blue-800", green: "bg-green-100 border-green-400 text-green-800", yellow: "bg-yellow-100 border-yellow-400 text-yellow-800", orange: "bg-orange-100 border-orange-400 text-orange-800", teal: "bg-teal-100 border-teal-400 text-teal-800", pink: "bg-pink-100 border-pink-400 text-pink-800", indigo: "bg-indigo-100 border-indigo-400 text-indigo-800", purple: "bg-purple-100 border-purple-400 text-purple-800", gray: "bg-gray-100 border-gray-400 text-gray-800" };
        const btnColorMap = { blue: "bg-blue-500 hover:bg-blue-600", green: "bg-green-500 hover:bg-green-600", yellow: "bg-yellow-500 hover:bg-yellow-600", orange: "bg-orange-500 hover:bg-orange-600", teal: "bg-teal-500 hover:bg-teal-600", pink: "bg-pink-500 hover:bg-pink-600", indigo: "bg-indigo-500 hover:bg-indigo-600", purple: "bg-purple-500 hover:bg-purple-600", gray: "bg-gray-500 hover:bg-gray-600" };

        function renderContent() {
            const container = document.getElementById("content-area");
            container.innerHTML = "";
            groupsConfig.forEach(group => {
                const groupDiv = document.createElement("div");
                groupDiv.className = "bg-white rounded-lg shadow-md overflow-hidden mb-8";
                groupDiv.innerHTML = `<div class="${colorMap[group.color]} px-6 py-4 border-l-8 font-bold text-xl flex justify-between items-center"><span>${group.title}</span></div>`;
                const grid = document.createElement("div");
                grid.className = "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6";
                group.ids.forEach(kanji => {
                    const word = adjectives.find(w => w.k === kanji);
                    if(!word) return;
                    allWords.push(word);
                    const wordStr = encodeURIComponent(JSON.stringify(word));
                    const typeBadge = word.t === 'i' || word.t === 'ii' ? '<span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full mr-2">ƒêu√¥i i</span>' : '<span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full mr-2">ƒêu√¥i na</span>';
                    const card = document.createElement("div");
                    card.className = "border border-gray-200 rounded-xl p-4 hover:shadow-lg transition duration-200 bg-white flex flex-col relative group";
                    card.innerHTML = `
                        <div class="flex justify-between items-start mb-3 border-b border-gray-100 pb-2">
                            <div>
                                <div class="text-3xl kanji-font font-bold text-green-600 cursor-pointer hover:text-green-500 transition" onclick="showStrokeOrder('${word.k}')" title="B·∫•m ƒë·ªÉ t·∫≠p vi·∫øt">${word.k}</div>
                                <button onclick="showStrokeOrder('${word.k}')" class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded hover:bg-green-200 mt-1 mb-1 transition"><i class="fas fa-pen-nib mr-1"></i> T·∫≠p vi·∫øt</button>
                                <div class="text-sm text-gray-500 font-bold">${word.h}</div>
                            </div>
                            <div class="flex space-x-2">
                                <button onclick="openModal('${wordStr}')" class="bg-gray-100 hover:bg-green-100 text-green-600 p-2 rounded-full w-10 h-10 flex items-center justify-center shadow-sm transition"><i class="fas fa-list-ul"></i></button>
                                <button onclick="speak('${word.k}', '${word.h}')" class="${btnColorMap[group.color]} text-white p-2 rounded-full w-10 h-10 flex items-center justify-center shadow-md focus:outline-none transform active:scale-95 transition"><i class="fas fa-volume-up"></i></button>
                            </div>
                        </div>
                        <div class="mb-2 flex items-center">${typeBadge}<span class="font-bold text-green-700 text-lg">${word.m}</span></div>
                        <div class="mt-auto bg-green-50 rounded-lg p-3 text-sm space-y-2">
                            <div class="text-gray-700 leading-snug"><span class="font-semibold text-gray-900">üñºÔ∏è H√¨nh:</span> ${word.ti.replace(/\*\*(.*?)\*\*/g, '<span class="text-red-600 font-bold">$1</span>')}</div>
                            <div class="text-gray-700 leading-snug border-t border-green-200 pt-2 mt-2"><span class="font-semibold text-gray-900">üîä √Çm:</span> ${word.ta.replace(/\*\*(.*?)\*\*/g, '<span class="text-blue-600 font-bold">$1</span>')}</div>
                        </div>
                    `;
                    grid.appendChild(card);
                });
                groupDiv.appendChild(grid);
                container.appendChild(groupDiv);
            });
        }

        // --- STROKE ORDER LOGIC ---
        function getKanjiHex(kanji) {
            return kanji.charCodeAt(0).toString(16).padStart(5, '0');
        }

        async function fetchKanjiSvg(hex) {
            const url = `https://cdn.jsdelivr.net/gh/KanjiVG/kanjivg/kanji/${hex}.svg`;
            try {
                const response = await fetch(url);
                if (!response.ok) throw new Error('Not found');
                return await response.text();
            } catch (e) {
                console.error("Error fetching SVG:", e);
                return null;
            }
        }

        async function showStrokeOrder(kanji) {
            const hex = getKanjiHex(kanji);
            const svgContent = await fetchKanjiSvg(hex);
            
            // Create modal if it doesn't exist (reusing structure from previous examples)
            let modal = document.getElementById('stroke-modal');
            if (!modal) {
                // Create modal dynamically if not present in HTML body
                const modalHtml = `
                <div id="stroke-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
                    <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
                        <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeStrokeModal()"></div>
                        <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full modal-enter relative">
                            <div class="bg-green-600 px-4 py-3 flex justify-between items-center text-white">
                                <h3 class="font-bold text-lg"><i class="fas fa-pen-nib mr-2"></i>T·∫≠p Vi·∫øt Kanji: <span id="stroke-modal-char" class="text-2xl ml-2"></span></h3>
                                <button onclick="closeStrokeModal()" class="hover:text-gray-200"><i class="fas fa-times text-xl"></i></button>
                            </div>
                            <div class="p-6 bg-gray-50 max-h-[80vh] overflow-y-auto">
                                <div class="flex flex-col md:flex-row gap-8 items-start justify-center">
                                    <div class="bg-white p-4 rounded-lg shadow border border-gray-200 text-center">
                                        <p class="text-sm text-gray-500 mb-2 font-bold uppercase">M√¥ ph·ªèng n√©t vi·∫øt</p>
                                        <div id="stroke-animation-container" class="w-40 h-40 mx-auto bg-white border border-gray-300 relative stroke-grid-box"></div>
                                        <button onclick="replayStrokeAnimation()" class="mt-3 text-sm bg-green-100 text-green-700 px-3 py-1 rounded hover:bg-green-200 transition"><i class="fas fa-redo mr-1"></i> Vi·∫øt l·∫°i</button>
                                    </div>
                                    <div class="flex-1">
                                        <p class="text-sm text-gray-500 mb-3 font-bold uppercase">Th·ª© t·ª± t·ª´ng n√©t</p>
                                        <div id="stroke-grid-container" class="flex flex-wrap gap-2"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>`;
                document.body.insertAdjacentHTML('beforeend', modalHtml);
                modal = document.getElementById('stroke-modal');
            }
            
            document.getElementById('stroke-modal').classList.remove('hidden');
            document.getElementById('stroke-modal-char').innerText = kanji;
            
            const animContainer = document.getElementById('stroke-animation-container');
            const gridContainer = document.getElementById('stroke-grid-container');
            
            if (!svgContent) {
                animContainer.innerHTML = "<p class='p-4 text-red-500'>Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu.</p>";
                gridContainer.innerHTML = "";
                return;
            }

            // 1. Animation Setup
            animContainer.innerHTML = svgContent;
            const mainSvg = animContainer.querySelector('svg');
            mainSvg.setAttribute('width', '100%');
            mainSvg.setAttribute('height', '100%');
            
            const paths = mainSvg.querySelectorAll('path');
            paths.forEach((path) => {
                const length = path.getTotalLength();
                path.style.strokeDasharray = length;
                path.style.strokeDashoffset = length;
                path.style.stroke = "#333";
                path.style.strokeWidth = "4";
                path.style.fill = "none";
                path.style.strokeLinecap = "round";
                path.style.strokeLinejoin = "round";
            });
            
            currentStrokeSvg = mainSvg;
            replayStrokeAnimation();

            // 2. Grid Setup
            gridContainer.innerHTML = '';
            const numStrokes = paths.length;
            
            for (let i = 0; i < numStrokes; i++) {
                const stepBox = document.createElement('div');
                stepBox.className = "w-20 h-20 bg-white border border-gray-200 relative stroke-grid-box flex items-center justify-center";
                
                const parser = new DOMParser();
                const doc = parser.parseFromString(svgContent, "image/svg+xml");
                const svgClone = doc.querySelector('svg');
                svgClone.setAttribute('width', '100%');
                svgClone.setAttribute('height', '100%');
                
                // Hide numbers in grid view if preferred, or keep them. Jisho keeps them.
                // KanjiVG numbers are in <g id="kvg:StrokeNumbers_...">
                // We'll keep them for clarity but make them subtle.
                
                const clonePaths = svgClone.querySelectorAll('path');
                clonePaths.forEach((p, pIdx) => {
                    p.style.fill = "none";
                    p.style.strokeLinecap = "round";
                    p.style.strokeLinejoin = "round";
                    
                    if (pIdx < i) {
                        p.style.stroke = "#9ca3af"; // Past strokes gray
                        p.style.strokeWidth = "3";
                    } else if (pIdx === i) {
                        p.style.stroke = "#000"; // Current stroke black/bold
                        p.style.strokeWidth = "4";
                    } else {
                        p.style.display = "none"; // Future strokes hidden
                    }
                });
                
                stepBox.appendChild(svgClone);
                gridContainer.appendChild(stepBox);
            }
        }

        let currentStrokeSvg = null;

        function replayStrokeAnimation() {
            if(!currentStrokeSvg) return;
            const paths = currentStrokeSvg.querySelectorAll('path');
            
            paths.forEach(p => {
                p.style.transition = 'none';
                p.style.strokeDashoffset = p.getTotalLength();
            });

            void currentStrokeSvg.offsetWidth; // Trigger reflow

            let delay = 0;
            const duration = 0.5;
            
            paths.forEach((p) => {
                p.style.transition = `stroke-dashoffset ${duration}s ease-in-out ${delay}s`;
                p.style.strokeDashoffset = '0';
                delay += duration;
            });
        }

        function closeStrokeModal() {
            document.getElementById('stroke-modal').classList.add('hidden');
        }

        // --- MODAL LOGIC (CONJUGATION) ---
        function openModal(wordStr) {
            const word = JSON.parse(decodeURIComponent(wordStr));
            const forms = conjugate(word);
            const examples = getExamples(word, forms);
            document.getElementById("modal-kanji").innerText = word.k;
            document.getElementById("modal-hiragana").innerText = word.h;
            document.getElementById("modal-meaning").innerText = word.m;
            document.getElementById("modal-group").innerText = (word.t === 'i' || word.t === 'ii') ? "T√≠nh t·ª´ ƒëu√¥i I" : "T√≠nh t·ª´ ƒëu√¥i NA";
            const btn = document.getElementById("modal-main-audio");
            btn.onclick = () => speak(word.k, word.h);
            const list = document.getElementById("conjugation-list");
            list.innerHTML = "";
            const labels = ["T·ª´ ƒëi·ªÉn", "L·ªãch s·ª± (Desu)", "Ph·ªß ƒë·ªãnh (Kunai/Janai)", "Qu√° kh·ª© (Katta/Datta)", "N·ªëi (Kute/De)", "Ph√≥ t·ª´ (Ku/Ni)", "B·ªï nghƒ©a cho Danh t·ª´"];
            examples.forEach((ex, i) => {
                const row = `
                <div class="bg-white border border-gray-200 rounded-lg p-4 hover:border-green-300 transition">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-xs font-bold uppercase text-gray-400 tracking-wider">${labels[i]}</span>
                        <div class="flex items-center">
                            <span class="text-xl font-bold text-green-700 kanji-font mr-3">${Object.values(forms)[i]}</span>
                            <button onclick="speak('${Object.values(forms)[i]}', '')" class="text-green-400 hover:text-green-600 bg-green-50 hover:bg-green-100 rounded-full w-8 h-8 flex items-center justify-center transition"><i class="fas fa-volume-up text-sm"></i></button>
                        </div>
                    </div>
                    <div class="bg-green-50 rounded p-3 text-sm relative group">
                        <div class="font-bold text-gray-800 kanji-font mb-1 text-lg">${ex.j}</div>
                        <div class="text-gray-500 text-xs italic mb-1">${ex.r}</div>
                        <div class="text-gray-700">${ex.v}</div>
                        <button onclick="speak('${ex.j}', '')" class="absolute top-2 right-2 text-green-400 hover:text-green-600 bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-sm"><i class="fas fa-volume-up"></i></button>
                    </div>
                </div>`;
                list.innerHTML += row;
            });
            document.getElementById("conjugation-modal").classList.remove("hidden");
        }

        function closeModal() { document.getElementById("conjugation-modal").classList.add("hidden"); }
        function openGrammarModal() { document.getElementById("grammar-modal").classList.remove("hidden"); }
        function closeGrammarModal() { document.getElementById("grammar-modal").classList.add("hidden"); }
        
        function switchTab(m) {
            document.getElementById("learn-section").classList.toggle("hidden", m!=="learn");
            document.getElementById("quiz-section").classList.toggle("hidden", m!=="quiz");
            document.getElementById("tab-learn").className = m==="learn" ? "px-4 py-2 rounded-md text-sm font-bold transition bg-white text-green-900 shadow whitespace-nowrap" : "px-4 py-2 rounded-md text-sm font-bold transition text-green-200 whitespace-nowrap";
            document.getElementById("tab-quiz").className = m==="quiz" ? "px-4 py-2 rounded-md text-sm font-bold transition bg-white text-green-900 shadow whitespace-nowrap" : "px-4 py-2 rounded-md text-sm font-bold transition text-green-200 whitespace-nowrap";
            if(m==="quiz") nextQuestion();
        }

        let currentQ = null, score = 0;
        function nextQuestion() {
            document.getElementById("feedback-area").classList.add("hidden");
            document.getElementById("btn-check").classList.remove("hidden");
            document.getElementById("btn-next").classList.add("hidden");
            document.getElementById("quiz-input").value = "";
            document.getElementById("quiz-input").disabled = false;
            document.getElementById("quiz-input").focus();
            
            const uniqueWords = Array.from(new Set(allWords.map(a => a.k))).map(k => allWords.find(a => a.k === k));
            currentQ = uniqueWords[Math.floor(Math.random() * uniqueWords.length)];
            
            document.getElementById("quiz-kanji").innerText = currentQ.k;
            document.getElementById("quiz-meaning").innerText = currentQ.m;
            document.getElementById("quiz-kanji").className = "text-6xl kanji-font font-bold text-gray-800 mb-4 transition-all";
        }

        function checkAnswer() {
            const val = document.getElementById("quiz-input").value.trim();
            if(!val) return;
            document.getElementById("quiz-input").disabled = true;
            const correct = val === currentQ.h;
            const k = document.getElementById("quiz-kanji");
            if(correct) {
                score+=10; k.className = "text-6xl kanji-font font-bold text-green-600 mb-4 transition-all correct-anim";
                document.getElementById("feedback-title").innerHTML = '<i class="fas fa-check-circle text-green-600 mr-2"></i> Ch√≠nh x√°c!';
                document.getElementById("feedback-title").className = "font-bold text-lg mb-2 flex items-center text-green-700";
            } else {
                score=Math.max(0, score-5); k.className = "text-6xl kanji-font font-bold text-red-600 mb-4 transition-all wrong-anim";
                document.getElementById("feedback-title").innerHTML = '<i class="fas fa-times-circle text-red-600 mr-2"></i> Sai r·ªìi!';
                document.getElementById("feedback-title").className = "font-bold text-lg mb-2 flex items-center text-red-700";
            }
            document.getElementById("score-display").innerText = score;
            document.getElementById("correct-answer").innerText = currentQ.h;
            document.getElementById("quiz-tip-img").innerHTML = `<span class="font-bold text-gray-700">üñºÔ∏è H√¨nh:</span> ` + currentQ.ti.replace(/\*\*(.*?)\*\*/g, '<span class="text-red-600 font-bold">$1</span>');
            document.getElementById("quiz-tip-sound").innerHTML = `<span class="font-bold text-gray-700">üîä √Çm:</span> ` + currentQ.ta.replace(/\*\*(.*?)\*\*/g, '<span class="text-blue-600 font-bold">$1</span>');
            
            document.getElementById("feedback-area").classList.remove("hidden");
            document.getElementById("btn-check").classList.add("hidden");
            document.getElementById("btn-next").classList.remove("hidden");
            document.getElementById("btn-next").focus();
        }

        function playCurrentAudio() { if(currentQ) speak(currentQ.k, currentQ.h); }
        function speak(t, h) {
            if('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const u = new SpeechSynthesisUtterance(t);
                u.lang = 'ja-JP'; u.rate = 0.9;
                window.speechSynthesis.speak(u);
            }
        }
        document.getElementById("quiz-input").addEventListener("keypress", function(e) { if(e.key==="Enter") checkAnswer(); });
        document.addEventListener('DOMContentLoaded', renderContent);
    </script>
</body>
</html>
