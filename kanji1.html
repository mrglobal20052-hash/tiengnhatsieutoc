<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AzaKanji - NgÃ y 1/24 (80 HÃ¡n Tá»±)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Nunito', sans-serif; background-color: #f0f9ff; overflow-x: hidden; }
        .kanji-font { font-family: 'Noto Sans JP', sans-serif; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }

        /* Animations */
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .modal-enter { animation: modalIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes modalIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        .correct-anim { animation: pulse-green 0.5s; }
        @keyframes pulse-green { 0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); } 100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); } }
        
        .wrong-anim { animation: shake 0.4s; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }

        /* Tab Active State */
        .tab-active { background-color: #0369a1; color: white; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        .tab-inactive { background-color: #e0f2fe; color: #0c4a6e; }

        /* Stroke Grid Styles */
        .stroke-path { fill: none; stroke: #333; stroke-width: 3; stroke-linecap: round; stroke-linejoin: round; }
        .stroke-grid-box { border: 1px solid #e5e7eb; background-color: white; position: relative; }
        .stroke-grid-box::after { content: ''; position: absolute; top: 0; left: 50%; width: 1px; height: 100%; background: repeating-linear-gradient(to bottom, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); z-index: 0; }
        .stroke-grid-box::before { content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 1px; background: repeating-linear-gradient(to right, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); z-index: 0; }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-sky-700 text-white shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 py-3">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center space-x-3 cursor-pointer" onclick="location.reload()">
                    <i class="fas fa-torii-gate text-3xl text-yellow-400"></i>
                    <div>
                        <h1 class="text-xl font-bold uppercase tracking-wider">AZAKANJI</h1>
                        <p class="text-xs text-sky-200">Kanji siÃªu tá»‘c, há»c rá»™ng hiá»ƒu sÃ¢u</p>
                    </div>
                </div>
                
                <div class="flex items-center gap-2 overflow-x-auto max-w-full pb-1 md:pb-0">
                    <div class="flex bg-sky-800 rounded-lg p-1">
                        <button onclick="switchTab('learn')" id="tab-learn" class="px-4 py-2 rounded-md text-sm font-bold transition whitespace-nowrap tab-active">
                            <i class="fas fa-book-open mr-2"></i>Há»c Táº­p
                        </button>
                        <button onclick="switchTab('quiz')" id="tab-quiz" class="px-4 py-2 rounded-md text-sm font-bold transition whitespace-nowrap tab-inactive ml-1">
                            <i class="fas fa-gamepad mr-2"></i>Kiá»ƒm Tra
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>
<!-- Thay tháº¿ Ä‘oáº¡n xá»­ lÃ½ tÃ¬m kiáº¿m cÅ© báº±ng Ä‘oáº¡n nÃ y -->
<div class="bg-white/90 backdrop-blur-md shadow-sm sticky top-[64px] z-30 border-b border-sky-100">
    <div class="container mx-auto px-4 py-4">
        <div class="relative max-w-2xl mx-auto">
            <input type="text" id="global-search" placeholder="TÃ¬m Kanji, Bá»™ thá»§, NghÄ©a..." class="w-full pl-12 pr-4 py-3 rounded-2xl border-2 border-sky-100 focus:outline-none focus:ring-4 focus:ring-sky-200 focus:border-sky-400 bg-sky-50/30 text-lg transition-all">
            <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-sky-400 text-xl"></i>
        </div>
    </div>
</div>

<script>
    // Xá»­ lÃ½ chuyá»ƒn hÆ°á»›ng tÃ¬m kiáº¿m sang Master Hub
    document.getElementById('global-search').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            const val = this.value.trim();
            if (val) {
                // Chuyá»ƒn hÆ°á»›ng sang radicals.html kÃ¨m tham sá»‘ search
                window.location.href = 'kanji.html?search=' + encodeURIComponent(val);
            }
        }
    });

  </script>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6 flex-grow" id="app-container">
        
        <!-- LEARN SECTION -->
        <div id="learn-section" class="fade-in">
            <div class="mb-6 bg-white p-4 rounded-xl shadow-sm border-l-4 border-sky-500 flex justify-between items-center">
                <div>
                    <h3 class="text-lg font-bold text-gray-800 mb-1"><i class="fas fa-calendar-day text-sky-500 mr-2"></i>NgÃ y 1: 80 HÃ¡n Tá»± CÆ¡ Báº£n</h3>
                    <p class="text-sm text-gray-600">Ná»n táº£ng quan trá»ng cho Ä‘á»i sá»‘ng hÃ ng ngÃ y.</p>
                </div>
                <!-- Removed counter display -->
            </div>
            
            <div id="kanji-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                <!-- Cards will be injected here -->
            </div>
        </div>

        <!-- QUIZ SECTION -->
        <div id="quiz-section" class="hidden fade-in max-w-2xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200">
                <div class="bg-gradient-to-r from-emerald-500 to-teal-600 p-6 text-white flex justify-between items-center">
                    <div>
                        <h2 class="text-xl font-bold"><i class="fas fa-puzzle-piece mr-2"></i>Thá»­ ThÃ¡ch NgÃ y 1</h2>
                        <p class="text-emerald-100 text-xs mt-1">Ã”n táº­p 80 chá»¯ vá»«a há»c</p>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-emerald-200 uppercase font-bold">Äiá»ƒm sá»‘</div>
                        <div class="text-3xl font-bold" id="score-display">0</div>
                    </div>
                </div>
                
                <div class="p-6 md:p-8">
                    <!-- Progress Bar -->
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-6">
                        <div id="quiz-progress" class="bg-emerald-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>

                    <div id="question-area" class="text-center mb-8">
                        <div class="text-gray-500 text-sm font-bold mb-4 uppercase tracking-wide">CÃ¢u há»i <span id="q-current">1</span> / <span id="q-total">10</span></div>
                        <div class="mb-4">
                            <span class="text-6xl kanji-font font-bold text-gray-800" id="quiz-kanji-display"></span>
                        </div>
                        <div class="text-lg text-gray-600 font-medium" id="quiz-question-text">HÃ¡n tá»± nÃ y cÃ³ nghÄ©a lÃ  gÃ¬?</div>
                    </div>

                    <div id="options-area" class="grid grid-cols-2 gap-4 mb-6">
                        <!-- Options injected here -->
                    </div>

                    <div id="feedback-area" class="hidden bg-gray-50 rounded-xl p-4 border border-gray-200 text-left animate-fade-in">
                        <div id="feedback-title" class="font-bold text-lg mb-2 flex items-center"></div>
                        <p id="feedback-detail" class="text-gray-600 text-sm mb-3"></p>
                        <button onclick="nextQuestion()" class="w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 rounded-lg shadow transition">Tiáº¿p tá»¥c <i class="fas fa-arrow-right ml-2"></i></button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- STROKE ORDER MODAL -->
    <div id="stroke-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeStrokeModal()"></div>
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl w-full modal-enter relative">
                <div class="bg-sky-600 px-4 py-3 flex justify-between items-center text-white">
                    <h3 class="font-bold text-lg"><i class="fas fa-pen-nib mr-2"></i>Táº­p Viáº¿t: <span id="stroke-modal-char" class="text-2xl ml-2 font-bold"></span></h3>
                    <button onclick="closeStrokeModal()" class="hover:text-gray-200 text-2xl">&times;</button>
                </div>
                <div class="p-4 md:p-6 bg-gray-50 max-h-[80vh] overflow-y-auto">
                    <div class="flex flex-col md:flex-row gap-6 md:gap-8 items-center md:items-start justify-center">
                        <div class="bg-white p-4 rounded-lg shadow border border-gray-200 text-center w-full md:w-auto">
                            <p class="text-xs text-gray-500 mb-2 font-bold uppercase tracking-wider">MÃ´ phá»ng</p>
                            <div id="stroke-animation-container" class="w-40 h-40 mx-auto bg-white border border-gray-300 relative stroke-grid-box flex items-center justify-center">
                                <span class="text-gray-400 text-xs">Äang táº£i...</span>
                            </div>
                            <button onclick="replayStrokeAnimation()" class="mt-3 text-sm bg-sky-100 text-sky-700 px-4 py-2 rounded-full hover:bg-sky-200 transition w-full font-bold flex items-center justify-center"><i class="fas fa-redo mr-2"></i> Viáº¿t láº¡i</button>
                        </div>
                        <div class="flex-1 w-full">
                            <p class="text-xs text-gray-500 mb-3 font-bold uppercase tracking-wider text-center md:text-left">Thá»© tá»± nÃ©t</p>
                            <div id="stroke-grid-container" class="flex flex-wrap gap-2 justify-center md:justify-start"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- DATA (Exact 80 Kanji N5 - AzaKanji Method) ---
        const kanjiData = [
            // Numbers (1-10) - 10
            { char: "ä¸€", nghiaHV: "NHáº¤T", nghiaTV: "Má»™t", on: "ã‚¤ãƒ", kun: "ã²ã¨", ti: "Má»™t ngÃ³n tay giÆ¡ ra.", ta: "**Y chi** (Ichi) chiáº¿c Ä‘Å©a cho **HÃ­ TÃ´** (Hito).", examples: [{ w: "ä¸€æœˆ", r: "ã„ã¡ãŒã¤", m: "ThÃ¡ng 1" }, { w: "ä¸€ã¤", r: "ã²ã¨ã¤", m: "1 cÃ¡i" }] },
            { char: "äºŒ", nghiaHV: "NHá»Š", nghiaTV: "Hai", on: "ãƒ‹", kun: "ãµãŸ", ti: "Hai nÃ©t gáº¡ch ngang báº±ng nhau.", ta: "**NÃ­** (Ni) nuá»‘t **PhÃ¹ TÃ¡** (Futa) hai láº§n.", examples: [{ w: "äºŒæœˆ", r: "ã«ãŒã¤", m: "ThÃ¡ng 2" }, { w: "äºŒã¤", r: "ãµãŸã¤", m: "2 cÃ¡i" }] },
            { char: "ä¸‰", nghiaHV: "TAM", nghiaTV: "Ba", on: "ã‚µãƒ³", kun: "ã¿ã£", ti: "Ba nÃ©t gáº¡ch: trá»i, ngÆ°á»i, Ä‘áº¥t.", ta: "CÃ¡i **SÃ n** (San) nhÃ  cÃ³ **MÃ­** (Mi) máº¯t thá»© ba.", examples: [{ w: "ä¸‰æœˆ", r: "ã•ã‚“ãŒã¤", m: "ThÃ¡ng 3" }, { w: "ä¸‰æ—¥", r: "ã¿ã£ã‹", m: "NgÃ y mÃ¹ng 3" }] },
            { char: "å››", nghiaHV: "Tá»¨", nghiaTV: "Bá»‘n", on: "ã‚·", kun: "ã‚ˆã‚“", ti: "Cá»­a sá»• (**Vi å›—**) cÃ³ rÃ¨m che 2 bÃªn (**NhÃ¢n å„¿**).", ta: "Ca **SÄ©** (Shi) hÃ¡t **Dá»“n** (Yon) dáº­p bá»‘n bÃ i.", examples: [{ w: "å››æœˆ", r: "ã—ãŒã¤", m: "ThÃ¡ng 4" }, { w: "å››ã¤", r: "ã‚ˆã£ã¤", m: "4 cÃ¡i" }] },
            { char: "äº”", nghiaHV: "NGÅ¨", nghiaTV: "NÄƒm", on: "ã‚´", kun: "ã„ã¤", ti: "Sá»‘ 5 viáº¿t cÃ¡ch Ä‘iá»‡u, nÃ©t ngang trÃªn dÆ°á»›i.", ta: "**Gá»“** (Go) ghá» **Y NhÆ°** (Itsu) nÄƒm ngÃ³n tay.", examples: [{ w: "äº”æœˆ", r: "ã”ãŒã¤", m: "ThÃ¡ng 5" }, { w: "äº”ã¤", r: "ã„ã¤ã¤", m: "5 cÃ¡i" }] },
            { char: "å…­", nghiaHV: "Lá»¤C", nghiaTV: "SÃ¡u", on: "ãƒ­ã‚¯", kun: "ã‚€ã£", ti: "Äáº§u (**Äáº§u äº **) ngÆ°á»i dang 2 chÃ¢n (**BÃ¡t å…«**).", ta: "**RÃ´** (Roku) bá»‘t bá»‹ **MÃ¹** (Mu) sÃ¡u máº¯t.", examples: [{ w: "å…­æœˆ", r: "ã‚ããŒã¤", m: "ThÃ¡ng 6" }, { w: "å…­ã¤", r: "ã‚€ã£ã¤", m: "6 cÃ¡i" }] },
            { char: "ä¸ƒ", nghiaHV: "THáº¤T", nghiaTV: "Báº£y", on: "ã‚·ãƒ", kun: "ãªãª", ti: "Sá»‘ 7 bá»‹ láº­t ngÆ°á»£c.", ta: "**SÄ© Chi** (Shichi) tiÃªu háº¿t báº£y quáº£ **Na** (Nana).", examples: [{ w: "ä¸ƒæœˆ", r: "ã—ã¡ãŒã¤", m: "ThÃ¡ng 7" }, { w: "ä¸ƒã¤", r: "ãªãªã¤", m: "7 cÃ¡i" }] },
            { char: "å…«", nghiaHV: "BÃT", nghiaTV: "TÃ¡m", on: "ãƒãƒ", kun: "ã‚„ã£", ti: "Hai nÃ©t bÃ¡t Ãºp ngÆ°á»£c tÃ¡ch ra.", ta: "**HÃ  Chi** (Hachi) cÃ³ tÃ¡m cÃ¡i rÄƒng **Ya** (Ya).", examples: [{ w: "å…«æœˆ", r: "ã¯ã¡ãŒã¤", m: "ThÃ¡ng 8" }, { w: "å…«ã¤", r: "ã‚„ã£ã¤", m: "8 cÃ¡i" }] },
            { char: "ä¹", nghiaHV: "Cá»¬U", nghiaTV: "ChÃ­n", on: "ã‚­ãƒ¥ã‚¦", kun: "ã“ã“ã®", ti: "NgÆ°á»i Ä‘ang cong lÆ°ng hÃ­t Ä‘áº¥t.", ta: "**Cá»©u** (Kyuu) chÃ­n **CÃ´ CÃ´ NÃ³** (Kokono) vá»›i.", examples: [{ w: "ä¹æœˆ", r: "ããŒã¤", m: "ThÃ¡ng 9" }, { w: "ä¹ã¤", r: "ã“ã“ã®ã¤", m: "9 cÃ¡i" }] },
            { char: "å", nghiaHV: "THáº¬P", nghiaTV: "MÆ°á»i", on: "ã‚¸ãƒ¥ã‚¦", kun: "ã¨ãŠ", ti: "Dáº¥u cá»™ng, táº­p há»£p Ä‘á»§ 4 phÆ°Æ¡ng.", ta: "**Ju** (Juu) Ä‘o Ä‘ai Ä‘en Ä‘Ã¡nh mÆ°á»i cÃ¡i **TÃ´** (Too).", examples: [{ w: "åæœˆ", r: "ã˜ã‚…ã†ãŒã¤", m: "ThÃ¡ng 10" }, { w: "å", r: "ã¨ãŠ", m: "10 cÃ¡i" }] },
            
            // Big Numbers & Money - 4
            { char: "ç™¾", nghiaHV: "BÃCH", nghiaTV: "TrÄƒm", on: "ãƒ’ãƒ£ã‚¯", kun: "ã‚‚ã‚‚", ti: "Má»™t (**Nháº¥t ä¸€**) váº¡ch tráº¯ng (**Báº¡ch ç™½**) lÃ  trÄƒm Ä‘iá»ƒm.", ta: "**KhÃ¡ch** (Hyaku) sáº¡n trÄƒm phÃ²ng cÃ³ trÃ¡i **MÃ´ MÃ´** (Momo).", examples: [{ w: "ç™¾å††", r: "ã²ã‚ƒããˆã‚“", m: "100 YÃªn" }, { w: "ä¸‰ç™¾", r: "ã•ã‚“ã³ã‚ƒã", m: "300" }] },
            { char: "åƒ", nghiaHV: "THIÃŠN", nghiaTV: "NghÃ¬n", on: "ã‚»ãƒ³", kun: "ã¡", ti: "Sá»‘ 10 (**Tháº­p å**) thÃªm 1 nÃ©t pháº©y á»Ÿ trÃªn.", ta: "Hoa **Sen** (Sen) ngÃ n cÃ¡nh ná»Ÿ **Chi** (Chi) chÃ­t.", examples: [{ w: "åƒå††", r: "ã›ã‚“ãˆã‚“", m: "1000 YÃªn" }, { w: "ä¸‰åƒ", r: "ã•ã‚“ãœã‚“", m: "3000" }] },
            { char: "ä¸‡", nghiaHV: "Váº N", nghiaTV: "MÆ°á»i nghÃ¬n", on: "ãƒãƒ³", kun: "-", ti: "Má»™t (**Nháº¥t ä¸€**) cÃ¡i mÃ³c cÃ¢u (å‹¹) váº¡n nÄƒng.", ta: "**MÃ n** (Man) tháº§u váº¡n cÃ¡i.", examples: [{ w: "ä¸€ä¸‡å††", r: "ã„ã¡ã¾ã‚“ãˆã‚“", m: "1 váº¡n yÃªn" }, { w: "ä¸‡å›½", r: "ã°ã‚“ã“ã", m: "Váº¡n quá»‘c" }] },
            { char: "å††", nghiaHV: "VIÃŠN", nghiaTV: "TrÃ²n/YÃªn", on: "ã‚¨ãƒ³", kun: "ã¾ã‚‹", ti: "Äá»“ng tiá»n trÃ²n náº±m trong kÃ©t sáº¯t (**Vi å›—**).", ta: "**Em** (En) muá»‘n Ä‘á»“ng YÃªn **TrÃ²n** (Maru) trá»‹a.", examples: [{ w: "å††é«˜", r: "ãˆã‚“ã ã‹", m: "YÃªn tÄƒng giÃ¡" }, { w: "å††ã„", r: "ã¾ã‚‹ã„", m: "TrÃ²n" }] },

            // Time & Calendar - 6
            { char: "æ—¥", nghiaHV: "NHáº¬T", nghiaTV: "Máº·t trá»i/NgÃ y", on: "ãƒ‹ãƒ", kun: "ã²", ti: "HÃ¬nh chá»¯ nháº­t cÃ³ 1 nÃ©t á»Ÿ giá»¯a, lÃ  máº·t trá»i.", ta: "**Ni Chi** (Nichi) táº¯m náº¯ng **HÃ­** (Hi) há»­ng.", examples: [{ w: "æ—¥æ›œæ—¥", r: "ã«ã¡ã‚ˆã†ã³", m: "Chá»§ nháº­t" }, { w: "æ—¥", r: "ã²", m: "Máº·t trá»i" }] },
            { char: "æœˆ", nghiaHV: "NGUYá»†T", nghiaTV: "TrÄƒng/ThÃ¡ng", on: "ã‚²ãƒ„", kun: "ã¤ã", ti: "HÃ¬nh trÄƒng lÆ°á»¡i liá»m cÃ³ 2 gáº¡ch.", ta: "**GhÃª** (Ge) chÆ°a, **ThÆ° KÃ­** (Tsuki) ngáº¯m trÄƒng.", examples: [{ w: "æœˆæ›œæ—¥", r: "ã’ã¤ã‚ˆã†ã³", m: "Thá»© hai" }, { w: "æœˆ", r: "ã¤ã", m: "Máº·t trÄƒng" }] },
            { char: "å¹´", nghiaHV: "NIÃŠN", nghiaTV: "NÄƒm", on: "ãƒãƒ³", kun: "ã¨ã—", ti: "Con Ngá»±a (**Ngá» åˆ**) chá»Ÿ lÃºa vá» kho.", ta: "**NÃªn** (Nen) nhá»› **TÃ´ Si** (Toshi) nÄƒm nay.", examples: [{ w: "æ¥å¹´", r: "ã‚‰ã„ã­ã‚“", m: "NÄƒm sau" }, { w: "å¹´", r: "ã¨ã—", m: "NÄƒm/Tuá»•i" }] },
            { char: "æ™‚", nghiaHV: "THá»œI", nghiaTV: "Thá»i gian/Giá»", on: "ã‚¸", kun: "ã¨ã", ti: "Máº·t trá»i (**Nháº­t æ—¥**) chiáº¿u vÃ o ChÃ¹a (**Tá»± å¯º**) bÃ¡o giá».", ta: "**GÃ¬** (Ji) cÆ¡? **TÃ´ KÃ­** (Toki) háº¿t giá» rá»“i.", examples: [{ w: "æ™‚é–“", r: "ã˜ã‹ã‚“", m: "Thá»i gian" }, { w: "æ™‚", r: "ã¨ã", m: "Khi" }] },
            { char: "åˆ†", nghiaHV: "PHÃ‚N", nghiaTV: "PhÃºt/Chia", on: "ãƒ•ãƒ³", kun: "ã‚", ti: "Con dao (**Äao åˆ€**) cháº» Ä‘Ã´i bÃ¡t (**BÃ¡t å…«**) cÆ¡m.", ta: "**HÆ°ng** (Fun) pháº¥n **Wa** (Wa)keru chia quÃ .", examples: [{ w: "åŠåˆ†", r: "ã¯ã‚“ã¶ã‚“", m: "Má»™t ná»­a" }, { w: "åˆ†ã‹ã‚‹", r: "ã‚ã‹ã‚‹", m: "Hiá»ƒu" }] },
            { char: "ä»Š", nghiaHV: "KIM", nghiaTV: "BÃ¢y giá»", on: "ã‚³ãƒ³", kun: "ã„ã¾", ti: "DÆ°á»›i mÃ¡i nhÃ  (**NhÃ¢n ğ †¢**) cÃ³ ngÆ°á»i ngáº­m miá»‡ng (**Nháº¥t ä¸€**).", ta: "**CÃ´n** (Kon) Ä‘á»“ **I Máº¡** (Ima) Ä‘Ã¡nh bÃ¢y giá».", examples: [{ w: "ä»Šæœˆ", r: "ã“ã‚“ã’ã¤", m: "ThÃ¡ng nÃ y" }, { w: "ä»Š", r: "ã„ã¾", m: "BÃ¢y giá»" }] },

            // Elements - 5
            { char: "ç«", nghiaHV: "Há»A", nghiaTV: "Lá»­a", on: "ã‚«", kun: "ã²", ti: "NgÆ°á»i (**NhÃ¢n äºº**) Ä‘ang bá»‹ 2 Ä‘á»‘m lá»­a chÃ¡y 2 bÃªn.", ta: "**Ca** (Ka) hÃ¡t bÃªn Ä‘á»‘ng lá»­a **Hi** (Hi)u háº¯t.", examples: [{ w: "ç«æ›œæ—¥", r: "ã‹ã‚ˆã†ã³", m: "Thá»© ba" }, { w: "ç«", r: "ã²", m: "Lá»­a" }] },
            { char: "æ°´", nghiaHV: "THá»¦Y", nghiaTV: "NÆ°á»›c", on: "ã‚¹ã‚¤", kun: "ã¿ãš", ti: "DÃ²ng nÆ°á»›c á»Ÿ giá»¯a, 2 bÃªn báº¯n tung tÃ³e.", ta: "**Su** (Sui) su luá»™c nÆ°á»›c **MÃ­ Dá»±** (Mizu).", examples: [{ w: "æ°´æ³³", r: "ã™ã„ãˆã„", m: "BÆ¡i lá»™i" }, { w: "æ°´", r: "ã¿ãš", m: "NÆ°á»›c" }] },
            { char: "æœ¨", nghiaHV: "Má»˜C", nghiaTV: "CÃ¢y", on: "ãƒ¢ã‚¯", kun: "ã", ti: "CÃ¢y cÃ³ tÃ¡n lÃ¡ vÃ  rá»… cáº¯m xuá»‘ng Ä‘áº¥t.", ta: "**Má»‘c** (Moku) meo trÃªn cÃ¢y **Ki** (Ki)m.", examples: [{ w: "æœ¨æ›œæ—¥", r: "ã‚‚ãã‚ˆã†ã³", m: "Thá»© nÄƒm" }, { w: "æœ¨", r: "ã", m: "CÃ¢y" }] },
            { char: "é‡‘", nghiaHV: "KIM", nghiaTV: "VÃ ng/Tiá»n", on: "ã‚­ãƒ³", kun: "ã‹ã­", ti: "DÆ°á»›i mÃ¡i nhÃ  (**NhÃ¢n ğ †¢**) cÃ³ 2 thá»i vÃ ng sÃ¡ng láº¥p lÃ¡nh trong Ä‘áº¥t (**Thá»• åœŸ**).", ta: "**Kim** (Kin) loáº¡i quÃ½ lÃ  tiá»n **CÃ  NÃ©** (Kane).", examples: [{ w: "é‡‘æ›œæ—¥", r: "ãã‚“ã‚ˆã†ã³", m: "Thá»© sÃ¡u" }, { w: "ãŠé‡‘", r: "ãŠã‹ã­", m: "Tiá»n" }] },
            { char: "åœŸ", nghiaHV: "THá»”", nghiaTV: "Äáº¥t", on: "ãƒ‰", kun: "ã¤ã¡", ti: "CÃ¢y thÃ¡nh giÃ¡ (+) cáº¯m trÃªn máº·t Ä‘áº¥t (_).", ta: "**ÄÃ´** (Do) váº­t Ä‘Ã¡nh nhau trÃªn Ä‘áº¥t **Tu ChÃ­** (Tsuchi).", examples: [{ w: "åœŸæ›œæ—¥", r: "ã©ã‚ˆã†ã³", m: "Thá»© báº£y" }, { w: "åœŸ", r: "ã¤ã¡", m: "Äáº¥t" }] },

            // Nature & Geography - 6
            { char: "å±±", nghiaHV: "SÆ N", nghiaTV: "NÃºi", on: "ã‚µãƒ³", kun: "ã‚„ã¾", ti: "HÃ¬nh 3 ngá»n nÃºi nhÃ´ lÃªn.", ta: "**SÄƒn** (San) báº¯n **Ya Ma** (Yama) trÃªn nÃºi.", examples: [{ w: "å¯Œå£«å±±", r: "ãµã˜ã•ã‚“", m: "NÃºi PhÃº SÄ©" }, { w: "å±±", r: "ã‚„ã¾", m: "NÃºi" }] },
            { char: "å·", nghiaHV: "XUYÃŠN", nghiaTV: "SÃ´ng", on: "ã‚»ãƒ³", kun: "ã‹ã‚", ti: "Ba dÃ²ng nÆ°á»›c cháº£y song song.", ta: "Hoa **Sen** (Sen) ná»Ÿ bÃªn sÃ´ng **Ca Wa** (Kawa).", examples: [{ w: "æ²³å·", r: "ã‹ã›ã‚“", m: "SÃ´ng ngÃ²i" }, { w: "å·", r: "ã‹ã‚", m: "SÃ´ng" }] },
            { char: "ç”°", nghiaHV: "ÄIá»€N", nghiaTV: "Ruá»™ng", on: "ãƒ‡ãƒ³", kun: "ãŸ", ti: "Thá»­a ruá»™ng hÃ¬nh vuÃ´ng chia lÃ m 4 Ã´.", ta: "**ÄÃ¨n** (Den) cáº§y tháº¯p sÃ¡ng ruá»™ng **Táº£** (Ta) tÆ¡i.", examples: [{ w: "æ°´ç”°", r: "ã™ã„ã§ã‚“", m: "Ruá»™ng lÃºa" }, { w: "ç”°ã‚“ã¼", r: "ãŸã‚“ã¼", m: "CÃ¡nh Ä‘á»“ng" }] },
            { char: "çŸ³", nghiaHV: "THáº CH", nghiaTV: "ÄÃ¡", on: "ã‚»ã‚­", kun: "ã„ã—", ti: "HÃ²n Ä‘Ã¡ rÆ¡i tá»« vÃ¡ch nÃºi (**HÃ¡n å‚**).", ta: "PhÃ¢n **TÃ­ch** (Seki) hÃ²n Ä‘Ã¡ **I Si** (Ishi).", examples: [{ w: "çŸ³æ²¹", r: "ã›ãã‚†", m: "Dáº§u má»" }, { w: "çŸ³", r: "ã„ã—", m: "ÄÃ¡" }] },
            { char: "èŠ±", nghiaHV: "HOA", nghiaTV: "Hoa", on: "ã‚«", kun: "ã¯ãª", ti: "Cá» (**Tháº£o è‰¹**) biáº¿n hÃ³a (**HÃ³a åŒ–**) thÃ nh hoa.", ta: "**Ca** (Ka) sÄ© táº·ng **HÃ  Na** (Hana) hoa.", examples: [{ w: "èŠ±ç“¶", r: "ã‹ã³ã‚“", m: "BÃ¬nh hoa" }, { w: "èŠ±", r: "ã¯ãª", m: "Hoa" }] },
            { char: "ç«¹", nghiaHV: "TRÃšC", nghiaTV: "Tre", on: "ãƒã‚¯", kun: "ãŸã‘", ti: "Hai nhÃ¡nh tre má»c tháº³ng Ä‘á»©ng.", ta: "Kiáº¿n **TrÃºc** (Chiku) lÃ m tá»« tre **Ta KÃª** (Take).", examples: [{ w: "ç«¹æ—", r: "ã¡ãã‚Šã‚“", m: "Rá»«ng tre" }, { w: "ç«¹", r: "ãŸã‘", m: "Tre" }] },

            // Weather & Sky - 4
            { char: "é›¨", nghiaHV: "VÅ¨", nghiaTV: "MÆ°a", on: "ã‚¦", kun: "ã‚ã‚", ti: "Nhá»¯ng giá»t nÆ°á»›c (4 cháº¥m) rÆ¡i tá»« trá»i qua cá»­a sá»•.", ta: "**U** (U) sáº§u vÃ¬ mÆ°a **A MÃª** (Ame).", examples: [{ w: "é›¨å¤©", r: "ã†ã¦ã‚“", m: "Trá»i mÆ°a" }, { w: "é›¨", r: "ã‚ã‚", m: "MÆ°a" }] },
            { char: "å¤©", nghiaHV: "THIÃŠN", nghiaTV: "Trá»i", on: "ãƒ†ãƒ³", kun: "ã‚ã¾", ti: "NgÆ°á»i (**Äáº¡i å¤§**) Ä‘á»™i trá»i (**Nháº¥t ä¸€**) Ä‘áº¡p Ä‘áº¥t.", ta: "**TÃªn** (Ten) lá»­a bay lÃªn trá»i **A MÃ ** (Ama).", examples: [{ w: "å¤©æ°—", r: "ã¦ã‚“ã", m: "Thá»i tiáº¿t" }, { w: "å¤©ã®å·", r: "ã‚ã¾ã®ãŒã‚", m: "SÃ´ng NgÃ¢n HÃ " }] },
            { char: "æ°—", nghiaHV: "KHÃ", nghiaTV: "Tinh tháº§n/KhÃ­", on: "ã‚­", kun: "-", ti: "HÆ¡i nÆ°á»›c (**KhÃ­ æ°”**) bá»‘c lÃªn hÃ¬nh dáº¥u X (**Nghá»‡ ä¹‚**).", ta: "**Ki** (Ki) nÄƒng lÆ°á»£ng.", examples: [{ w: "å…ƒæ°—", r: "ã’ã‚“ã", m: "Khá»e máº¡nh" }, { w: "å¤©æ°—", r: "ã¦ã‚“ã", m: "Thá»i tiáº¿t" }] },
            { char: "ç©º", nghiaHV: "KHÃ”NG", nghiaTV: "Báº§u trá»i/Trá»‘ng", on: "ã‚¯ã‚¦", kun: "ãã‚‰", ti: "CÃ¡i hang (**Huyá»‡t ç©´**) do thá»£ (**CÃ´ng å·¥**) Ä‘Ã o thÃ¬ trá»‘ng rá»—ng.", ta: "**Cá»©u** (Kuu) láº¥y báº§u trá»i **SÃ´ Ra** (Sora).", examples: [{ w: "ç©ºæ°—", r: "ãã†ã", m: "KhÃ´ng khÃ­" }, { w: "ç©º", r: "ãã‚‰", m: "Báº§u trá»i" }] },

            // Directions & Position - 8
            { char: "ä¸Š", nghiaHV: "THÆ¯á»¢NG", nghiaTV: "TrÃªn", on: "ã‚¸ãƒ§ã‚¦", kun: "ã†ãˆ", ti: "Má»™t nÃ©t gáº¡ch ngang (**Nháº¥t ä¸€**), má»™t cÃ¡i cÃ¢y má»c lÃªn trÃªn.", ta: "**DÃ´** (Jou) lÃªn trÃªn **Uá»ƒ** (Ue) oáº£i.", examples: [{ w: "ä¸Šæ‰‹", r: "ã˜ã‚‡ã†ãš", m: "Giá»i" }, { w: "ä¸Š", r: "ã†ãˆ", m: "TrÃªn" }] },
            { char: "ä¸‹", nghiaHV: "Háº ", nghiaTV: "DÆ°á»›i", on: "ã‚«", kun: "ã—ãŸ", ti: "Má»™t nÃ©t gáº¡ch ngang (**Nháº¥t ä¸€**), rá»… cÃ¢y má»c xuá»‘ng dÆ°á»›i.", ta: "**Ca** (Ka) nÃ´ láº·n xuá»‘ng dÆ°á»›i **SÃ­t Ta** (Shita).", examples: [{ w: "åœ°ä¸‹", r: "ã¡ã‹", m: "DÆ°á»›i Ä‘áº¥t" }, { w: "ä¸‹", r: "ã—ãŸ", m: "DÆ°á»›i" }] },
            { char: "å·¦", nghiaHV: "Táº¢", nghiaTV: "TrÃ¡i", on: "ã‚µ", kun: "ã²ã ã‚Š", ti: "Tay (**Thá»§ ğ ‚‡**) cáº§m thÆ°á»›c (**CÃ´ng å·¥**) bÃªn trÃ¡i.", ta: "**Sa** (Sa) ngÃ£ bÃªn trÃ¡i **HÃ­ Äa Ri** (Hidari).", examples: [{ w: "å·¦å³", r: "ã•ã‚†ã†", m: "TrÃ¡i pháº£i" }, { w: "å·¦", r: "ã²ã ã‚Š", m: "BÃªn trÃ¡i" }] },
            { char: "å³", nghiaHV: "Há»®U", nghiaTV: "Pháº£i", on: "ã‚¦", kun: "ã¿ã", ti: "Tay (**Thá»§ ğ ‚‡**) Ä‘Æ°a lÃªn miá»‡ng (**Kháº©u å£**) Äƒn bÃªn pháº£i.", ta: "**U** (U) sáº§u bÃªn pháº£i **MÃ¬ GÃ­** (Migi).", examples: [{ w: "å³æŠ˜", r: "ã†ã›ã¤", m: "Ráº½ pháº£i" }, { w: "å³", r: "ã¿ã", m: "BÃªn pháº£i" }] },
            { char: "ä¸­", nghiaHV: "TRUNG", nghiaTV: "Giá»¯a/Trong", on: "ãƒãƒ¥ã‚¦", kun: "ãªã‹", ti: "MÅ©i tÃªn xuyÃªn qua tÃ¢m hÃ¬nh chá»¯ nháº­t (**Kháº©u å£**).", ta: "**Chu** (Chuu) má» hÃ´n vÃ o giá»¯a **Na Ca** (Naka).", examples: [{ w: "ä¸­å›½", r: "ã¡ã‚…ã†ã”ã", m: "Trung Quá»‘c" }, { w: "ä¸­", r: "ãªã‹", m: "Trong" }] },
            { char: "å¤§", nghiaHV: "Äáº I", nghiaTV: "To lá»›n", on: "ãƒ€ã‚¤", kun: "ãŠãŠ", ti: "NgÆ°á»i (**NhÃ¢n äºº**) dang rá»™ng 2 tay ra tháº­t to.", ta: "**Äai** (Dai) lÆ°ng to **Ã”** (Oo) quÃ¡.", examples: [{ w: "å¤§å­¦", r: "ã ã„ãŒã", m: "Äáº¡i há»c" }, { w: "å¤§ãã„", r: "ãŠãŠãã„", m: "To" }] },
            { char: "å°", nghiaHV: "TIá»‚U", nghiaTV: "Nhá»", on: "ã‚·ãƒ§ã‚¦", kun: "ã¡ã„", ti: "Hai tay Ã©p láº¡i cho nhá» (mÃ³c cÃ¢u á»Ÿ giá»¯a).", ta: "**SÃ´** (Shou) diá»…n nhá» **Chi** (Chii) li.", examples: [{ w: "å°å­¦æ ¡", r: "ã—ã‚‡ã†ãŒã£ã“ã†", m: "Tiá»ƒu há»c" }, { w: "å°ã•ã„", r: "ã¡ã„ã•ã„", m: "Nhá»" }] },
            { char: "æœ¬", nghiaHV: "Báº¢N", nghiaTV: "SÃ¡ch", on: "ãƒ›ãƒ³", kun: "ã‚‚ã¨", ti: "Gá»‘c cÃ¢y (**Má»™c æœ¨**) cÃ³ 1 gáº¡ch.", ta: "**Há»“n** (Hon) cá»§a sÃ¡ch lÃ  gá»‘c (Moto).", examples: [{ w: "æœ¬æ£š", r: "ã»ã‚“ã ãª", m: "GiÃ¡ sÃ¡ch" }, { w: "æœ¬", r: "ã»ã‚“", m: "SÃ¡ch" }] },

            // People - 6
            { char: "äºº", nghiaHV: "NHÃ‚N", nghiaTV: "NgÆ°á»i", on: "ã‚¸ãƒ³", kun: "ã²ã¨", ti: "DÃ¡ng ngÆ°á»i Ä‘ang bÆ°á»›c Ä‘i.", ta: "**Jin** (Jin) lÃ  ngÆ°á»i **HÃ­ TÃ´** (Hito).", examples: [{ w: "æ—¥æœ¬äºº", r: "ã«ã»ã‚“ã˜ã‚“", m: "NgÆ°á»i Nháº­t" }, { w: "äºº", r: "ã²ã¨", m: "NgÆ°á»i" }] },
            { char: "ç”·", nghiaHV: "NAM", nghiaTV: "ÄÃ n Ã´ng", on: "ãƒ€ãƒ³", kun: "ãŠã¨ã“", ti: "NgÆ°á»i dÃ¹ng sá»©c (**Lá»±c åŠ›**) lÃ m ruá»™ng (**Äiá»n ç”°**) lÃ  Ä‘Ã n Ã´ng.", ta: "**ÄÃ n** (Dan) Ã´ng **Ã” TÃ´ CÃ´** (Otoko) hÆ°.", examples: [{ w: "ç”·å­", r: "ã ã‚“ã—", m: "Nam sinh" }, { w: "ç”·", r: "ãŠã¨ã“", m: "ÄÃ n Ã´ng" }] },
            { char: "å¥³", nghiaHV: "Ná»®", nghiaTV: "Phá»¥ ná»¯", on: "ã‚¸ãƒ§", kun: "ãŠã‚“ãª", ti: "DÃ¡ng ngÆ°á»i phá»¥ ná»¯ Ä‘ang quá»³ ngá»“i.", ta: "Phá»¥ ná»¯ **Ã”n NÃ ** (Onna) khÃ´ng uá»‘ng **DÃ´** (Jo) bia.", examples: [{ w: "å¥³æ€§", r: "ã˜ã‚‡ã›ã„", m: "Ná»¯ giá»›i" }, { w: "å¥³", r: "ãŠã‚“ãª", m: "Phá»¥ ná»¯" }] },
            { char: "å­", nghiaHV: "Tá»¬", nghiaTV: "Tráº» con", on: "ã‚·", kun: "ã“", ti: "Äá»©a bÃ© quáº¥n tÃ£ dang 2 tay.", ta: "Ca **SÄ©** (Shi) nhÃ­ lÃ  tráº» con (Ko).", examples: [{ w: "å¥³å­", r: "ã˜ã‚‡ã—", m: "Ná»¯ sinh" }, { w: "å­ä¾›", r: "ã“ã©ã‚‚", m: "Tráº» con" }] },
            { char: "ç”Ÿ", nghiaHV: "SINH", nghiaTV: "Sá»‘ng/Sinh", on: "ã‚»ã‚¤", kun: "ã†", ti: "CÃ¢y náº£y máº§m trÃªn máº·t Ä‘áº¥t (åœŸ).", ta: "Há»c **SÃ¢y** (Sei) sÆ°a nuÃ´i **U** (U).", examples: [{ w: "å…ˆç”Ÿ", r: "ã›ã‚“ã›ã„", m: "GiÃ¡o viÃªn" }, { w: "ç”Ÿã¾ã‚Œã‚‹", r: "ã†ã¾ã‚Œã‚‹", m: "Sinh ra" }] },
            { char: "å…ˆ", nghiaHV: "TIÃŠN", nghiaTV: "TrÆ°á»›c", on: "ã‚»ãƒ³", kun: "ã•ã", ti: "NgÆ°á»i (**NhÃ¢n å„¿**) Ä‘i trÃªn Ä‘áº¥t (åœŸ) lÃ  ngÆ°á»i Ä‘i trÆ°á»›c.", ta: "Hoa **Sen** (Sen) ná»Ÿ trÆ°á»›c **Sa KÃ¬a** (Saki).", examples: [{ w: "å…ˆæœˆ", r: "ã›ã‚“ã’ã¤", m: "ThÃ¡ng trÆ°á»›c" }, { w: "å…ˆ", r: "ã•ã", m: "TrÆ°á»›c" }] },

            // Body Parts - 6
            { char: "ç›®", nghiaHV: "Má»¤C", nghiaTV: "Máº¯t", on: "ãƒ¢ã‚¯", kun: "ã‚", ti: "HÃ¬nh con máº¯t dá»±ng Ä‘á»©ng.", ta: "**Má»‘c** (Moku) meo trong máº¯t **MÃª** (Me).", examples: [{ w: "ç›®çš„", r: "ã‚‚ãã¦ã", m: "Má»¥c Ä‘Ã­ch" }, { w: "ç›®", r: "ã‚", m: "Máº¯t" }] },
            { char: "è€³", nghiaHV: "NHÄ¨", nghiaTV: "Tai", on: "ã‚¸", kun: "ã¿ã¿", ti: "HÃ¬nh cÃ¡i tai.", ta: "**GÃ¬** (Ji) cÆ¡? Tai **Mi Mi** (Mimi) Ä‘iáº¿c Ã ?", examples: [{ w: "è€³é¼»ç§‘", r: "ã˜ã³ã‹", m: "Khoa tai mÅ©i" }, { w: "è€³", r: "ã¿ã¿", m: "Tai" }] },
            { char: "å£", nghiaHV: "KHáº¨U", nghiaTV: "Miá»‡ng", on: "ã‚³ã‚¦", kun: "ãã¡", ti: "CÃ¡i miá»‡ng hÃ¬nh vuÃ´ng má»Ÿ to.", ta: "**CÃ´** (Kou) giÃ¡o ngáº­m káº¹o **Ku Chi** (Kuchi).", examples: [{ w: "äººå£", r: "ã˜ã‚“ã“ã†", m: "DÃ¢n sá»‘" }, { w: "å£", r: "ãã¡", m: "Miá»‡ng" }] },
            { char: "æ‰‹", nghiaHV: "THá»¦", nghiaTV: "Tay", on: "ã‚·ãƒ¥", kun: "ã¦", ti: "HÃ¬nh bÃ n tay xoÃ¨ ngÃ³n.", ta: "**Su** (Shu) hÃ o trÃªn tay **TÃª** (Te).", examples: [{ w: "æ­Œæ‰‹", r: "ã‹ã—ã‚…", m: "Ca sÄ©" }, { w: "æ‰‹", r: "ã¦", m: "Tay" }] },
            { char: "è¶³", nghiaHV: "TÃšC", nghiaTV: "ChÃ¢n", on: "ã‚½ã‚¯", kun: "ã‚ã—", ti: "CÃ¡i miá»‡ng (**Kháº©u å£**) vÃ  cÃ¡i chÃ¢n Ä‘i (**Chá»‰ æ­¢**).", ta: "**SÃ´ CÃ´** (Soku) la dÃ­nh chÃ¢n **A Si** (Ashi).", examples: [{ w: "ä¸è¶³", r: "ãµãã", m: "Thiáº¿u" }, { w: "è¶³", r: "ã‚ã—", m: "ChÃ¢n" }] },
            { char: "åŠ›", nghiaHV: "Lá»°C", nghiaTV: "Sá»©c lá»±c", on: "ãƒªãƒ§ã‚¯", kun: "ã¡ã‹ã‚‰", ti: "CÃ¡nh tay gá»“ng lÃªn cÆ¡ báº¯p.", ta: "**Rá»‘c** (Ryoku) kÃ©t dÃ¹ng sá»©c **Chi Ca Ra** (Chikara).", examples: [{ w: "å”åŠ›", r: "ãã‚‡ã†ã‚Šã‚‡ã", m: "Há»£p lá»±c" }, { w: "åŠ›", r: "ã¡ã‹ã‚‰", m: "Sá»©c lá»±c" }] },

            // Verbs (Actions) - 9
            { char: "è¦‹", nghiaHV: "KIáº¾N", nghiaTV: "NhÃ¬n", on: "ã‚±ãƒ³", kun: "ã¿", ti: "Máº¯t (**Má»¥c ç›®**) cÃ³ chÃ¢n Ä‘i (**NhÃ¢n å„¿**) Ä‘á»ƒ nhÃ¬n.", ta: "**Ká»n** (Ken) ká»n **Mi** (Miru) nhÃ¬n gÃ¬?", examples: [{ w: "è¦‹å­¦", r: "ã‘ã‚“ãŒã", m: "Kiáº¿n táº­p" }, { w: "è¦‹ã‚‹", r: "ã¿ã‚‹", m: "NhÃ¬n" }] },
            { char: "å‡º", nghiaHV: "XUáº¤T", nghiaTV: "Ra", on: "ã‚·ãƒ¥ãƒ„", kun: "ã§", ti: "Hai ngá»n nÃºi (**SÆ¡n å±±**) chá»“ng lÃªn nhau Ä‘i ra.", ta: "**Suáº¥t** (Shutsu) Äƒn Ä‘em ra **ÄÃª** (Deru).", examples: [{ w: "è¼¸å‡º", r: "ã‚†ã—ã‚…ã¤", m: "Xuáº¥t kháº©u" }, { w: "å‡ºã‚‹", r: "ã§ã‚‹", m: "Ra" }] },
            { char: "å…¥", nghiaHV: "NHáº¬P", nghiaTV: "VÃ o", on: "ãƒ‹ãƒ¥ã‚¦", kun: "ã¯ã„", ti: "NgÆ°á»i (**NhÃ¢n äºº**) bÆ°á»›c vÃ o cá»­a.", ta: "**Niu** (Nyuu) tÆ¡n **HÃ£i** (Hairu) quÃ¡ cháº¡y vÃ o.", examples: [{ w: "å…¥å­¦", r: "ã«ã‚…ã†ãŒã", m: "Nháº­p há»c" }, { w: "å…¥ã‚‹", r: "ã¯ã„ã‚‹", m: "VÃ o" }] },
            { char: "ç«‹", nghiaHV: "Láº¬P", nghiaTV: "Äá»©ng", on: "ãƒªãƒ„", kun: "ãŸ", ti: "NgÆ°á»i Ä‘á»©ng dang chÃ¢n trÃªn Ä‘áº¥t.", ta: "**Ri** (Ritsu) rÃ­ **Ta** (Tatsu) Ä‘á»©ng dáº­y.", examples: [{ w: "å›½ç«‹", r: "ã“ãã‚Šã¤", m: "Quá»‘c láº­p" }, { w: "ç«‹ã¤", r: "ãŸã¤", m: "Äá»©ng" }] },
            { char: "ä¼‘", nghiaHV: "HÆ¯U", nghiaTV: "Nghá»‰", on: "ã‚­ãƒ¥ã‚¦", kun: "ã‚„ã™", ti: "NgÆ°á»i (**NhÃ¢n äº»**) dá»±a vÃ o cÃ¢y (**Má»™c æœ¨**) nghá»‰.", ta: "**Cá»©u** (Kyuu) tÃ´i, **Ya Su** (Yasumu) nghá»‰ rá»“i.", examples: [{ w: "ä¼‘æ—¥", r: "ãã‚…ã†ã˜ã¤", m: "NgÃ y nghá»‰" }, { w: "ä¼‘ã‚€", r: "ã‚„ã™ã‚€", m: "Nghá»‰" }] },
            { char: "å­¦", nghiaHV: "Há»ŒC", nghiaTV: "Há»c", on: "ã‚¬ã‚¯", kun: "ã¾ãª", ti: "Äá»©a tráº» (**Tá»­ å­**) Ä‘á»™i mÅ© (**Má»‹ch å†–**) Ä‘i há»c á»Ÿ trÆ°á»ng.", ta: "**GÃ  Cá»¥** (Gaku) **MÃ  Náº±m** (Mana) há»c.", examples: [{ w: "å­¦ç”Ÿ", r: "ãŒãã›ã„", m: "Há»c sinh" }, { w: "å­¦ã¶", r: "ã¾ãªã¶", m: "Há»c" }] },
            { char: "æ ¡", nghiaHV: "HIá»†U", nghiaTV: "TrÆ°á»ng", on: "ã‚³ã‚¦", kun: "-", ti: "CÃ¢y (**Má»™c æœ¨**) giao (**Giao äº¤**) lÆ°u á»Ÿ trÆ°á»ng.", ta: "**CÃ´** (Kou) giÃ¡o á»Ÿ trÆ°á»ng.", examples: [{ w: "å­¦æ ¡", r: "ãŒã£ã“ã†", m: "TrÆ°á»ng há»c" }, { w: "æ ¡é•·", r: "ã“ã†ã¡ã‚‡ã†", m: "Hiá»‡u trÆ°á»Ÿng" }] },
            { char: "å­—", nghiaHV: "Tá»°", nghiaTV: "Chá»¯", on: "ã‚¸", kun: "-", ti: "Äá»©a tráº» (**Tá»­ å­**) á»Ÿ trong nhÃ  (**MiÃªn å®€**) há»c chá»¯.", ta: "**GÃ¬** (Ji) cÆ¡? Chá»¯ xáº¥u tháº¿.", examples: [{ w: "æ¼¢å­—", r: "ã‹ã‚“ã˜", m: "HÃ¡n tá»±" }, { w: "æ–‡å­—", r: "ã‚‚ã˜", m: "VÄƒn tá»±" }] },
            { char: "æ–‡", nghiaHV: "VÄ‚N", nghiaTV: "VÄƒn/CÃ¢u", on: "ãƒ–ãƒ³", kun: "-", ti: "NgÆ°á»i dang tay máº·c Ã¡o cÃ³ hoa vÄƒn.", ta: "Nháº­t **Bá»§n** (Bun) viáº¿t vÄƒn hay.", examples: [{ w: "æ–‡å­¦", r: "ã¶ã‚“ãŒã", m: "VÄƒn há»c" }, { w: "ä½œæ–‡", r: "ã•ãã¶ã‚“", m: "Táº­p lÃ m vÄƒn" }] },

            // Adjectives (Colors & State) - 6
            { char: "ç™½", nghiaHV: "Báº CH", nghiaTV: "Tráº¯ng", on: "ãƒã‚¯", kun: "ã—ã‚", ti: "Máº·t trá»i (**Nháº­t æ—¥**) má»c lÃªn tia náº¯ng tráº¯ng (pháº©y).", ta: "**HÃ  Cá»¥** (Haku) rÃ¢u **Si RÃ´** (Shiroi) tráº¯ng.", examples: [{ w: "ç™½äºº", r: "ã¯ãã˜ã‚“", m: "NgÆ°á»i da tráº¯ng" }, { w: "ç™½ã„", r: "ã—ã‚ã„", m: "Tráº¯ng" }] },
            { char: "èµ¤", nghiaHV: "XÃCH", nghiaTV: "Äá»", on: "ã‚»ã‚­", kun: "ã‚ã‹", ti: "Äáº¥t (**Thá»• åœŸ**) bá»‹ nung bá»Ÿi lá»­a (**Há»a ç¬**) thÃ nh mÃ u Ä‘á».", ta: "PhÃ¢n **TÃ­ch** (Seki) mÃ u Ä‘á» **A Ca** (Aka).", examples: [{ w: "èµ¤åå­—", r: "ã›ãã˜ã‚…ã†ã˜", m: "Chá»¯ tháº­p Ä‘á»" }, { w: "èµ¤ã„", r: "ã‚ã‹ã„", m: "Äá»" }] },
            { char: "é’", nghiaHV: "THANH", nghiaTV: "Xanh", on: "ã‚»ã‚¤", kun: "ã‚ãŠ", ti: "Máº·t trÄƒng (**Nguyá»‡t æœˆ**) sinh ra (**Sinh ç”Ÿ**) mÃ u xanh.", ta: "**SÃ¢y** (Sei) sÆ°a ngáº¯m biá»ƒn xanh **A Ã”** (Ao).", examples: [{ w: "é’å¹´", r: "ã›ã„ã­ã‚“", m: "Thanh niÃªn" }, { w: "é’ã„", r: "ã‚ãŠã„", m: "Xanh" }] },
            { char: "æ—©", nghiaHV: "Táº¢O", nghiaTV: "Sá»›m", on: "ã‚½ã‚¦", kun: "ã¯ã‚„", ti: "Máº·t trá»i (**Nháº­t æ—¥**) má»c trÃªn ngá»n cÃ¢y (Tháº­p).", ta: "**XÃ´** (Sou) cháº­u dáº­y sá»›m **Ha Ya** (Hayai).", examples: [{ w: "æ—©æœ", r: "ãã†ã¡ã‚‡ã†", m: "SÃ¡ng sá»›m" }, { w: "æ—©ã„", r: "ã¯ã‚„ã„", m: "Sá»›m" }] },
            { char: "æ­£", nghiaHV: "CHÃNH", nghiaTV: "ÄÃºng", on: "ã‚»ã‚¤", kun: "ãŸã ", ti: "Dá»«ng láº¡i (**Chá»‰ æ­¢**) á»Ÿ váº¡ch xuáº¥t phÃ¡t (Nháº¥t) lÃ  chÃ­nh xÃ¡c.", ta: "**SÃ¢y** (Sei) sÆ°a lÃ m viá»‡c chÃ­nh Ä‘Ã¡ng **Ta Äa** (Tadashii).", examples: [{ w: "æ­£æœˆ", r: "ã—ã‚‡ã†ãŒã¤", m: "NÄƒm má»›i" }, { w: "æ­£ã—ã„", r: "ãŸã ã—ã„", m: "ÄÃºng" }] },
            { char: "å", nghiaHV: "DANH", nghiaTV: "TÃªn", on: "ãƒ¡ã‚¤", kun: "ãª", ti: "Chiá»u tá»‘i (**Tá»‹ch å¤•**) dÃ¹ng miá»‡ng (**Kháº©u å£**) gá»i tÃªn.", ta: "**MÃª** (Mei) máº©n cÃ¡i tÃªn **Na** (Na).", examples: [{ w: "æœ‰å", r: "ã‚†ã†ã‚ã„", m: "Ná»•i tiáº¿ng" }, { w: "åå‰", r: "ãªã¾ãˆ", m: "TÃªn" }] },

            // Others - 6
            { char: "ç‹", nghiaHV: "VÆ¯Æ NG", nghiaTV: "Vua", on: "ã‚ªã‚¦", kun: "-", ti: "Ba nÃ©t ngang (Trá»i, NgÆ°á»i, Äáº¥t) Ä‘Æ°á»£c ná»‘i bá»Ÿi vua.", ta: "**Ã”ng** (Ou) vua.", examples: [{ w: "ç‹æ§˜", r: "ãŠã†ã•ã¾", m: "Äá»©c vua" }, { w: "å›½ç‹", r: "ã“ããŠã†", m: "Quá»‘c vÆ°Æ¡ng" }] },
            { char: "ç‰", nghiaHV: "NGá»ŒC", nghiaTV: "Ngá»c/TrÃ²n", on: "ã‚®ãƒ§ã‚¯", kun: "ãŸã¾", ti: "Vua (**VÆ°Æ¡ng ç‹**) cáº§m viÃªn ngá»c (cháº¥m).", ta: "**GiÃ³ CÆ°** (Gyoku) thá»•i viÃªn ngá»c **Ta Ma** (Tama).", examples: [{ w: "ç›®ç‰", r: "ã‚ã ã¾", m: "Con ngÆ°Æ¡i" }, { w: "ç‰ã­ã", r: "ãŸã¾ã­ã", m: "HÃ nh tÃ¢y" }] },
            { char: "çŠ¬", nghiaHV: "KHUYá»‚N", nghiaTV: "ChÃ³", on: "ã‚±ãƒ³", kun: "ã„ã¬", ti: "Chá»¯ Äáº¡i (å¤§) thÃªm má»™t dáº¥u pháº©y (Ä‘uÃ´i chÃ³).", ta: "**Ká»n** (Ken) ká»n sá»£ chÃ³ **I NÆ°** (Inu).", examples: [{ w: "ç•ªçŠ¬", r: "ã°ã‚“ã‘ã‚“", m: "ChÃ³ giá»¯ nhÃ " }, { w: "çŠ¬", r: "ã„ã¬", m: "ChÃ³" }] },
            { char: "è™«", nghiaHV: "TRÃ™NG", nghiaTV: "CÃ´n trÃ¹ng", on: "ãƒãƒ¥ã‚¦", kun: "ã‚€ã—", ti: "Con sÃ¢u bÃ² trong cÃ¡i há»™p.", ta: "**Chu** (Chuu) má» báº¯t sÃ¢u **MÃ¹ Si** (Mushi).", examples: [{ w: "æ˜†è™«", r: "ã“ã‚“ã¡ã‚…ã†", m: "CÃ´n trÃ¹ng" }, { w: "è™«", r: "ã‚€ã—", m: "SÃ¢u bá»" }] },
            { char: "è‰", nghiaHV: "THáº¢O", nghiaTV: "Cá»", on: "ã‚½ã‚¦", kun: "ãã•", ti: "Máº·t trá»i (**Nháº­t æ—¥**) má»c sá»›m (**Táº£o æ—©**) trÃªn Ä‘á»“ng cá» (**Tháº£o è‰¹**).", ta: "**XÃ´** (Sou) cháº­u Ä‘áº§y cá» **CÆ° Xa** (Kusa).", examples: [{ w: "è‰åŸ", r: "ãã†ã’ã‚“", m: "Tháº£o nguyÃªn" }, { w: "è‰", r: "ãã•", m: "Cá»" }] },
            { char: "æ—", nghiaHV: "LÃ‚M", nghiaTV: "Rá»«ng thÆ°a", on: "ãƒªãƒ³", kun: "ã¯ã‚„ã—", ti: "Hai cÃ¡i cÃ¢y (**Má»™c æœ¨**) Ä‘á»©ng cáº¡nh nhau.", ta: "**Rinh** (Rin) quÃ  trong rá»«ng **Ha Ya Si** (Hayashi).", examples: [{ w: "æ£®æ—", r: "ã—ã‚“ã‚Šã‚“", m: "Rá»«ng ráº­m" }, { w: "æ—", r: "ã¯ã‚„ã—", m: "Rá»«ng thÆ°a" }] },
            { char: "æ£®", nghiaHV: "SÃ‚M", nghiaTV: "Rá»«ng ráº­m", on: "ã‚·ãƒ³", kun: "ã‚‚ã‚Š", ti: "Ba cÃ¡i cÃ¢y (**Má»™c æœ¨**) táº¡o thÃ nh rá»«ng ráº­m.", ta: "**Xin** (Shin) vÃ o rá»«ng **MÃ´ Ri** (Mori).", examples: [{ w: "æ£®æ—", r: "ã—ã‚“ã‚Šã‚“", m: "Rá»«ng ráº­m" }, { w: "æ£®", r: "ã‚‚ã‚Š", m: "Rá»«ng" }] },
            { char: "è²", nghiaHV: "Bá»I", nghiaTV: "SÃ²/Tiá»n", on: "-", kun: "ã‹ã„", ti: "Con máº¯t (**Má»¥c ç›®**) cÃ³ hai chÃ¢n bÃ¡t (å…«).", ta: "**Cai** (Kai) thuá»‘c mua sÃ².", examples: [{ w: "è²æ®»", r: "ã‹ã„ãŒã‚‰", m: "Vá» sÃ²" }, { w: "è²", r: "ã‹ã„", m: "SÃ²" }] },
            { char: "ç³¸", nghiaHV: "Má»ŠCH", nghiaTV: "Sá»£i chá»‰", on: "ã‚·", kun: "ã„ã¨", ti: "Hai cuá»™n tÆ¡ nhá» (Tiá»ƒu) xoáº¯n láº¡i.", ta: "Tiáº¿n **SÄ©** (Shi) khÃ¢u chá»‰ **I TÃ´** (Ito).", examples: [{ w: "è£½ç³¸", r: "ã›ã„ã—", m: "KÃ©o tÆ¡" }, { w: "ç³¸", r: "ã„ã¨", m: "Chá»‰" }] },
            { char: "å¤•", nghiaHV: "Tá»ŠCH", nghiaTV: "Chiá»u tá»‘i", on: "ã‚»ã‚­", kun: "ã‚†ã†", ti: "Váº§ng trÄƒng khuyáº¿t lÃºc chiá»u tÃ .", ta: "PhÃ¢n **TÃ­ch** (Seki) buá»•i chiá»u **Yu** (Yuu).", examples: [{ w: "ä¸€æœä¸€å¤•", r: "ã„ã£ã¡ã‚‡ã†ã„ã£ã›ã", m: "Má»™t sá»›m má»™t chiá»u" }, { w: "å¤•æ–¹", r: "ã‚†ã†ãŒãŸ", m: "Chiá»u tá»‘i" }] },
            { char: "è»Š", nghiaHV: "XA", nghiaTV: "Xe", on: "ã‚·ãƒ£", kun: "ãã‚‹ã¾", ti: "NhÃ¬n tá»« trÃªn xuá»‘ng giá»‘ng cÃ¡i xe kÃ©o.", ta: "Xe **Sa** (Sha) tÄƒng lÃ  Ã´ tÃ´ (Kuruma).", examples: [{ w: "é›»è»Š", r: "ã§ã‚“ã—ã‚ƒ", m: "TÃ u Ä‘iá»‡n" }, { w: "è»Š", r: "ãã‚‹ã¾", m: "Ã” tÃ´" }] },
            { char: "éŸ³", nghiaHV: "Ã‚M", nghiaTV: "Ã‚m thanh", on: "ã‚ªãƒ³", kun: "ãŠã¨", ti: "Äá»©ng (**Láº­p ç«‹**) cáº£ ngÃ y (**Nháº­t æ—¥**) nghe Ã¢m thanh.", ta: "**Ã”n** (On) bÃ i nghe Ã¢m thanh **Ã” TÃ´** (Oto).", examples: [{ w: "éŸ³æ¥½", r: "ãŠã‚“ãŒã", m: "Ã‚m nháº¡c" }, { w: "éŸ³", r: "ãŠã¨", m: "Ã‚m thanh" }] },
            { char: "ç”º", nghiaHV: "ÄINH", nghiaTV: "Thá»‹ tráº¥n", on: "ãƒãƒ§ã‚¦", kun: "ã¾ã¡", ti: "Ruá»™ng (**Äiá»n ç”°**) bÃªn cáº¡nh con Ä‘Æ°á»ng (**Äinh ä¸**).", ta: "**ChÃ´** (Chou) **Ma Chi** (Machi) lÃ  thá»‹ tráº¥n.", examples: [{ w: "ç”ºé•·", r: "ã¡ã‚‡ã†ã¡ã‚‡ã†", m: "TrÆ°á»Ÿng thá»‹ tráº¥n" }, { w: "ç”º", r: "ã¾ã¡", m: "Thá»‹ tráº¥n" }] },
            { char: "æ‘", nghiaHV: "THÃ”N", nghiaTV: "ThÃ´n lÃ ng", on: "ã‚½ãƒ³", kun: "ã‚€ã‚‰", ti: "CÃ¢y (**Má»™c æœ¨**) cÃ³ táº¥c Ä‘áº¥t (**Thá»‘n å¯¸**) lÃ  thÃ´n lÃ ng.", ta: "**SÆ¡n** (Son) **Má»¥ Ra** (Mura) á»Ÿ thÃ´n.", examples: [{ w: "è¾²æ‘", r: "ã®ã†ãã‚“", m: "NÃ´ng thÃ´n" }, { w: "æ‘", r: "ã‚€ã‚‰", m: "LÃ ng" }] }
        ];

        // --- STATE ---
        let currentTab = 'learn';
        let currentQuizIndex = 0;
        let quizScore = 0;
        let currentQuizQuestion = null;
        let currentStrokeSvg = null;

        // --- UTILS ---
        function speak(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                // Clean text for speech: remove special chars
                const clean = text.replace(/\[.*?\]/g, '').replace(/<.*?>/g, '').replace(/ãƒ»/g, '').replace(/\*/g, '');
                const u = new SpeechSynthesisUtterance(clean);
                u.lang = 'ja-JP'; u.rate = 0.9;
                window.speechSynthesis.speak(u);
            }
        }

        function getKanjiHex(kanji) {
            return kanji.charCodeAt(0).toString(16).padStart(5, '0');
        }

        async function fetchKanjiSvg(hex) {
            try {
                const response = await fetch(`https://cdn.jsdelivr.net/gh/KanjiVG/kanjivg/kanji/${hex}.svg`);
                if (!response.ok) throw new Error('Not found');
                return await response.text();
            } catch (e) { return null; }
        }

        // --- TABS ---
        function switchTab(tab) {
            currentTab = tab;
            document.getElementById('learn-section').classList.toggle('hidden', tab !== 'learn');
            document.getElementById('quiz-section').classList.toggle('hidden', tab !== 'quiz');
            
            const btnLearn = document.getElementById('tab-learn');
            const btnQuiz = document.getElementById('tab-quiz');
            
            if (tab === 'learn') {
                btnLearn.classList.add('tab-active'); btnLearn.classList.remove('tab-inactive');
                btnQuiz.classList.add('tab-inactive'); btnQuiz.classList.remove('tab-active');
            } else {
                btnQuiz.classList.add('tab-active'); btnQuiz.classList.remove('tab-inactive');
                btnLearn.classList.add('tab-inactive'); btnLearn.classList.remove('tab-active');
                startQuiz();
            }
        }

        // --- RENDER LEARN ---
        function renderLearn() {
            const grid = document.getElementById('kanji-grid');
            grid.innerHTML = kanjiData.map((k, idx) => `
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition duration-300 flex flex-col group">
                    <div class="bg-sky-50 p-4 border-b border-sky-100 flex justify-between items-start relative">
                        <div class="flex gap-4 items-center">
                            <div class="w-16 h-16 bg-white rounded-lg flex items-center justify-center border-2 border-sky-200 cursor-pointer hover:border-sky-400 transition shadow-sm" onclick="showStrokeOrder('${k.char}')">
                                <span class="text-4xl font-bold kanji-font text-gray-800">${k.char}</span>
                            </div>
                            <div>
                                <div class="text-red-600 font-bold text-lg tracking-wide">${k.nghiaHV}</div>
                                <div class="text-gray-600 text-sm font-medium">${k.nghiaTV}</div>
                            </div>
                        </div>
                        <button onclick="showStrokeOrder('${k.char}')" class="text-sky-500 hover:text-sky-700 bg-white rounded-full p-2 w-8 h-8 flex items-center justify-center shadow-sm border border-sky-100"><i class="fas fa-pen-nib text-xs"></i></button>
                        <div class="absolute -bottom-3 right-4 text-6xl text-gray-100 font-black -z-0 pointer-events-none select-none">${idx + 1}</div>
                    </div>
                    <div class="p-4 space-y-3 z-10 relative flex-grow flex flex-col">
                        <div class="grid grid-cols-2 gap-3 text-sm">
                            <div class="bg-gray-50 rounded p-2 border border-gray-100">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-[10px] uppercase font-bold text-gray-400">On</span>
                                    <button onclick="speak('${k.on}')" class="text-sky-400 hover:text-sky-600"><i class="fas fa-volume-up text-xs"></i></button>
                                </div>
                                <span class="font-bold text-sky-800 kanji-font text-base">${k.on}</span>
                            </div>
                            <div class="bg-gray-50 rounded p-2 border border-gray-100">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-[10px] uppercase font-bold text-gray-400">Kun</span>
                                    <button onclick="speak('${k.kun}')" class="text-sky-400 hover:text-sky-600"><i class="fas fa-volume-up text-xs"></i></button>
                                </div>
                                <span class="font-bold text-sky-800 kanji-font text-base">${k.kun}</span>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <div class="bg-orange-50 p-2 rounded text-xs text-orange-900 border border-orange-100">
                                <span class="font-bold text-orange-600 mr-1">ğŸ–¼ï¸ HÃ¬nh:</span> ${k.ti}
                            </div>
                            <div class="bg-blue-50 p-2 rounded text-xs text-blue-900 border border-blue-100">
                                <span class="font-bold text-blue-600 mr-1">ğŸ”Š Ã‚m:</span> ${k.ta.replace(/\*\*(.*?)\*\*/g, '<span class="font-bold text-blue-700">$1</span>')}
                            </div>
                        </div>
                        <div class="pt-2 border-t border-gray-100 space-y-2 mt-auto">
                            ${k.examples.map(ex => `
                                <div class="flex justify-between items-center group/ex cursor-pointer p-1 rounded hover:bg-gray-50" onclick="speak('${ex.w}')">
                                    <div>
                                        <div class="kanji-font font-bold text-gray-800 text-sm">${ex.w} <span class="text-xs font-normal text-gray-400">(${ex.r})</span></div>
                                        <div class="text-xs text-gray-500">${ex.m}</div>
                                    </div>
                                    <i class="fas fa-volume-up text-xs text-gray-300 group-hover/ex:text-sky-500 transition"></i>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // --- STROKE ORDER MODAL ---
        async function showStrokeOrder(kanji) {
            const hex = getKanjiHex(kanji);
            document.getElementById('stroke-modal').classList.remove('hidden');
            document.getElementById('stroke-modal-char').innerText = kanji;
            const animContainer = document.getElementById('stroke-animation-container');
            const gridContainer = document.getElementById('stroke-grid-container');
            animContainer.innerHTML = '<span class="text-xs text-gray-400">Äang táº£i...</span>';
            const svgContent = await fetchKanjiSvg(hex);
            if (!svgContent) {
                animContainer.innerHTML = "<p class='p-4 text-red-500 text-xs'>Lá»—i</p>";
                gridContainer.innerHTML = "";
                return;
            }
            animContainer.innerHTML = svgContent;
            const mainSvg = animContainer.querySelector('svg');
            mainSvg.setAttribute('width', '100%'); mainSvg.setAttribute('height', '100%');
            const paths = mainSvg.querySelectorAll('path');
            paths.forEach(p => {
                const len = p.getTotalLength();
                p.style.strokeDasharray = len; p.style.strokeDashoffset = len;
                p.style.stroke = "#333"; p.style.strokeWidth = "4"; p.style.fill = "none";
                p.style.strokeLinecap = "round"; p.style.strokeLinejoin = "round";
            });
            currentStrokeSvg = mainSvg;
            replayStrokeAnimation();
            gridContainer.innerHTML = '';
            for(let i=0; i<paths.length; i++) {
                const box = document.createElement('div');
                box.className = "w-12 h-12 md:w-16 md:h-16 bg-white border border-gray-200 relative stroke-grid-box flex items-center justify-center";
                const parser = new DOMParser();
                const svgClone = parser.parseFromString(svgContent, "image/svg+xml").querySelector('svg');
                svgClone.setAttribute('width', '100%'); svgClone.setAttribute('height', '100%');
                svgClone.querySelectorAll('path').forEach((p, idx) => {
                    p.style.fill="none"; p.style.strokeLinecap="round"; p.style.strokeLinejoin="round";
                    if(idx < i) { p.style.stroke="#9ca3af"; p.style.strokeWidth="3"; }
                    else if(idx === i) { p.style.stroke="#000"; p.style.strokeWidth="4"; }
                    else p.style.display="none";
                });
                box.appendChild(svgClone);
                gridContainer.appendChild(box);
            }
        }

        function replayStrokeAnimation() {
            if(!currentStrokeSvg) return;
            const paths = currentStrokeSvg.querySelectorAll('path');
            paths.forEach(p => { p.style.transition = 'none'; p.style.strokeDashoffset = p.getTotalLength(); });
            void currentStrokeSvg.offsetWidth;
            let delay = 0;
            paths.forEach(p => {
                p.style.transition = `stroke-dashoffset 0.6s ease-in-out ${delay}s`;
                p.style.strokeDashoffset = '0';
                delay += 0.6;
            });
        }

        function closeStrokeModal() { document.getElementById('stroke-modal').classList.add('hidden'); }

        // --- QUIZ LOGIC ---
        function startQuiz() {
            quizScore = 0;
            currentQuizIndex = 0;
            document.getElementById('score-display').innerText = '0';
            loadQuestion();
        }

        function loadQuestion() {
            const qType = Math.random() > 0.5 ? 'kanji-meaning' : 'meaning-kanji';
            const target = kanjiData[Math.floor(Math.random() * kanjiData.length)];
            currentQuizQuestion = { target, type: qType };
            const display = document.getElementById('quiz-kanji-display');
            const questionText = document.getElementById('quiz-question-text');
            const optionsArea = document.getElementById('options-area');
            document.getElementById('feedback-area').classList.add('hidden');
            document.getElementById('q-current').innerText = currentQuizIndex + 1;
            document.getElementById('quiz-progress').style.width = `${((currentQuizIndex) / 10) * 100}%`;
            const others = kanjiData.filter(k => k !== target).sort(() => 0.5 - Math.random()).slice(0, 3);
            const options = [target, ...others].sort(() => 0.5 - Math.random());
            if (qType === 'kanji-meaning') {
                display.innerText = target.char;
                questionText.innerText = "HÃ¡n tá»± nÃ y cÃ³ nghÄ©a lÃ  gÃ¬?";
                optionsArea.innerHTML = options.map(opt => `
                    <button onclick="checkAnswer('${opt.char}')" class="quiz-opt-btn bg-white border-2 border-gray-200 p-4 rounded-xl hover:border-sky-400 hover:bg-sky-50 transition active:scale-95 shadow-sm text-lg font-bold text-gray-700">
                        ${opt.nghiaHV} (${opt.nghiaTV})
                    </button>
                `).join('');
            } else {
                display.innerText = target.nghiaHV;
                questionText.innerText = `Chá»n Kanji tÆ°Æ¡ng á»©ng vá»›i "${target.nghiaTV}"`;
                optionsArea.innerHTML = options.map(opt => `
                    <button onclick="checkAnswer('${opt.char}')" class="quiz-opt-btn bg-white border-2 border-gray-200 p-4 rounded-xl hover:border-sky-400 hover:bg-sky-50 transition active:scale-95 shadow-sm text-4xl font-bold kanji-font text-gray-800">
                        ${opt.char}
                    </button>
                `).join('');
            }
        }

        function checkAnswer(selectedChar) {
            const btns = document.querySelectorAll('.quiz-opt-btn');
            btns.forEach(b => b.disabled = true);
            const isCorrect = selectedChar === currentQuizQuestion.target.char;
            const feedbackArea = document.getElementById('feedback-area');
            const feedbackTitle = document.getElementById('feedback-title');
            const feedbackDetail = document.getElementById('feedback-detail');
            feedbackArea.classList.remove('hidden');
            if (isCorrect) {
                quizScore += 10;
                document.getElementById('score-display').innerText = quizScore;
                feedbackTitle.innerHTML = '<i class="fas fa-check-circle text-emerald-500 mr-2"></i> ChÃ­nh xÃ¡c!';
                feedbackTitle.className = "font-bold text-lg mb-1 flex items-center text-emerald-700";
                feedbackDetail.innerHTML = `
                    <span class="text-3xl kanji-font font-bold text-gray-800 mr-2">${currentQuizQuestion.target.char}</span>
                    <span class="font-bold text-red-600">${currentQuizQuestion.target.nghiaHV}</span>: ${currentQuizQuestion.target.nghiaTV}
                `;
                feedbackArea.className = "bg-emerald-50 rounded-xl p-4 border border-emerald-200 text-left animate-fade-in";
                speak(currentQuizQuestion.target.char);
            } else {
                feedbackTitle.innerHTML = '<i class="fas fa-times-circle text-red-500 mr-2"></i> Sai rá»“i!';
                feedbackTitle.className = "font-bold text-lg mb-1 flex items-center text-red-700";
                feedbackDetail.innerHTML = `ÄÃ¡p Ã¡n Ä‘Ãºng lÃ : <strong>${currentQuizQuestion.target.char} (${currentQuizQuestion.target.nghiaTV})</strong>`;
                feedbackArea.className = "bg-red-50 rounded-xl p-4 border border-red-200 text-left animate-fade-in wrong-anim";
            }
        }

        function nextQuestion() {
            currentQuizIndex++;
            if (currentQuizIndex >= 10) {
                alert(`HoÃ n thÃ nh! Báº¡n Ä‘áº¡t ${quizScore} Ä‘iá»ƒm.`);
                startQuiz();
            } else {
                loadQuestion();
            }
        }

        renderLearn();
        window.addEventListener('load', () => {
    // 1. Láº¥y tham sá»‘ 'search' tá»« URL (VÃ­ dá»¥: kanji1.html?search=äºº)
    const urlParams = new URLSearchParams(window.location.search);
    const searchQuery = urlParams.get('search');

    if (searchQuery) {
        // 2. TÃ¬m Ã´ nháº­p liá»‡u tÃ¬m kiáº¿m trÃªn trang nÃ y
        // (Giáº£ sá»­ ID cá»§a Ã´ input trÃªn trang con lÃ  'local-search')
        const searchInput = document.getElementById('local-search'); 
        
        if (searchInput) {
            // 3. Äiá»n tá»« khÃ³a vÃ o Ã´ input
            searchInput.value = searchQuery;

            // 4. KÃ­ch hoáº¡t sá»± kiá»‡n 'input' Ä‘á»ƒ cháº¡y logic lá»c card cÃ³ sáºµn trÃªn trang
            const event = new Event('input', { bubbles: true });
            searchInput.dispatchEvent(event);

            // 5. Tá»± Ä‘á»™ng cuá»™n Ä‘áº¿n card Ä‘áº§u tiÃªn tÃ¬m tháº¥y (tÃ¹y chá»n)
            setTimeout(() => {
                const firstMatch = document.querySelector('#kanji-grid > div:not(.hidden)');
                if (firstMatch) firstMatch.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 500);
        }
    }
});
    </script>
</body>
</html>
