<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AzaKanji - NgÃ y 13/24 (80 HÃ¡n Tá»±)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Nunito', sans-serif; background-color: #f0f9ff; overflow-x: hidden; }
        .kanji-font { font-family: 'Noto Sans JP', sans-serif; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }

        /* Animations */
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .modal-enter { animation: modalIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes modalIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        .correct-anim { animation: pulse-green 0.5s; }
        @keyframes pulse-green { 0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); } 100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); } }
        
        .wrong-anim { animation: shake 0.4s; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }

        /* Tab Active State */
        .tab-active { background-color: #0369a1; color: white; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
        .tab-inactive { background-color: #e0f2fe; color: #0c4a6e; }

        /* Stroke Grid Styles */
        .stroke-path { fill: none; stroke: #333; stroke-width: 3; stroke-linecap: round; stroke-linejoin: round; }
        .stroke-grid-box { border: 1px solid #e5e7eb; background-color: white; position: relative; }
        .stroke-grid-box::after { content: ''; position: absolute; top: 0; left: 50%; width: 1px; height: 100%; background: repeating-linear-gradient(to bottom, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); z-index: 0; }
        .stroke-grid-box::before { content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 1px; background: repeating-linear-gradient(to right, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); z-index: 0; }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-sky-700 text-white shadow-lg sticky top-0 z-40">
        <div class="container mx-auto px-4 py-3">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center space-x-3 cursor-pointer" onclick="location.reload()">
                    <i class="fas fa-torii-gate text-3xl text-yellow-400"></i>
                    <div>
                        <h1 class="text-xl font-bold uppercase tracking-wider">AZAKANJI</h1>
                        <p class="text-xs text-sky-200">Kanji siÃªu tá»‘c, há»c rá»™ng hiá»ƒu sÃ¢u</p>
                    </div>
                </div>
                
                <div class="flex items-center gap-2 overflow-x-auto max-w-full pb-1 md:pb-0">
                    <div class="flex bg-sky-800 rounded-lg p-1">
                        <button onclick="switchTab('learn')" id="tab-learn" class="px-4 py-2 rounded-md text-sm font-bold transition whitespace-nowrap tab-active">
                            <i class="fas fa-book-open mr-2"></i>Há»c Táº­p
                        </button>
                        <button onclick="switchTab('quiz')" id="tab-quiz" class="px-4 py-2 rounded-md text-sm font-bold transition whitespace-nowrap tab-inactive ml-1">
                            <i class="fas fa-gamepad mr-2"></i>Kiá»ƒm Tra
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6 flex-grow" id="app-container">
        
        <!-- LEARN SECTION -->
        <div id="learn-section" class="fade-in">
            <div class="mb-6 bg-white p-4 rounded-xl shadow-sm border-l-4 border-sky-500 flex justify-between items-center">
                <div>
                    <h3 class="text-lg font-bold text-gray-800 mb-1"><i class="fas fa-calendar-day text-sky-500 mr-2"></i>NgÃ y 13: 80 HÃ¡n Tá»± (N3)</h3>
                    <p class="text-sm text-gray-600">Cáº£m xÃºc, HÃ nh Ä‘á»™ng & Tráº¡ng thÃ¡i.</p>
                </div>
            </div>
            
            <div id="kanji-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                <!-- Cards will be injected here -->
            </div>
        </div>

        <!-- QUIZ SECTION -->
        <div id="quiz-section" class="hidden fade-in max-w-2xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200">
                <div class="bg-gradient-to-r from-emerald-500 to-teal-600 p-6 text-white flex justify-between items-center">
                    <div>
                        <h2 class="text-xl font-bold"><i class="fas fa-puzzle-piece mr-2"></i>Thá»­ ThÃ¡ch NgÃ y 13</h2>
                        <p class="text-emerald-100 text-xs mt-1">Ã”n táº­p 80 chá»¯ vá»«a há»c</p>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-emerald-200 uppercase font-bold">Äiá»ƒm sá»‘</div>
                        <div class="text-3xl font-bold" id="score-display">0</div>
                    </div>
                </div>
                
                <div class="p-6 md:p-8">
                    <!-- Progress Bar -->
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-6">
                        <div id="quiz-progress" class="bg-emerald-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>

                    <div id="question-area" class="text-center mb-8">
                        <div class="text-gray-500 text-sm font-bold mb-4 uppercase tracking-wide">CÃ¢u há»i <span id="q-current">1</span> / <span id="q-total">10</span></div>
                        <div class="mb-4">
                            <span class="text-6xl kanji-font font-bold text-gray-800" id="quiz-kanji-display"></span>
                        </div>
                        <div class="text-lg text-gray-600 font-medium" id="quiz-question-text">HÃ¡n tá»± nÃ y cÃ³ nghÄ©a lÃ  gÃ¬?</div>
                    </div>

                    <div id="options-area" class="grid grid-cols-2 gap-4 mb-6">
                        <!-- Options injected here -->
                    </div>

                    <div id="feedback-area" class="hidden bg-gray-50 rounded-xl p-4 border border-gray-200 text-left animate-fade-in">
                        <div id="feedback-title" class="font-bold text-lg mb-2 flex items-center"></div>
                        <p id="feedback-detail" class="text-gray-600 text-sm mb-3"></p>
                        <button onclick="nextQuestion()" class="w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 rounded-lg shadow transition">Tiáº¿p tá»¥c <i class="fas fa-arrow-right ml-2"></i></button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- STROKE ORDER MODAL -->
    <div id="stroke-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeStrokeModal()"></div>
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl w-full modal-enter relative">
                <div class="bg-sky-600 px-4 py-3 flex justify-between items-center text-white">
                    <h3 class="font-bold text-lg"><i class="fas fa-pen-nib mr-2"></i>Táº­p Viáº¿t: <span id="stroke-modal-char" class="text-2xl ml-2 font-bold"></span></h3>
                    <button onclick="closeStrokeModal()" class="hover:text-gray-200 text-2xl">&times;</button>
                </div>
                <div class="p-4 md:p-6 bg-gray-50 max-h-[80vh] overflow-y-auto">
                    <div class="flex flex-col md:flex-row gap-6 md:gap-8 items-center md:items-start justify-center">
                        <div class="bg-white p-4 rounded-lg shadow border border-gray-200 text-center w-full md:w-auto">
                            <p class="text-xs text-gray-500 mb-2 font-bold uppercase tracking-wider">MÃ´ phá»ng</p>
                            <div id="stroke-animation-container" class="w-40 h-40 mx-auto bg-white border border-gray-300 relative stroke-grid-box flex items-center justify-center">
                                <span class="text-gray-400 text-xs">Äang táº£i...</span>
                            </div>
                            <button onclick="replayStrokeAnimation()" class="mt-3 text-sm bg-sky-100 text-sky-700 px-4 py-2 rounded-full hover:bg-sky-200 transition w-full font-bold flex items-center justify-center"><i class="fas fa-redo mr-2"></i> Viáº¿t láº¡i</button>
                        </div>
                        <div class="flex-1 w-full">
                            <p class="text-xs text-gray-500 mb-3 font-bold uppercase tracking-wider text-center md:text-left">Thá»© tá»± nÃ©t</p>
                            <div id="stroke-grid-container" class="flex flex-wrap gap-2 justify-center md:justify-start"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- DATA DAY 13 (80 Kanji N3 - AzaKanji Method) ---
        const kanjiData = [
            // Emotions & Actions (A-I) - 12
            { char: "æ¡", nghiaHV: "ÃC", nghiaTV: "Náº¯m/Cáº§m", on: "ã‚¢ã‚¯", kun: "ã«ã", ti: "Tay (**Thá»§ æ‰Œ**) náº¯m láº¥y nhÃ  (**á»c å±‹**).", ta: "**Ãc** (Aku) ma **Ni Ghi** (Nigiru) náº¯m tay.", examples: [{ w: "æ¡æ‰‹", r: "ã‚ãã—ã‚…", m: "Báº¯t tay" }, { w: "æ¡ã‚‹", r: "ã«ãã‚‹", m: "Náº¯m" }] },
            { char: "å“€", nghiaHV: "AI", nghiaTV: "Bi ai", on: "ã‚¢ã‚¤", kun: "ã‚ã‚", ti: "Miá»‡ng (**Kháº©u å£**) khÃ³c trong Ã¡o (**Y è¡£**).", ta: "**Ai** (Ai) oÃ¡n **A Wa** (Aware) Ä‘Ã¡ng thÆ°Æ¡ng.", examples: [{ w: "æ‚²å“€", r: "ã²ã‚ã„", m: "Bi ai" }, { w: "å“€ã‚Œ", r: "ã‚ã‚ã‚Œ", m: "ÄÃ¡ng thÆ°Æ¡ng" }] },
            { char: "ä¾", nghiaHV: "Y", nghiaTV: "Dá»±a vÃ o", on: "ã‚¤", kun: "ã‚ˆ", ti: "NgÆ°á»i (**NhÃ¢n äº»**) dá»±a vÃ o Ã¡o (**Y è¡£**).", ta: "**Y** (I) nhÆ° **DÃ´** (Yoru) dá»±a vÃ o.", examples: [{ w: "ä¾é ¼", r: "ã„ã‚‰ã„", m: "Nhá» váº£" }, { w: "ä¾ã‚‹", r: "ã‚ˆã‚‹", m: "Dá»±a vÃ o" }] },
            { char: "å¨", nghiaHV: "UY", nghiaTV: "Uy quyá»n", on: "ã‚¤", kun: "-", ti: "NgÆ°á»i ná»¯ (**Ná»¯ å¥³**) bá»‹ Ä‘e dá»a bá»Ÿi vÅ© khÃ­ (**Tuáº¥t æˆŒ**).", ta: "**Y** (I) uy quyá»n.", examples: [{ w: "å¨åŠ›", r: "ã„ã‚Šã‚‡ã", m: "Uy lá»±c" }, { w: "æ¨©å¨", r: "ã‘ã‚“ã„", m: "Quyá»n uy" }] },
            { char: "å‰", nghiaHV: "VÄ¨", nghiaTV: "VÄ© Ä‘áº¡i", on: "ã‚¤", kun: "ãˆã‚‰", ti: "NgÆ°á»i (**NhÃ¢n äº»**) lÃ m trÃ¡i (**Vi éŸ‹**) láº½ thÆ°á»ng lÃ  vÄ© Ä‘áº¡i.", ta: "**Y** (I) nhÆ° **ÃŠ Ra** (Erai) vÄ© Ä‘áº¡i.", examples: [{ w: "å‰å¤§", r: "ã„ã ã„", m: "VÄ© Ä‘áº¡i" }, { w: "å‰ã„", r: "ãˆã‚‰ã„", m: "Giá»i/VÄ© Ä‘áº¡i" }] },
            { char: "ç‚º", nghiaHV: "VI", nghiaTV: "LÃ m/VÃ¬", on: "ã‚¤", kun: "ãŸã‚", ti: "BÃ n tay lÃ m viá»‡c cho con ngÆ°á»i.", ta: "HÃ nh **Vi** (I) **Ta MÃª** (Tame) vÃ¬ lá»£i Ã­ch.", examples: [{ w: "è¡Œç‚º", r: "ã“ã†ã„", m: "HÃ nh vi" }, { w: "ç‚º", r: "ãŸã‚", m: "VÃ¬/Äá»ƒ" }] },
            { char: "é•", nghiaHV: "VI", nghiaTV: "KhÃ¡c/Sai", on: "ã‚¤", kun: "ã¡ãŒ", ti: "Äi (**SÆ°á»›c è¾¶**) trÃ¡i (**Vi éŸ‹**) Ä‘Æ°á»ng lÃ  sai.", ta: "**Y** (I) nhÆ° **Chi Ga** (Chigau) sai rá»“i.", examples: [{ w: "é•å", r: "ã„ã¯ã‚“", m: "Vi pháº¡m" }, { w: "é•ã†", r: "ã¡ãŒã†", m: "KhÃ¡c/Sai" }] },
            { char: "ç¶­", nghiaHV: "DUY", nghiaTV: "Duy trÃ¬", on: "ã‚¤", kun: "-", ti: "Sá»£i chá»‰ (**Má»‹ch ç³¸**) buá»™c con chim (**Chuy éš¹**).", ta: "**Y** (I) nhÆ° duy trÃ¬.", examples: [{ w: "ç¶­æŒ", r: "ã„ã˜", m: "Duy trÃ¬" }, { w: "ç¹Šç¶­", r: "ã›ã‚“ã„", m: "Sá»£i" }] },
            { char: "ç·¯", nghiaHV: "VÄ¨", nghiaTV: "VÄ© Ä‘á»™", on: "ã‚¤", kun: "-", ti: "Sá»£i chá»‰ (**Má»‹ch ç³¸**) bao quanh da (**Vi éŸ‹**).", ta: "**Y** (I) nhÆ° vÄ© Ä‘á»™.", examples: [{ w: "ç·¯åº¦", r: "ã„ã©", m: "VÄ© Ä‘á»™" }, { w: "çµŒç·¯", r: "ã‘ã„ã„", m: "Äáº§u Ä‘uÃ´i" }] },
            { char: "éš ", nghiaHV: "áº¨N", nghiaTV: "áº¨n giáº¥u", on: "ã‚¤ãƒ³", kun: "ã‹ã", ti: "Äáº¥t (**Phá»¥ é˜**) che tÃ¢m (**TÃ¢m å¿ƒ**) mÃ³ng vuá»‘t (**Tráº£o çˆ«**).", ta: "**In** (In) dáº¥u **Ca CÆ°** (Kakusu) áº©n náº¥p.", examples: [{ w: "éš å±…", r: "ã„ã‚“ãã‚‡", m: "Vá» hÆ°u" }, { w: "éš ã™", r: "ã‹ãã™", m: "Che giáº¥u" }] },
            { char: "é™°", nghiaHV: "Ã‚M", nghiaTV: "BÃ³ng rÃ¢m/Ã‚m", on: "ã‚¤ãƒ³", kun: "ã‹ã’", ti: "Äáº¥t (**Phá»¥ é˜**) nay (**Kim ä»Š**) cÃ³ mÃ¢y (**VÃ¢n äº‘**) che.", ta: "**In** (In) bÃ³ng **Ca GhÃª** (Kage) Ã¢m u.", examples: [{ w: "é™°æ°—", r: "ã„ã‚“ã", m: "U Ã¡m" }, { w: "é™°", r: "ã‹ã’", m: "BÃ³ng rÃ¢m" }] },
            { char: "æ…°", nghiaHV: "ÃšY", nghiaTV: "An á»§i", on: "ã‚¤", kun: "ãªãã•", ti: "Tim (**TÃ¢m å¿ƒ**) Ä‘Æ°á»£c an á»§i bá»Ÿi quan (**Ãšy å°‰**).", ta: "**Y** (I) nhÆ° **Na GÆ° Sa** (Nagusameru) an á»§i.", examples: [{ w: "æ…°å®‰", r: "ã„ã‚ã‚“", m: "An á»§i" }, { w: "æ…°ã‚ã‚‹", r: "ãªãã•ã‚ã‚‹", m: "An á»§i" }] },

            // Nature & Elements - 12
            { char: "èŠ‹", nghiaHV: "Dá»¤", nghiaTV: "Khoai", on: "ã‚¦", kun: "ã„ã‚‚", ti: "Cá» (**Tháº£o è‰¹**) má»c trÃªn vu (**Vu äº**).", ta: "**U** (U) sáº§u Äƒn **I MÃ´** (Imo) khoai.", examples: [{ w: "é‡ŒèŠ‹", r: "ã•ã¨ã„ã‚‚", m: "Khoai sá»" }, { w: "èŠ‹", r: "ã„ã‚‚", m: "Khoai" }] },
            { char: "å½±", nghiaHV: "áº¢NH", nghiaTV: "BÃ³ng/áº¢nh", on: "ã‚¨ã‚¤", kun: "ã‹ã’", ti: "Máº·t trá»i (**Nháº­t æ—¥**) chiáº¿u kinh Ä‘Ã´ (**Kinh äº¬**) táº¡o bÃ³ng (**Sam å½¡**).", ta: "**ÃŠ** (Ei) **Ca GhÃª** (Kage) cÃ¡i bÃ³ng.", examples: [{ w: "å½±éŸ¿", r: "ãˆã„ãã‚‡ã†", m: "áº¢nh hÆ°á»Ÿng" }, { w: "å½±", r: "ã‹ã’", m: "CÃ¡i bÃ³ng" }] },
            { char: "è¶Š", nghiaHV: "VIá»†T", nghiaTV: "VÆ°á»£t qua", on: "ã‚¨ãƒ„", kun: "ã“", ti: "Cháº¡y (**Táº©u èµ°**) qua cÃ¡i rÃ¬u (**Máº­u æˆŠ**).", ta: "**áº¾** (Etsu) áº©m **CÃ´** (Koeru) vÆ°á»£t qua.", examples: [{ w: "å„ªè¶Š", r: "ã‚†ã†ãˆã¤", m: "Æ¯u viá»‡t" }, { w: "è¶Šãˆã‚‹", r: "ã“ãˆã‚‹", m: "VÆ°á»£t qua" }] },
            { char: "æ´", nghiaHV: "VIá»†N", nghiaTV: "Viá»‡n trá»£", on: "ã‚¨ãƒ³", kun: "-", ti: "Tay (**Thá»§ æ‰Œ**) kÃ©o báº¡n (**ViÃªn çˆ°**) lÃªn.", ta: "**Em** (En) cáº§n viá»‡n trá»£.", examples: [{ w: "æ´åŠ©", r: "ãˆã‚“ã˜ã‚‡", m: "Viá»‡n trá»£" }, { w: "å¿œæ´", r: "ãŠã†ãˆã‚“", m: "Cá»• vÅ©" }] },
            { char: "ç¸", nghiaHV: "DUYÃŠN", nghiaTV: "DuyÃªn pháº­n/Viá»n", on: "ã‚¨ãƒ³", kun: "ãµã¡", ti: "Sá»£i chá»‰ (**Má»‹ch ç³¸**) ná»‘i con lá»£n (**Thá»‰ å½‘**).", ta: "**Em** (En) cÃ³ duyÃªn **Phu Chi** (Fuchi).", examples: [{ w: "ç¸è«‡", r: "ãˆã‚“ã ã‚“", m: "Chuyá»‡n hÃ´n nhÃ¢n" }, { w: "ç¸", r: "ãµã¡", m: "MÃ©/Viá»n" }] },
            { char: "ç…™", nghiaHV: "YÃŠN", nghiaTV: "KhÃ³i", on: "ã‚¨ãƒ³", kun: "ã‘ã‚€", ti: "Lá»­a (**Há»a ç«**) Ä‘á»‘t Ä‘áº¥t TÃ¢y (**TÃ¢y è¥¿**) bá»‘c khÃ³i (**Thá»• åœŸ**).", ta: "**Em** (En) tháº¥y **KÃª MÆ°** (Kemuri) khÃ³i.", examples: [{ w: "ç¦ç…™", r: "ãã‚“ãˆã‚“", m: "Cáº¥m hÃºt thuá»‘c" }, { w: "ç…™", r: "ã‘ã‚€ã‚Š", m: "KhÃ³i" }] },
            { char: "é‰›", nghiaHV: "DUYÃŠN", nghiaTV: "ChÃ¬", on: "ã‚¨ãƒ³", kun: "ãªã¾ã‚Š", ti: "Kim loáº¡i (**Kim é‡‘**) cháº£y dá»c thung lÅ©ng (**DuyÃªn ã•£** - biáº¿n thá»ƒ).", ta: "**Em** (En) cáº§m **Na Ma Ri** (Namari) chÃ¬.", examples: [{ w: "äºœé‰›", r: "ã‚ãˆã‚“", m: "Káº½m" }, { w: "é‰›ç­†", r: "ãˆã‚“ã´ã¤", m: "BÃºt chÃ¬" }] },
            { char: "ç‚", nghiaHV: "VIÃŠM", nghiaTV: "Lá»­a lá»›n", on: "ã‚¨ãƒ³", kun: "ã»ã®ãŠ", ti: "Hai ngá»n lá»­a (**Há»a ç«**) chá»“ng lÃªn nhau.", ta: "**Em** (En) tháº¥y **HÃ´ NÃ´** (Honoo) lá»­a chÃ¡y.", examples: [{ w: "ç‚ä¸Š", r: "ãˆã‚“ã˜ã‚‡ã†", m: "Bá»‘c chÃ¡y" }, { w: "ç‚", r: "ã»ã®ãŠ", m: "Ngá»n lá»­a" }] },
            { char: "æ±š", nghiaHV: "Ã”", nghiaTV: "Báº©n", on: "ã‚ª", kun: "ããŸãª", ti: "NÆ°á»›c (**Thá»§y æ°µ**) Ä‘á»ng á»Ÿ chá»— lÃµm (**Vu äº**) thÃ¬ báº©n.", ta: "**Ã”** (O) uáº¿ **Ki Ta Na** (Kitanai) báº©n.", examples: [{ w: "æ±šæŸ“", r: "ãŠã›ã‚“", m: "Ã” nhiá»…m" }, { w: "æ±šã„", r: "ããŸãªã„", m: "Báº©n" }] },
            { char: "å¥¥", nghiaHV: "ÃO", nghiaTV: "BÃªn trong/Vá»£", on: "ã‚ªã‚¦", kun: "ãŠã", ti: "BÃªn trong nhÃ  lá»›n (**Äáº¡i å¤§**) cÃ³ gáº¡o (**Má»… ç±³**).", ta: "**Ã”ng** (Ou) chá»§ á»Ÿ **Ã” CÆ°** (Oku) bÃªn trong.", examples: [{ w: "å¥¥", r: "ãŠã", m: "BÃªn trong" }, { w: "å¥¥ã•ã‚“", r: "ãŠãã•ã‚“", m: "Vá»£ (ngÆ°á»i khÃ¡c)" }] },
            { char: "ç©", nghiaHV: "á»”N", nghiaTV: "YÃªn áº£", on: "ã‚ªãƒ³", kun: "ãŠã ", ti: "LÃºa (**HÃ²a ç¦¾**) gáº·t xong, tim (**TÃ¢m å¿ƒ**) yÃªn á»•n.", ta: "**Ã”n** (On) hÃ²a **Ã” Äa** (Odayaka) Ä‘iá»m Ä‘áº¡m.", examples: [{ w: "ç©å¥", r: "ãŠã‚“ã‘ã‚“", m: "Ã”n hÃ²a" }, { w: "ç©ã‚„ã‹", r: "ãŠã ã‚„ã‹", m: "ÃŠm áº£" }] },
            { char: "æ»‘", nghiaHV: "HOáº T", nghiaTV: "TrÆ°á»£t", on: "ã‚«ãƒ„", kun: "ã™ã¹", ti: "NÆ°á»›c (**Thá»§y æ°µ**) lÃ m xÆ°Æ¡ng (**Cá»‘t éª¨**) trÆ¡n.", ta: "**Ca TÆ°** (Katsu) **SÆ° BÃª** (Suberu) trÆ°á»£t.", examples: [{ w: "å††æ»‘", r: "ãˆã‚“ã‹ã¤", m: "TrÃ´i cháº£y" }, { w: "æ»‘ã‚‹", r: "ã™ã¹ã‚‹", m: "TrÆ°á»£t" }] },

            // Culture & Society - 10
            { char: "è© ", nghiaHV: "Vá»ŠNH", nghiaTV: "NgÃ¢m thÆ¡", on: "ã‚¨ã‚¤", kun: "ã‚ˆ", ti: "NÃ³i (**NgÃ´n è¨€**) mÃ£i mÃ£i (**VÄ©nh æ°¸**).", ta: "**ÃŠ** (Ei) **DÃ´** (Yomu) ngÃ¢m thÆ¡.", examples: [{ w: "è© å˜†", r: "ãˆã„ãŸã‚“", m: "Cáº£m thÃ¡n" }, { w: "è© ã‚€", r: "ã‚ˆã‚€", m: "NgÃ¢m (thÆ¡)" }] },
            { char: "æ‚¦", nghiaHV: "DUYá»†T", nghiaTV: "Vui sÆ°á»›ng", on: "ã‚¨ãƒ„", kun: "-", ti: "Tim (**TÃ¢m å¿„**) vui váº» nhÆ° quá»· (**Duyá»‡t å…Œ**) Ä‘Æ°á»£c Äƒn.", ta: "**áº¾** (Etsu) mÃ  vui.", examples: [{ w: "å–œæ‚¦", r: "ããˆã¤", m: "Vui sÆ°á»›ng" }, { w: "æº€æ‚¦", r: "ã¾ã‚“ãˆã¤", m: "MÃ£n nguyá»‡n" }] },
            { char: "é–²", nghiaHV: "DUYá»†T", nghiaTV: "Kiá»ƒm duyá»‡t", on: "ã‚¨ãƒ„", kun: "-", ti: "Äá»©ng á»Ÿ cá»­a (**MÃ´n é–€**) xem xÃ©t quá»· (**Duyá»‡t å…Œ**).", ta: "**áº¾** (Etsu) áº©m kiá»ƒm duyá»‡t.", examples: [{ w: "é–²è¦§", r: "ãˆã¤ã‚‰ã‚“", m: "Äá»c/Duyá»‡t" }, { w: "æ¤œé–²", r: "ã‘ã‚“ãˆã¤", m: "Kiá»ƒm duyá»‡t" }] },
            { char: "å®´", nghiaHV: "Yáº¾N", nghiaTV: "Yáº¿n tiá»‡c", on: "ã‚¨ãƒ³", kun: "ã†ãŸã’", ti: "Trong nhÃ  (**MiÃªn å®€**) cÃ³ phá»¥ ná»¯ (**Ná»¯ å¥³**) ngÃ y (**Nháº­t æ—¥**) tiá»‡c.", ta: "**Em** (En) dá»± **U Ta GhÃª** (Utage) yáº¿n tiá»‡c.", examples: [{ w: "å®´ä¼š", r: "ãˆã‚“ã‹ã„", m: "Yáº¿n tiá»‡c" }, { w: "å®´", r: "ã†ãŸã’", m: "Tiá»‡c" }] },
            { char: "é‹­", nghiaHV: "NHUá»†", nghiaTV: "Sáº¯c bÃ©n", on: "ã‚¨ã‚¤", kun: "ã™ã‚‹ã©", ti: "VÃ ng (**Kim é‡‘**) Ä‘á»•i (**Duyá»‡t å…Œ**) láº¥y sá»± sáº¯c bÃ©n.", ta: "**ÃŠ** (Ei) **SÆ° RÆ° ÄÃ´** (Surudoi) sáº¯c quÃ¡.", examples: [{ w: "é‹­åˆ©", r: "ãˆã„ã‚Š", m: "Sáº¯c bÃ©n" }, { w: "é‹­ã„", r: "ã™ã‚‹ã©ã„", m: "Sáº¯c" }] },
            { char: "æŠ¼", nghiaHV: "ÃP", nghiaTV: "áº¤n/ÄÃ³ng", on: "ã‚ªã‚¦", kun: "ãŠ", ti: "Tay (**Thá»§ æ‰Œ**) áº¥n lÃªn giÃ¡p (**GiÃ¡p ç”²**).", ta: "**Ã”ng** (Ou) **Ã”** (Osu) áº¥n nÃºt.", examples: [{ w: "æŠ¼å°", r: "ãŠã†ã„ã‚“", m: "ÄÃ³ng dáº¥u" }, { w: "æŠ¼ã™", r: "ãŠã™", m: "áº¤n/Äáº©y" }] },
            { char: "æ¬§", nghiaHV: "Ã‚U", nghiaTV: "ChÃ¢u Ã‚u", on: "ã‚ªã‚¦", kun: "-", ti: "Khu vá»±c (**Khu åŒº**) thiáº¿u thá»‘n (**Khiáº¿m æ¬ **) lÃ  chÃ¢u Ã‚u (cÃ¡ch nhá»› vui).", ta: "**Ã”ng** (Ou) Ä‘i chÃ¢u Ã‚u.", examples: [{ w: "æ¬§ç±³", r: "ãŠã†ã¹ã„", m: "Ã‚u Má»¹" }, { w: "æ¬§å·", r: "ãŠã†ã—ã‚…ã†", m: "ChÃ¢u Ã‚u" }] },
            { char: "æ®´", nghiaHV: "áº¨U", nghiaTV: "ÄÃ¡nh Ä‘áº­p", on: "ã‚ªã‚¦", kun: "ãªã", ti: "Khu vá»±c (**Khu åŒº**) dÃ¹ng binh khÃ­ (**ThÃ¹ æ®³**) Ä‘Ã¡nh nhau.", ta: "**Ã”ng** (Ou) **Na GÆ°** (Naguru) Ä‘Ã¡nh nhau.", examples: [{ w: "æ®´æ‰“", r: "ãŠã†ã ", m: "áº¨u Ä‘áº£" }, { w: "æ®´ã‚‹", r: "ãªãã‚‹", m: "ÄÃ¡nh" }] },
            { char: "æ†¶", nghiaHV: "á»¨C", nghiaTV: "KÃ½ á»©c", on: "ã‚ªã‚¯", kun: "-", ti: "Tim (**TÃ¢m å¿„**) ghi nhá»› Ã½ (**Ã æ„**) nghÄ©a.", ta: "**á»c** (Oku) nhá»› kÃ½ á»©c.", examples: [{ w: "è¨˜æ†¶", r: "ããŠã", m: "KÃ½ á»©c" }, { w: "è¿½æ†¶", r: "ã¤ã„ãŠã", m: "Há»“i tÆ°á»Ÿng" }] },
            { char: "ç­’", nghiaHV: "Äá»’NG", nghiaTV: "á»ng", on: "ãƒˆã‚¦", kun: "ã¤ã¤", ti: "á»ng tre (**TrÃºc ç«¹**) giá»‘ng (**Äá»“ng åŒ**) nhau.", ta: "**TÃ´** (Tou) **TÆ° TÆ°** (Tsutsu) cÃ¡i á»‘ng.", examples: [{ w: "æ°´ç­’", r: "ã™ã„ã¨ã†", m: "BÃ¬nh tÃ´ng" }, { w: "ç­’", r: "ã¤ã¤", m: "á»ng" }] },

            // Objects & Usage - 10
            { char: "è“", nghiaHV: "QUáº¢", nghiaTV: "BÃ¡nh káº¹o", on: "ã‚«", kun: "-", ti: "Cá» (**Tháº£o è‰¹**) káº¿t trÃ¡i (**Quáº£ æœ**) lÃ m bÃ¡nh.", ta: "**Ca** (Ka) hÃ¡t Äƒn bÃ¡nh.", examples: [{ w: "è“å­", r: "ã‹ã—", m: "BÃ¡nh káº¹o" }, { w: "è£½è“", r: "ã›ã„ã‹", m: "LÃ m bÃ¡nh" }] },
            { char: "æš‡", nghiaHV: "Háº ", nghiaTV: "Ráº£nh rá»—i", on: "ã‚«", kun: "ã²ã¾", ti: "NgÃ y (**Nháº­t æ—¥**) mÆ°á»£n (**Giáº£ åš**) Ä‘Æ°á»£c ráº£nh.", ta: "**Ca** (Ka) hÃ¡t **Hi Ma** (Hima) ráº£nh rá»—i.", examples: [{ w: "ä¼‘æš‡", r: "ãã‚…ã†ã‹", m: "Ká»³ nghá»‰" }, { w: "æš‡", r: "ã²ã¾", m: "Ráº£nh" }] },
            { char: "æ¶", nghiaHV: "GIÃ", nghiaTV: "GiÃ¡/Treo", on: "ã‚«", kun: "ã‹", ti: "ThÃªm (**Gia åŠ **) gá»— (**Má»™c æœ¨**) lÃ m giÃ¡.", ta: "**Ca** (Ka) **Ca** (Kakeru) treo lÃªn.", examples: [{ w: "æ¶ç©º", r: "ã‹ãã†", m: "HÆ° cáº¥u" }, { w: "æ¶ã‘ã‚‹", r: "ã‹ã‘ã‚‹", m: "Treo/Báº¯c" }] },
            { char: "ä½³", nghiaHV: "GIAI", nghiaTV: "Tá»‘t/Äáº¹p", on: "ã‚«", kun: "-", ti: "NgÆ°á»i (**NhÃ¢n äº»**) cáº§m ngá»c (**KhuÃª åœ­**) Ä‘áº¹p.", ta: "**Ca** (Ka) tá»¥ng giai nhÃ¢n.", examples: [{ w: "ä½³ä½œ", r: "ã‹ã•ã", m: "TÃ¡c pháº©m xuáº¥t sáº¯c" }, { w: "ä½³äºº", r: "ã‹ã˜ã‚“", m: "Giai nhÃ¢n" }] },
            { char: "è¯", nghiaHV: "HOA", nghiaTV: "Hoa lá»‡", on: "ã‚«", kun: "ã¯ãª", ti: "Cá» (**Tháº£o è‰¹**) ná»Ÿ hoa rá»±c rá»¡.", ta: "**Ca** (Ka) **Ha Na** (Hana) hoa lá»‡.", examples: [{ w: "è¯ã‚„ã‹", r: "ã¯ãªã‚„ã‹", m: "Lá»™ng láº«y" }, { w: "ä¸­è¯", r: "ã¡ã‚…ã†ã‹", m: "Trung Hoa" }] },
            { char: "å«", nghiaHV: "GIÃ", nghiaTV: "Láº¥y chá»“ng/Con dÃ¢u", on: "ã‚«", kun: "ã‚ˆã‚", ti: "Phá»¥ ná»¯ (**Ná»¯ å¥³**) vá» nhÃ  (**Gia å®¶**) chá»“ng.", ta: "**Ca** (Ka) **DÃ´ MÃª** (Yome) cÃ´ dÃ¢u.", examples: [{ w: "è»¢å«", r: "ã¦ã‚“ã‹", m: "Quy chá»¥p" }, { w: "èŠ±å«", r: "ã¯ãªã‚ˆã‚", m: "CÃ´ dÃ¢u" }] },
            { char: "ä»‹", nghiaHV: "GIá»šI", nghiaTV: "á» giá»¯a/Giá»›i thiá»‡u", on: "ã‚«ã‚¤", kun: "-", ti: "NgÆ°á»i (**NhÃ¢n äºº**) Ä‘á»©ng giá»¯a hai bÃªn.", ta: "**Cai** (Kai) quáº£n giá»›i thiá»‡u.", examples: [{ w: "ç´¹ä»‹", r: "ã—ã‚‡ã†ã‹ã„", m: "Giá»›i thiá»‡u" }, { w: "ä»‹å…¥", r: "ã‹ã„ã«ã‚…ã†", m: "Can thiá»‡p" }] },
            { char: "å£Š", nghiaHV: "HOáº I", nghiaTV: "Há»ng/Vá»¡", on: "ã‚«ã‚¤", kun: "ã“ã‚", ti: "Äáº¥t (**Thá»• åœŸ**) che giáº¥u (**HoÃ i è¤±**) sá»± Ä‘á»• vá»¡.", ta: "**Cai** (Kai) quáº£n **CÃ´ Wa** (Kowasu) phÃ¡ hoáº¡i.", examples: [{ w: "ç ´å£Š", r: "ã¯ã‹ã„", m: "PhÃ¡ hoáº¡i" }, { w: "å£Šã‚Œã‚‹", r: "ã“ã‚ã‚Œã‚‹", m: "Bá»‹ há»ng" }] },
            { char: "æˆ’", nghiaHV: "GIá»šI", nghiaTV: "Cáº£nh giá»›i", on: "ã‚«ã‚¤", kun: "ã„ã¾ã—", ti: "Hai tay cáº§m qua (**Qua æˆˆ**) canh gÃ¡c.", ta: "**Cai** (Kai) quáº£n **I Ma Si** (Imashimeru) rÄƒn dáº¡y.", examples: [{ w: "è­¦æˆ’", r: "ã‘ã„ã‹ã„", m: "Cáº£nh giá»›i" }, { w: "æˆ’ã‚ã‚‹", r: "ã„ã¾ã—ã‚ã‚‹", m: "Cáº£nh bÃ¡o" }] },
            { char: "çš†", nghiaHV: "GIAI", nghiaTV: "Má»i ngÆ°á»i", on: "ã‚«ã‚¤", kun: "ã¿ãª", ti: "So sÃ¡nh (**Tá»· æ¯”**) sá»± trong tráº¯ng (**Báº¡ch ç™½**) cá»§a má»i ngÆ°á»i.", ta: "**Cai** (Kai) quáº£n **Mi Na** (Mina) má»i ngÆ°á»i.", examples: [{ w: "çš†å‹¤", r: "ã‹ã„ãã‚“", m: "ChuyÃªn cáº§n" }, { w: "çš†ã•ã‚“", r: "ã¿ãªã•ã‚“", m: "Má»i ngÆ°á»i" }] },

            // Mystery & Measurement - 10
            { char: "æ€ª", nghiaHV: "QUÃI", nghiaTV: "Ká»³ quÃ¡i", on: "ã‚«ã‚¤", kun: "ã‚ã‚„", ti: "Tim (**TÃ¢m å¿„**) tháº¥y Ä‘áº¥t (**Thá»• åœŸ**) quÃ¡i láº¡ (**ThÃ¡nh åœ£** - biáº¿n thá»ƒ).", ta: "**Cai** (Kai) **A Ya** (Ayashii) Ä‘Ã¡ng ngá».", examples: [{ w: "æ€ªç‰©", r: "ã‹ã„ã¶ã¤", m: "QuÃ¡i váº­t" }, { w: "æ€ªã—ã„", r: "ã‚ã‚„ã—ã„", m: "ÄÃ¡ng ngá»" }] },
            { char: "æ‚”", nghiaHV: "Há»I", nghiaTV: "Há»‘i háº­n", on: "ã‚«ã‚¤", kun: "ãã‚„", ti: "Tim (**TÃ¢m å¿„**) há»‘i háº­n má»—i (**Má»—i æ¯**) ngÃ y.", ta: "**Cai** (Kai) **CÆ° Ya** (Kuyashii) cay cÃº.", examples: [{ w: "å¾Œæ‚”", r: "ã“ã†ã‹ã„", m: "Há»‘i háº­n" }, { w: "æ‚”ã—ã„", r: "ãã‚„ã—ã„", m: "Tiáº¿c nuá»‘i" }] },
            { char: "å¡Š", nghiaHV: "KHá»I", nghiaTV: "Cá»¥c/Táº£ng", on: "ã‚«ã‚¤", kun: "ã‹ãŸã¾ã‚Š", ti: "Äáº¥t (**Thá»• åœŸ**) thÃ nh khá»‘i nhÆ° quá»· (**Quá»· é¬¼**).", ta: "**Cai** (Kai) **Ca Ta Ma Ri** (Katamari) cá»¥c.", examples: [{ w: "é‡‘å¡Š", r: "ãã‚“ã‹ã„", m: "Thá»i vÃ ng" }, { w: "å¡Š", r: "ã‹ãŸã¾ã‚Š", m: "Cá»¥c/Táº£ng" }] },
            { char: "è¼ƒ", nghiaHV: "GIÃC", nghiaTV: "So sÃ¡nh", on: "ã‚«ã‚¯", kun: "-", ti: "Xe (**Xa è»Š**) giao (**Giao äº¤**) nhau Ä‘á»ƒ so sÃ¡nh.", ta: "**Ca CÆ°** (Kaku) so sÃ¡nh.", examples: [{ w: "æ¯”è¼ƒ", r: "ã²ã‹ã", m: "So sÃ¡nh" }, { w: "æ¯”è¼ƒçš„", r: "ã²ã‹ãã¦ã", m: "TÆ°Æ¡ng Ä‘á»‘i" }] },
            { char: "ç²", nghiaHV: "HOáº CH", nghiaTV: "SÄƒn báº¯t", on: "ã‚«ã‚¯", kun: "ãˆ", ti: "ChÃ³ (**Khuyá»ƒn çŠ­**) báº¯t chim trong cá» (**Hoáº¡ch è –**).", ta: "**Ca CÆ°** (Kaku) **ÃŠ** (Eru) báº¯t Ä‘Æ°á»£c.", examples: [{ w: "ç²å¾—", r: "ã‹ãã¨ã", m: "GiÃ nh Ä‘Æ°á»£c" }, { w: "ç²ç‰©", r: "ãˆã‚‚ã®", m: "Con má»“i" }] },
            { char: "ç©«", nghiaHV: "HOáº CH", nghiaTV: "Thu hoáº¡ch", on: "ã‚«ã‚¯", kun: "-", ti: "LÃºa (**HÃ²a ç¦¾**) gáº·t hÃ¡i Ä‘Æ°á»£c.", ta: "**Ca CÆ°** (Kaku) thu hoáº¡ch.", examples: [{ w: "åç©«", r: "ã—ã‚…ã†ã‹ã", m: "Thu hoáº¡ch" }] },
            { char: "éš”", nghiaHV: "CÃCH", nghiaTV: "NgÄƒn cÃ¡ch", on: "ã‚«ã‚¯", kun: "ã¸ã ", ti: "Äáº¥t (**Phá»¥ é˜**) ngÄƒn cÃ¡ch cÃ¡i váº¡c (**CÃ¡ch é¬²**).", ta: "**Ca CÆ°** (Kaku) **HÃª Äa** (Hedataru) cÃ¡ch xa.", examples: [{ w: "é–“éš”", r: "ã‹ã‚“ã‹ã", m: "Khoáº£ng cÃ¡ch" }, { w: "éš”ã¦ã‚‹", r: "ã¸ã ã¦ã‚‹", m: "PhÃ¢n chia" }] },
            { char: "éƒ­", nghiaHV: "QUÃCH", nghiaTV: "ThÃ nh quÃ¡ch", on: "ã‚«ã‚¯", kun: "-", ti: "HÆ°á»Ÿng (**HÆ°á»Ÿng äº«**) Ä‘áº¥t (**Phá»¥ é˜**) trong thÃ nh.", ta: "**Ca CÆ°** (Kaku) thÃ nh quÃ¡ch.", examples: [{ w: "è¼ªéƒ­", r: "ã‚Šã‚“ã‹ã", m: "ÄÆ°á»ng nÃ©t/Viá»n" }, { w: "åŸéƒ­", r: "ã˜ã‚‡ã†ã‹ã", m: "LÃ¢u Ä‘Ã i" }] },
            { char: "å‹˜", nghiaHV: "KHÃM", nghiaTV: "Trá»±c giÃ¡c", on: "ã‚«ãƒ³", kun: "-", ti: "DÃ¹ng lá»±c (**Lá»±c åŠ›**) khÃ¡m phÃ¡ cÃ¡i gÃ¬ Ä‘Ã³ ráº¥t tháº­m (**Tháº­m ç”š**).", ta: "**Can** (Kan) Ä‘áº£m trá»±c giÃ¡c.", examples: [{ w: "å‹˜å®š", r: "ã‹ã‚“ã˜ã‚‡ã†", m: "Thanh toÃ¡n" }, { w: "å‹˜", r: "ã‹ã‚“", m: "Trá»±c giÃ¡c" }] },
            { char: "è‚", nghiaHV: "CAN", nghiaTV: "Gan", on: "ã‚«ãƒ³", kun: "ãã‚‚", ti: "Thá»‹t (**Nhá»¥c æœˆ**) khÃ´ (**Can å¹²**) lÃ  gan.", ta: "**Can** (Kan) Ä‘áº£m **Ki MÃ´** (Kimo) gan dáº¡.", examples: [{ w: "è‚å¿ƒ", r: "ã‹ã‚“ã˜ã‚“", m: "Quan trá»ng" }, { w: "è‚", r: "ãã‚‚", m: "Gan" }] },

            // Action & Others - 10
            { char: "è²«", nghiaHV: "QUÃN", nghiaTV: "XuyÃªn qua", on: "ã‚«ãƒ³", kun: "ã¤ã‚‰ã¬", ti: "Tiá»n (**Bá»‘i è²**) xÃ¢u thÃ nh chuá»—i.", ta: "**Can** (Kan) Ä‘áº£m **TÆ° Ra NÆ°** (Tsuranuku) xuyÃªn thá»§ng.", examples: [{ w: "ä¸€è²«", r: "ã„ã£ã‹ã‚“", m: "Nháº¥t quÃ¡n" }, { w: "è²«ã", r: "ã¤ã‚‰ã¬ã", m: "XuyÃªn qua" }] },
            { char: "æ•¢", nghiaHV: "Cáº¢M", nghiaTV: "DÃ¡m", on: "ã‚«ãƒ³", kun: "-", ti: "Tai (**NhÄ© è€³**) nghe Ä‘Ã¡nh (**Phá»™c æ”µ**) dÃ¡m lÃ m.", ta: "**Can** (Kan) Ä‘áº£m dÃ¡m lÃ m.", examples: [{ w: "å‹‡æ•¢", r: "ã‚†ã†ã‹ã‚“", m: "DÅ©ng cáº£m" }, { w: "æ•¢ãˆã¦", r: "ã‚ãˆã¦", m: "Máº¡nh dáº¡n" }] },
            { char: "ç·©", nghiaHV: "HOÃƒN", nghiaTV: "Lá»ng/Cháº­m", on: "ã‚«ãƒ³", kun: "ã‚†ã‚‹", ti: "Sá»£i chá»‰ (**Má»‹ch ç³¸**) lá»ng láº»o cáº§n viá»‡n trá»£ (**Viá»‡n çˆ°**).", ta: "**Can** (Kan) Ä‘áº£m **DÆ° RÆ°** (Yurui) lá»ng.", examples: [{ w: "ç·©å’Œ", r: "ã‹ã‚“ã‚", m: "Ná»›i lá»ng" }, { w: "ç·©ã„", r: "ã‚†ã‚‹ã„", m: "Lá»ng" }] },
            { char: "å† ", nghiaHV: "QUAN", nghiaTV: "VÆ°Æ¡ng miá»‡n", on: "ã‚«ãƒ³", kun: "ã‹ã‚“ã‚€ã‚Š", ti: "MÅ© (**Má»‹ch å†–**) Ä‘á»™i lÃªn Ä‘áº§u (**NguyÃªn å…ƒ**) táº¥c (**Thá»‘n å¯¸**).", ta: "**Can** (Kan) Ä‘áº£m Ä‘á»™i **Can MÆ° Ri** (Kanmuri).", examples: [{ w: "ç‹å† ", r: "ãŠã†ã‹ã‚“", m: "VÆ°Æ¡ng miá»‡n" }, { w: "å† ", r: "ã‹ã‚“ã‚€ã‚Š", m: "MÅ© miá»‡n" }] },
            { char: "æ›", nghiaHV: "HOÃN", nghiaTV: "Trao Ä‘á»•i", on: "ã‚«ãƒ³", kun: "ã‹", ti: "Tay (**Thá»§ æ‰Œ**) hoÃ¡n Ä‘á»•i to lá»›n (**HoÃ¡n å¥**).", ta: "**Can** (Kan) Ä‘áº£m **Ca** (Kaeru) Ä‘á»•i.", examples: [{ w: "äº¤æ›", r: "ã“ã†ã‹ã‚“", m: "Trao Ä‘á»•i" }, { w: "ä¹—ã‚Šæ›ãˆ", r: "ã®ã‚Šã‹ãˆ", m: "Äá»•i xe" }] },
            { char: "å–š", nghiaHV: "HOÃN", nghiaTV: "HÃ´ hoÃ¡n", on: "ã‚«ãƒ³", kun: "-", ti: "Miá»‡ng (**Kháº©u å£**) hÃ´ hoÃ¡n to (**HoÃ¡n å¥**).", ta: "**Can** (Kan) Ä‘áº£m hÃ´ hoÃ¡n.", examples: [{ w: "å–šå•", r: "ã‹ã‚“ã‚‚ã‚“", m: "Triá»‡u táº­p" }, { w: "å«å–š", r: "ãã‚‡ã†ã‹ã‚“", m: "La hÃ©t" }] },
            { char: "ç”˜", nghiaHV: "CAM", nghiaTV: "Ngá»t", on: "ã‚«ãƒ³", kun: "ã‚ã¾", ti: "Miá»‡ng ngáº­m káº¹o ngá»t.", ta: "**Can** (Kan) Ä‘áº£m **A Ma** (Amai) ngá»t.", examples: [{ w: "ç”˜ã„", r: "ã‚ã¾ã„", m: "Ngá»t/NuÃ´ng chiá»u" }, { w: "ç”˜å‘³æ–™", r: "ã‹ã‚“ã¿ã‚Šã‚‡ã†", m: "Cháº¥t táº¡o ngá»t" }] },
            { char: "æ±—", nghiaHV: "HÃƒN", nghiaTV: "Má»“ hÃ´i", on: "ã‚«ãƒ³", kun: "ã‚ã›", ti: "NÆ°á»›c (**Thá»§y æ°µ**) cháº£y can (**Can å¹²**) khÃ´ má»“ hÃ´i.", ta: "**Can** (Kan) Ä‘áº£m **A SÃª** (Ase) má»“ hÃ´i.", examples: [{ w: "ç™ºæ±—", r: "ã¯ã£ã‹ã‚“", m: "Äá»• má»“ hÃ´i" }, { w: "æ±—", r: "ã‚ã›", m: "Má»“ hÃ´i" }] },
            { char: "å‹§", nghiaHV: "KHUYáº¾N", nghiaTV: "KhuyÃªn báº£o", on: "ã‚«ãƒ³", kun: "ã™ã™", ti: "DÃ¹ng lá»±c (**Lá»±c åŠ›**) chim (**Chuy éš¹**) khuyÃªn báº£o.", ta: "**Can** (Kan) Ä‘áº£m **SÆ° SÆ°** (Susumeru) khuyÃªn.", examples: [{ w: "å‹§å‘Š", r: "ã‹ã‚“ã“ã", m: "Khuyáº¿n cÃ¡o" }, { w: "å‹§ã‚ã‚‹", r: "ã™ã™ã‚ã‚‹", m: "Gá»£i Ã½" }] },
            { char: "æ­“", nghiaHV: "HOAN", nghiaTV: "Hoan há»‰", on: "ã‚«ãƒ³", kun: "-", ti: "Chim (**Chuy éš¹**) hÃ³t thiáº¿u (**Khiáº¿m æ¬ **) vui má»«ng.", ta: "**Can** (Kan) Ä‘áº£m hoan há»‰.", examples: [{ w: "æ­“è¿", r: "ã‹ã‚“ã’ã„", m: "Hoan nghÃªnh" }, { w: "æ­“å£°", r: "ã‹ã‚“ã›ã„", m: "Tiáº¿ng hoan hÃ´" }] }
        ];

        // --- STATE ---
        let currentTab = 'learn';
        let currentQuizIndex = 0;
        let quizScore = 0;
        let currentQuizQuestion = null;
        let currentStrokeSvg = null;

        // --- UTILS ---
        function speak(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                // Clean text for speech: remove special chars
                const clean = text.replace(/\[.*?\]/g, '').replace(/<.*?>/g, '').replace(/ãƒ»/g, '').replace(/\*/g, '');
                const u = new SpeechSynthesisUtterance(clean);
                u.lang = 'ja-JP'; u.rate = 0.9;
                window.speechSynthesis.speak(u);
            }
        }

        function getKanjiHex(kanji) {
            return kanji.charCodeAt(0).toString(16).padStart(5, '0');
        }

        async function fetchKanjiSvg(hex) {
            try {
                const response = await fetch(`https://cdn.jsdelivr.net/gh/KanjiVG/kanjivg/kanji/${hex}.svg`);
                if (!response.ok) throw new Error('Not found');
                return await response.text();
            } catch (e) { return null; }
        }

        // --- TABS ---
        function switchTab(tab) {
            currentTab = tab;
            document.getElementById('learn-section').classList.toggle('hidden', tab !== 'learn');
            document.getElementById('quiz-section').classList.toggle('hidden', tab !== 'quiz');
            
            const btnLearn = document.getElementById('tab-learn');
            const btnQuiz = document.getElementById('tab-quiz');
            
            if (tab === 'learn') {
                btnLearn.classList.add('tab-active'); btnLearn.classList.remove('tab-inactive');
                btnQuiz.classList.add('tab-inactive'); btnQuiz.classList.remove('tab-active');
            } else {
                btnQuiz.classList.add('tab-active'); btnQuiz.classList.remove('tab-inactive');
                btnLearn.classList.add('tab-inactive'); btnLearn.classList.remove('tab-active');
                startQuiz();
            }
        }

        // --- RENDER LEARN ---
        function renderLearn() {
            const grid = document.getElementById('kanji-grid');
            grid.innerHTML = kanjiData.map((k, idx) => `
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition duration-300 flex flex-col group">
                    <!-- HEADER -->
                    <div class="bg-sky-50 p-4 border-b border-sky-100 flex justify-between items-start relative">
                        <div class="flex gap-4 items-center">
                            <div class="w-16 h-16 bg-white rounded-lg flex items-center justify-center border-2 border-sky-200 cursor-pointer hover:border-sky-400 transition shadow-sm" onclick="showStrokeOrder('${k.char}')">
                                <span class="text-4xl font-bold kanji-font text-gray-800">${k.char}</span>
                            </div>
                            <div>
                                <div class="text-red-600 font-bold text-lg tracking-wide">${k.nghiaHV}</div>
                                <div class="text-gray-600 text-sm font-medium">${k.nghiaTV}</div>
                            </div>
                        </div>
                        <button onclick="showStrokeOrder('${k.char}')" class="text-sky-500 hover:text-sky-700 bg-white rounded-full p-2 w-8 h-8 flex items-center justify-center shadow-sm border border-sky-100"><i class="fas fa-pen-nib text-xs"></i></button>
                        <div class="absolute -bottom-3 right-4 text-6xl text-gray-100 font-black -z-0 pointer-events-none select-none">${idx + 988}</div>
                    </div>
                    
                    <!-- BODY -->
                    <div class="p-4 space-y-3 z-10 relative flex-grow flex flex-col">
                        <!-- READINGS with Audio -->
                        <div class="grid grid-cols-2 gap-3 text-sm">
                            <div class="bg-gray-50 rounded p-2 border border-gray-100">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-[10px] uppercase font-bold text-gray-400">On</span>
                                    <button onclick="speak('${k.on}')" class="text-sky-400 hover:text-sky-600"><i class="fas fa-volume-up text-xs"></i></button>
                                </div>
                                <span class="font-bold text-sky-800 kanji-font text-base">${k.on}</span>
                            </div>
                            <div class="bg-gray-50 rounded p-2 border border-gray-100">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-[10px] uppercase font-bold text-gray-400">Kun</span>
                                    <button onclick="speak('${k.kun}')" class="text-sky-400 hover:text-sky-600"><i class="fas fa-volume-up text-xs"></i></button>
                                </div>
                                <span class="font-bold text-sky-800 kanji-font text-base">${k.kun}</span>
                            </div>
                        </div>
                        
                        <!-- MNEMONICS (AZAKANJI STYLE) -->
                        <div class="space-y-2">
                            <div class="bg-orange-50 p-2 rounded text-xs text-orange-900 border border-orange-100">
                                <span class="font-bold text-orange-600 mr-1">ğŸ–¼ï¸ HÃ¬nh:</span> ${k.ti}
                            </div>
                            <div class="bg-blue-50 p-2 rounded text-xs text-blue-900 border border-blue-100">
                                <span class="font-bold text-blue-600 mr-1">ğŸ”Š Ã‚m:</span> ${k.ta.replace(/\*\*(.*?)\*\*/g, '<span class="font-bold text-blue-700">$1</span>')}
                            </div>
                        </div>

                        <!-- EXAMPLES with Audio -->
                        <div class="pt-2 border-t border-gray-100 space-y-2 mt-auto">
                            ${k.examples.map(ex => `
                                <div class="flex justify-between items-center group/ex cursor-pointer p-1 rounded hover:bg-gray-50" onclick="speak('${ex.w}')">
                                    <div>
                                        <div class="kanji-font font-bold text-gray-800 text-sm">${ex.w} <span class="text-xs font-normal text-gray-400">(${ex.r})</span></div>
                                        <div class="text-xs text-gray-500">${ex.m}</div>
                                    </div>
                                    <i class="fas fa-volume-up text-xs text-gray-300 group-hover/ex:text-sky-500 transition"></i>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // --- STROKE ORDER MODAL ---
        async function showStrokeOrder(kanji) {
            const hex = getKanjiHex(kanji);
            document.getElementById('stroke-modal').classList.remove('hidden');
            document.getElementById('stroke-modal-char').innerText = kanji;
            
            const animContainer = document.getElementById('stroke-animation-container');
            const gridContainer = document.getElementById('stroke-grid-container');
            animContainer.innerHTML = '<span class="text-xs text-gray-400">Äang táº£i...</span>';
            
            const svgContent = await fetchKanjiSvg(hex);
            if (!svgContent) {
                animContainer.innerHTML = "<p class='p-4 text-red-500 text-xs'>Lá»—i</p>";
                gridContainer.innerHTML = "";
                return;
            }

            // Animation Setup
            animContainer.innerHTML = svgContent;
            const mainSvg = animContainer.querySelector('svg');
            mainSvg.setAttribute('width', '100%'); mainSvg.setAttribute('height', '100%');
            const paths = mainSvg.querySelectorAll('path');
            paths.forEach(p => {
                const len = p.getTotalLength();
                p.style.strokeDasharray = len; p.style.strokeDashoffset = len;
                p.style.stroke = "#333"; p.style.strokeWidth = "4"; p.style.fill = "none";
                p.style.strokeLinecap = "round"; p.style.strokeLinejoin = "round";
            });
            currentStrokeSvg = mainSvg;
            replayStrokeAnimation();

            // Grid Setup
            gridContainer.innerHTML = '';
            for(let i=0; i<paths.length; i++) {
                const box = document.createElement('div');
                box.className = "w-12 h-12 md:w-16 md:h-16 bg-white border border-gray-200 relative stroke-grid-box flex items-center justify-center";
                const parser = new DOMParser();
                const svgClone = parser.parseFromString(svgContent, "image/svg+xml").querySelector('svg');
                svgClone.setAttribute('width', '100%'); svgClone.setAttribute('height', '100%');
                svgClone.querySelectorAll('path').forEach((p, idx) => {
                    p.style.fill="none"; p.style.strokeLinecap="round"; p.style.strokeLinejoin="round";
                    if(idx < i) { p.style.stroke="#9ca3af"; p.style.strokeWidth="3"; }
                    else if(idx === i) { p.style.stroke="#000"; p.style.strokeWidth="4"; }
                    else p.style.display="none";
                });
                box.appendChild(svgClone);
                gridContainer.appendChild(box);
            }
        }

        function replayStrokeAnimation() {
            if(!currentStrokeSvg) return;
            const paths = currentStrokeSvg.querySelectorAll('path');
            paths.forEach(p => { p.style.transition = 'none'; p.style.strokeDashoffset = p.getTotalLength(); });
            void currentStrokeSvg.offsetWidth;
            let delay = 0;
            paths.forEach(p => {
                p.style.transition = `stroke-dashoffset 0.6s ease-in-out ${delay}s`;
                p.style.strokeDashoffset = '0';
                delay += 0.6;
            });
        }

        function closeStrokeModal() { document.getElementById('stroke-modal').classList.add('hidden'); }

        // --- QUIZ LOGIC ---
        function startQuiz() {
            quizScore = 0;
            currentQuizIndex = 0;
            document.getElementById('score-display').innerText = '0';
            loadQuestion();
        }

        function loadQuestion() {
            const qType = Math.random() > 0.5 ? 'kanji-meaning' : 'meaning-kanji';
            const target = kanjiData[Math.floor(Math.random() * kanjiData.length)];
            currentQuizQuestion = { target, type: qType };

            const display = document.getElementById('quiz-kanji-display');
            const questionText = document.getElementById('quiz-question-text');
            const optionsArea = document.getElementById('options-area');
            
            document.getElementById('feedback-area').classList.add('hidden');
            document.getElementById('q-current').innerText = currentQuizIndex + 1;
            document.getElementById('quiz-progress').style.width = `${((currentQuizIndex) / 10) * 100}%`;

            // Generate distractors
            const others = kanjiData.filter(k => k !== target).sort(() => 0.5 - Math.random()).slice(0, 3);
            const options = [target, ...others].sort(() => 0.5 - Math.random());

            if (qType === 'kanji-meaning') {
                display.innerText = target.char;
                questionText.innerText = "HÃ¡n tá»± nÃ y cÃ³ nghÄ©a lÃ  gÃ¬?";
                optionsArea.innerHTML = options.map(opt => `
                    <button onclick="checkAnswer('${opt.char}')" class="quiz-opt-btn bg-white border-2 border-gray-200 p-4 rounded-xl hover:border-sky-400 hover:bg-sky-50 transition active:scale-95 shadow-sm text-lg font-bold text-gray-700">
                        ${opt.nghiaHV} (${opt.nghiaTV})
                    </button>
                `).join('');
            } else {
                display.innerText = target.nghiaHV;
                questionText.innerText = `Chá»n Kanji tÆ°Æ¡ng á»©ng vá»›i "${target.nghiaTV}"`;
                optionsArea.innerHTML = options.map(opt => `
                    <button onclick="checkAnswer('${opt.char}')" class="quiz-opt-btn bg-white border-2 border-gray-200 p-4 rounded-xl hover:border-sky-400 hover:bg-sky-50 transition active:scale-95 shadow-sm text-4xl font-bold kanji-font text-gray-800">
                        ${opt.char}
                    </button>
                `).join('');
            }
        }

        function checkAnswer(selectedChar) {
            const btns = document.querySelectorAll('.quiz-opt-btn');
            btns.forEach(b => b.disabled = true);

            const isCorrect = selectedChar === currentQuizQuestion.target.char;
            const feedbackArea = document.getElementById('feedback-area');
            const feedbackTitle = document.getElementById('feedback-title');
            const feedbackDetail = document.getElementById('feedback-detail');

            feedbackArea.classList.remove('hidden');

            if (isCorrect) {
                quizScore += 10;
                document.getElementById('score-display').innerText = quizScore;
                feedbackTitle.innerHTML = '<i class="fas fa-check-circle text-emerald-500 mr-2"></i> ChÃ­nh xÃ¡c!';
                feedbackTitle.className = "font-bold text-lg mb-1 flex items-center text-emerald-700";
                feedbackDetail.innerHTML = `
                    <span class="text-3xl kanji-font font-bold text-gray-800 mr-2">${currentQuizQuestion.target.char}</span>
                    <span class="font-bold text-red-600">${currentQuizQuestion.target.nghiaHV}</span>: ${currentQuizQuestion.target.nghiaTV}
                `;
                feedbackArea.className = "bg-emerald-50 rounded-xl p-4 border border-emerald-200 text-left animate-fade-in";
                speak(currentQuizQuestion.target.char);
            } else {
                feedbackTitle.innerHTML = '<i class="fas fa-times-circle text-red-500 mr-2"></i> Sai rá»“i!';
                feedbackTitle.className = "font-bold text-lg mb-1 flex items-center text-red-700";
                feedbackDetail.innerHTML = `ÄÃ¡p Ã¡n Ä‘Ãºng lÃ : <strong>${currentQuizQuestion.target.char} (${currentQuizQuestion.target.nghiaTV})</strong>`;
                feedbackArea.className = "bg-red-50 rounded-xl p-4 border border-red-200 text-left animate-fade-in wrong-anim";
            }
        }

        function nextQuestion() {
            currentQuizIndex++;
            if (currentQuizIndex >= 10) {
                alert(`HoÃ n thÃ nh! Báº¡n Ä‘áº¡t ${quizScore} Ä‘iá»ƒm.`);
                startQuiz();
            } else {
                loadQuestion();
            }
        }

        // INIT
        renderLearn();

    </script>
</body>
</html>
