<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AzaKanji Dojo - 110 ƒê·ªông T·ª´ N5-N3</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Nunito', sans-serif; background-color: #f3f4f6; overflow-x: hidden; }
        .kanji-font { font-family: 'Noto Sans JP', sans-serif; }
        
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #9ca3af; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #6b7280; }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .modal-enter { animation: modalIn 0.3s ease-out forwards; }
        @keyframes modalIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        
        .correct-anim { animation: bounce 0.5s; }
        @keyframes bounce { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        
        .wrong-anim { animation: shake 0.5s; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }

        .stroke-path { fill: none; stroke: #333; stroke-width: 3; stroke-linecap: round; stroke-linejoin: round; }
        .stroke-grid-box { border: 1px solid #e5e7eb; background-color: white; position: relative; }
        .stroke-grid-box::after {
            content: ''; position: absolute; top: 0; left: 50%; width: 1px; height: 100%;
            background: repeating-linear-gradient(to bottom, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); z-index: 0;
        }
        .stroke-grid-box::before {
            content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 1px;
            background: repeating-linear-gradient(to right, #ddd 0, #ddd 4px, transparent 4px, transparent 8px); z-index: 0;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-indigo-700 text-white shadow-lg sticky top-0 z-40 w-full">
        <div class="container mx-auto px-4 py-3">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center space-x-3 cursor-pointer flex-shrink-0" onclick="location.reload()">
                    <i class="fas fa-torii-gate text-3xl text-pink-300"></i>
                    <div>
                        <h1 class="text-lg md:text-xl font-bold uppercase tracking-wider">AzaKanji Dojo</h1>
                        <p class="text-[10px] md:text-xs text-indigo-200">110 ƒê·ªông T·ª´ - V√≠ d·ª• Chu·∫©n N5-N3</p>
                    </div>
                </div>

                <nav class="w-full md:w-auto overflow-hidden">
                    <div class="flex bg-indigo-900 rounded-lg p-1 overflow-x-auto no-scrollbar max-w-full">
                        <button onclick="switchTab('learn')" id="tab-learn" class="flex-shrink-0 px-4 py-2 rounded-md text-xs md:text-sm font-bold transition bg-white text-indigo-900 shadow whitespace-nowrap">
                            <i class="fas fa-book-open mr-1 md:mr-2"></i>H·ªçc T·ª´
                        </button>
                        <a href="https://tiengnhatsieutoc.com/fcdongtu.html" class="flex-shrink-0 px-4 py-2 rounded-md text-xs md:text-sm font-bold transition whitespace-nowrap flex items-center hover:bg-indigo-800 ml-1">
                            <i class="fas fa-home mr-1 md:mr-2"></i>FlashCard
                        </a>
                        <button onclick="switchTab('quiz')" id="tab-quiz" class="flex-shrink-0 px-4 py-2 rounded-md text-xs md:text-sm font-bold transition text-indigo-300 hover:text-white whitespace-nowrap ml-1">
                            <i class="fas fa-keyboard mr-1 md:mr-2"></i>Ki·ªÉm Tra
                        </button>
                        <button onclick="openGrammarModal()" class="flex-shrink-0 px-4 py-2 rounded-md text-xs md:text-sm font-bold transition text-indigo-300 hover:text-white whitespace-nowrap border-l border-indigo-700 ml-1 pl-3">
                            <i class="fas fa-book mr-1 md:mr-2"></i>Ng·ªØ Ph√°p
                        </button>
                    </div>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6 md:py-8 flex-grow relative z-0" id="app-container">
        <div id="learn-section" class="fade-in">
            <div id="content-area" class="space-y-6 md:space-y-8"></div>
        </div>
        
        <div id="quiz-section" class="hidden fade-in max-w-2xl mx-auto">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200">
                <div class="bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-white flex justify-between items-center">
                    <div>
                        <h2 class="text-xl md:text-2xl font-bold">Th·ª≠ Th√°ch Kanji</h2>
                        <p class="text-indigo-100 text-xs md:text-sm">Nh√¨n Kanji - G√µ Hiragana</p>
                    </div>
                    <div class="text-right">
                        <div class="text-[10px] text-indigo-200 uppercase font-bold">ƒêi·ªÉm s·ªë</div>
                        <div class="text-3xl md:text-4xl font-bold" id="score-display">0</div>
                    </div>
                </div>
                <div class="p-6 md:p-8 text-center">
                    <div class="mb-6 md:mb-8">
                        <div class="text-xs md:text-sm text-gray-500 mb-2 uppercase tracking-wide font-bold">T·ª´ n√†y ƒë·ªçc l√† g√¨?</div>
                        <div id="quiz-kanji" class="text-5xl md:text-6xl kanji-font font-bold text-gray-800 mb-4 transition-all"></div>
                        <div id="quiz-meaning" class="text-lg md:text-xl text-indigo-600 font-bold mb-2"></div>
                    </div>
                    <div class="relative max-w-md mx-auto mb-6">
                        <input type="text" id="quiz-input" class="w-full text-center text-xl md:text-2xl p-3 md:p-4 border-2 border-gray-300 rounded-xl focus:border-indigo-500 focus:outline-none transition kanji-font" placeholder="Nh·∫≠p Hiragana" autocomplete="off">
                    </div>
                    <div id="feedback-area" class="hidden rounded-xl p-4 bg-gray-50 border border-gray-200 text-left mb-6">
                        <div id="feedback-title" class="font-bold text-base md:text-lg mb-2 flex items-center"></div>
                        <div class="text-gray-700 mb-2 text-sm md:text-base">ƒê√°p √°n: <span id="correct-answer" class="font-bold text-lg md:text-xl text-indigo-600 mx-2 kanji-font"></span><button onclick="playCurrentAudio()" class="text-gray-500 hover:text-indigo-600"><i class="fas fa-volume-up"></i></button></div>
                        <div class="bg-yellow-50 p-3 rounded-lg border border-yellow-200 text-xs md:text-sm text-gray-800">
                            <div class="font-bold text-yellow-800 mb-1"><i class="fas fa-lightbulb mr-1"></i> M·∫πo ghi nh·ªõ:</div>
                            <div id="quiz-tip-img" class="mb-1"></div>
                            <div id="quiz-tip-sound"></div>
                        </div>
                    </div>
                    <div class="flex flex-col gap-3">
                        <button id="btn-check" onclick="checkAnswer()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition active:scale-95 text-lg">Ki·ªÉm Tra</button>
                        <button id="btn-next" onclick="nextQuestion()" class="hidden w-full bg-gray-800 hover:bg-gray-900 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition active:scale-95 text-lg">C√¢u Ti·∫øp Theo <i class="fas fa-arrow-right ml-2"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal: Conjugation -->
    <div id="conjugation-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeModal()"></div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen">&#8203;</span>
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full modal-enter">
                <div class="bg-indigo-700 px-4 py-4 sm:px-6 flex justify-between items-center text-white">
                    <div><h3 class="text-lg leading-6 font-bold" id="modal-title">Chia Th·ªÉ & Ng·ªØ C·∫£nh</h3><p class="text-indigo-200 text-xs">N5-N3 Grammar Context</p></div>
                    <button onclick="closeModal()" class="text-indigo-200 hover:text-white focus:outline-none"><i class="fas fa-times text-2xl"></i></button>
                </div>
                <div class="bg-gray-50 px-4 py-5 sm:p-6 max-h-[75vh] overflow-y-auto">
                    <div class="flex items-center mb-6 bg-white p-4 rounded-xl shadow-sm border border-gray-200">
                        <div class="text-4xl md:text-5xl kanji-font font-bold text-indigo-600 mr-4" id="modal-kanji"></div>
                        <div>
                            <div class="text-xl md:text-2xl font-bold text-gray-800" id="modal-hiragana"></div>
                            <div class="text-[10px] text-gray-500 font-bold uppercase tracking-wide" id="modal-group"></div>
                            <div class="text-base md:text-lg text-gray-700" id="modal-meaning"></div>
                        </div>
                        <button id="modal-main-audio" class="ml-auto bg-indigo-50 text-indigo-600 p-3 rounded-full hover:bg-indigo-100 transition shadow-sm"><i class="fas fa-volume-up text-xl"></i></button>
                    </div>
                    <div class="space-y-4" id="conjugation-list"></div>
                </div>
                <div class="bg-gray-100 px-4 py-3 sm:px-6 flex justify-end">
                    <button type="button" class="w-full sm:w-auto inline-flex justify-center rounded-md border border-transparent shadow-sm px-6 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none" onclick="closeModal()">ƒê√≥ng</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Stroke Order -->
    <div id="stroke-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeStrokeModal()"></div>
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full modal-enter relative">
                <div class="bg-pink-600 px-4 py-3 flex justify-between items-center text-white">
                    <h3 class="font-bold text-lg"><i class="fas fa-pen-nib mr-2"></i>T·∫≠p Vi·∫øt Kanji: <span id="stroke-modal-char" class="text-2xl ml-2"></span></h3>
                    <button onclick="closeStrokeModal()" class="hover:text-gray-200"><i class="fas fa-times text-xl"></i></button>
                </div>
                <div class="p-4 md:p-6 bg-gray-50 max-h-[80vh] overflow-y-auto">
                    <div class="flex flex-col items-center justify-center">
                        <div class="bg-white p-4 rounded-lg shadow border border-gray-200 text-center mb-6 w-full max-w-[200px]">
                            <p class="text-[10px] text-gray-500 mb-2 font-bold uppercase">M√¥ ph·ªèng n√©t vi·∫øt</p>
                            <div id="stroke-animation-container" class="w-32 h-32 md:w-40 md:h-40 mx-auto bg-white border border-gray-300 relative stroke-grid-box flex items-center justify-center">
                                <span class="text-xs text-gray-400">ƒêang t·∫£i...</span>
                            </div>
                            <button onclick="replayStrokeAnimation()" class="mt-3 text-xs bg-pink-100 text-pink-700 px-3 py-1 rounded hover:bg-pink-200 transition font-bold"><i class="fas fa-redo mr-1"></i> Vi·∫øt l·∫°i</button>
                        </div>
                        <div class="w-full">
                            <p class="text-[10px] text-gray-500 mb-3 font-bold uppercase text-center">Th·ª© t·ª± t·ª´ng n√©t</p>
                            <div id="stroke-grid-container" class="flex flex-wrap gap-2 justify-center"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal: Grammar Rules -->
    <div id="grammar-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity backdrop-blur-sm" onclick="closeGrammarModal()"></div>
            <div class="inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full modal-enter relative">
                <button onclick="closeGrammarModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 focus:outline-none z-10"><i class="fas fa-times text-2xl"></i></button>
                <div class="bg-white px-6 py-8 sm:p-8 max-h-[85vh] overflow-y-auto">
                    <h2 class="text-2xl md:text-3xl font-extrabold text-indigo-700 mb-2 text-center"><i class="fas fa-book-reader mr-2"></i>Quy T·∫Øc Chia ƒê·ªông T·ª´ Ti·∫øng Nh·∫≠t</h2>
                    <p class="text-center text-gray-500 mb-6 text-xs md:text-sm italic">T·ªïng h·ª£p c√°ch chia 3 nh√≥m t·ª´ N5 ƒë·∫øn N3</p>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 text-xs">
                        <div class="bg-blue-50 rounded-xl border border-blue-200 shadow-sm overflow-hidden">
                            <div class="bg-blue-100 p-3 border-b border-blue-200 text-center">
                                <h3 class="text-lg font-bold text-blue-800">Nh√≥m I (Godan)</h3>
                                <p class="text-blue-600 text-[10px]">K·∫øt th√∫c b·∫±ng c·ªôt "u"</p>
                            </div>
                            <div class="p-4 space-y-2">
                                <div class="flex justify-between border-b border-blue-100 pb-1"><b>Masu:</b> <span>u ‚Üí i + masu</span></div>
                                <div class="flex justify-between border-b border-blue-100 pb-1"><b>Nai:</b> <span>u ‚Üí a + nai</span></div>
                                <div class="flex justify-between border-b border-blue-100 pb-1"><b>Te/Ta:</b> <span>u/tsu/ru‚Üítte; mu/bu/nu‚Üínde; ku‚Üíite; gu‚Üíide; su‚Üíshite</span></div>
                                <div class="flex justify-between border-b border-blue-100 pb-1"><b>Kh·∫£ nƒÉng:</b> <span>u ‚Üí eru</span></div>
                                <div class="flex justify-between"><b>√ù ch√≠:</b> <span>u ‚Üí ou</span></div>
                            </div>
                        </div>
                        <div class="bg-teal-50 rounded-xl border border-teal-200 shadow-sm overflow-hidden">
                            <div class="bg-teal-100 p-3 border-b border-teal-200 text-center">
                                <h3 class="text-lg font-bold text-teal-800">Nh√≥m II (Ichidan)</h3>
                                <p class="text-teal-600 text-[10px]">K·∫øt th√∫c "eru" / "iru"</p>
                            </div>
                            <div class="p-4 space-y-2 text-center">
                                <p class="text-red-500 font-bold text-[10px] uppercase mb-1">Quy t·∫Øc v√†ng:</p>
                                <p class="text-teal-800 font-bold bg-white p-2 border rounded">B·ªè "ru" + ƒêu√¥i t∆∞∆°ng ·ª©ng</p>
                                <p class="mt-2 text-gray-500">V√≠ d·ª•: Taberu ‚Üí Tabemasu, Tabete, Tabenai</p>
                            </div>
                        </div>
                        <div class="bg-purple-50 rounded-xl border border-purple-200 shadow-sm overflow-hidden">
                            <div class="bg-purple-100 p-3 border-b border-purple-200 text-center">
                                <h3 class="text-lg font-bold text-purple-800">B·∫•t Quy T·∫Øc</h3>
                                <p class="text-purple-600 text-[10px]">Suru & Kuru</p>
                            </div>
                            <div class="p-4 space-y-2">
                                <div class="font-bold text-purple-900 border-b pb-1">„Åô„Çã (L√†m) ‚Üí „Åó„Åæ„Åô, „Åó„Å¶, „Åó„Å™„ÅÑ, „Åß„Åç„Çã, „Åó„Çà„ÅÜ</div>
                                <div class="font-bold text-purple-900 mt-2">Êù•„Çã (ƒê·∫øn) ‚Üí Êù•„Åæ„Åô, Êù•„Å¶, „Åì„Å™„ÅÑ, „Åì„Çâ„Çå„Çã, „Åì„Çà„ÅÜ</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script>
        let allWords = [];
        let currentQ = null;
        let score = 0;
        let currentStrokeSvg = null;

        const colorMap = { blue: "bg-blue-100 border-blue-400 text-blue-800", green: "bg-green-100 border-green-400 text-green-800", yellow: "bg-yellow-100 border-yellow-400 text-yellow-800", orange: "bg-orange-100 border-orange-400 text-orange-800", teal: "bg-teal-100 border-teal-400 text-teal-800", pink: "bg-pink-100 border-pink-400 text-pink-800", indigo: "bg-indigo-100 border-indigo-400 text-indigo-800", purple: "bg-purple-100 border-purple-400 text-purple-800", gray: "bg-gray-100 border-gray-400 text-gray-800" };
        const btnColorMap = { blue: "bg-blue-500 hover:bg-blue-600", green: "bg-green-500 hover:bg-green-600", yellow: "bg-yellow-500 hover:bg-yellow-600", orange: "bg-orange-500 hover:bg-orange-600", teal: "bg-teal-500 hover:bg-teal-600", pink: "bg-pink-500 hover:bg-pink-600", indigo: "bg-indigo-500 hover:bg-indigo-600", purple: "bg-purple-500 hover:bg-purple-600", gray: "bg-gray-500 hover:bg-gray-600" };

        const groupsConfig = [
            { title: "1. Nh√≥m Di Chuy·ªÉn üö∂‚úàÔ∏è", color: "blue", ids: ["Ë°å„Åè","Êù•„Çã","Â∏∞„Çã","ÂÖ•„Çã","Âá∫„Çã","ÂÖ•„Çå„Çã","Âá∫„Åô","Ê≠©„Åè","Ëµ∞„Çã","‰πó„Çã","Èôç„Çä„Çã","Áôª„Çã","Ê∏°„Çã","Êõ≤„Åå„Çã","ÁùÄ„Åè","ÊÄ•„Åê","Ê≠¢„ÇÄ","Âãï„Åè","ÂæÖ„Å§"] },
            { title: "2. Nh√≥m Sinh Ho·∫°t üè†üí§", color: "green", ids: ["È£ü„Åπ„Çã","È£≤„ÇÄ","Âê∏„ÅÜ","Á´ã„Å§","Â∫ß„Çã","ÂØù„Çã","Ëµ∑„Åç„Çã","Êµ¥„Å≥„Çã","Á£®„Åè","Ê¥ó„ÅÜ","Âàá„Çã","ÁÑº„Åè","Ê≥ä„Åæ„Çã","‰ºë„ÇÄ"] },
            { title: "3. Nh√≥m Mua B√°n üí∞üõçÔ∏è", color: "yellow", ids: ["Ë≤∑„ÅÜ","Â£≤„Çã","Êâï„ÅÜ","Ë≤∏„Åô","ÂÄü„Çä„Çã","Ëøî„Åô"] },
            { title: "4. Nh√≥m ƒê·ªì V·∫≠t üì¶üñêÔ∏è", color: "orange", ids: ["Ë¶ã„Çã","Èñã„Åë„Çã","Èñâ„ÇÅ„Çã","Êäº„Åô","Âºï„Åè","‰Ωú„Çã","‰Ωø„ÅÜ","Áõ¥„Åô","Êé¢„Åô","Ëß¶„Çã","Ë≤º„Çã","ÊíÆ„Çã","Êäï„Åí„Çã","Áõó„ÇÄ","Ë¶ã„Å§„Åã„Çã","Ë¶ã„Å§„Åë„Çã"] },
            { title: "5. Nh√≥m H·ªçc T·∫≠p üíºüìö", color: "teal", ids: ["ÂÉç„Åè","Âã§„ÇÅ„Çã","Êïô„Åà„Çã","Áøíau","Â≠¶„Å∂","Ë¶ö„Åà„Çã","Âøò„Çå„Çã","ËÄÉ„Åà„Çã","Áü•„Çã","ÂàÜ„Åã„Çã","Ë™ø„Åπ„Çã","Êõ∏„Åè"] },
            { title: "6. Nh√≥m Giao Ti·∫øp üó£Ô∏èüòä", color: "pink", ids: ["Ë®Ä„ÅÜ","Ë©±„Åô","ËÅû„Åè","Á≠î„Åà„Çã","Âëº„Å∂","Á¨ë„ÅÜ","Ê≥£„Åè","ÊÄí„Çã","Âñú„Å∂","Âõ∞„Çã","Áñ≤„Çå„Çã","Ë¶ã„Åõ„Çã"] },
            { title: "7. Nh√≥m Trang Ph·ª•c üëïüëü", color: "indigo", ids: ["ÁùÄ„Çã","Â±•„Åè","ËÑ±„Åê"] },
            { title: "8. Nh√≥m Cho/Nh·∫≠n üéÅü§ù", color: "purple", ids: ["‰∏ä„Åí„Çã","„ÇÇ„Çâ„ÅÜ","„Åè„Çå„Çã","Êâã‰ºù„ÅÜ","Âä©„Åë„Çã","È†º„ÇÄ","Ë™ò„ÅÜ","Ëøé„Åà„Çã","‰ºö„ÅÜ"] },
            { title: "9. Kh√°c üå∏‚è≥", color: "gray", ids: ["„ÅÇ„Çã","„ÅÑ„Çã","Ê≠ª„Å¨","Áîü„Åæ„Çå„Çã","Âßã„Åæ„Çã","ÁµÇ„Çè„Çã","Ê±∫„ÇÅ„Çã","Â§â„Åà„Çã","Âí≤„Åè","Èôç„Çã","ÂΩπÁ´ã„Å§","Ê≠å„ÅÜ","ÈÅä„Å∂","Ê≥≥„Åê","„Åô„Çã","„ÇÑ„Çã","Âôõ„ÇÄ","ÂΩπ„Å´Á´ã„Å§","„Åã„Åã„Çã"] }
        ];

        // FULL 110 VERBS MASTER DATA
        const masterVerbList = [
            // Movement
            { k: "Ë°å„Åè", h: "„ÅÑ„Åè", m: "ƒëi", t: 1, e: "iku", ti: "Ch√¢n b∆∞·ªõc tr√°i (**ÂΩ≥**) b∆∞·ªõc ph·∫£i (**‰∫ç**) l√† **H√ÄNH**.", ta: "ƒêi Y nh∆∞ C·ª• (**Iku**).", ctx: ["Â≠¶Ê†°","Êù±‰∫¨"] },
            { k: "Êù•„Çã", h: "„Åè„Çã", m: "ƒë·∫øn", t: 3, ti: "C√¢y (**Êú®**) b√°o hi·ªáu t∆∞∆°ng **LAI**.", ta: "**Cu R≈©** (**Kuru**) v√¨ ƒë·∫øn.", ctx: ["„Éê„Çπ","ÂèãÈÅî"] },
            { k: "Â∏∞„Çã", h: "„Åã„Åà„Çã", m: "v·ªÅ", t: 1, e: "kaeru", ti: "C·∫ßm ch·ªïi (**Â∏ö**) qu√©t nh√† ƒë√≥n ch·ªìng **QUY**.", ta: "Mua **C√° ·∫æ** (**Kaeru**) v·ªÅ.", ctx: ["ÂÆ∂","ÂõΩ"] },
            { k: "ÂÖ•„Çã", h: "„ÅØ„ÅÑ„Çã", m: "v√†o", t: 1, e: "hairu", ti: "H√¨nh c√°i l·ªÅu (**ÂÖ•**), chui v√†o.", ta: "**H√£i** qu√° r·ªß (**Hairu**) v√†o.", ctx: ["ÈÉ®Â±ã","„ÅäÈ¢®ÂëÇ"] },
            { k: "Âá∫„Çã", h: "„Åß„Çã", m: "ra", t: 2, ti: "Hai n√∫i (**Â±±**) **XU·∫§T** hi·ªán.", ta: "**ƒê√™** (**De**) v·ª° n∆∞·ªõc ch·∫£y ra.", ctx: ["ÂÆ∂","‰ºöË≠∞"] },
            { k: "ÂÖ•„Çå„Çã", h: "„ÅÑ„Çå„Çã", m: "cho v√†o", t: 2, ti: "ƒêem v√†o (**ÂÖ•**) l√† **NH·∫¨P**.", ta: "**Y R·ªÉ** r·ªß (**Ireru**) v√†o.", ctx: ["Á†ÇÁ≥ñ","Êú¨"] },
            { k: "Âá∫„Åô", h: "„Å†„Åô", m: "l·∫•y ra", t: 1, ti: "T·ª´ n√∫i (**Â±±**) l·∫•y ra.", ta: "**ƒê√° S√π** (**Dasu**) l·∫•y ra.", ctx: ["ÊâãÁ¥ô","„Ç¥„Éü"] },
            { k: "Ê≠©„Åè", h: "„ÅÇ„Çã„Åè", m: "ƒëi b·ªô", t: 1, ti: "D·ª´ng (**Ê≠¢**) m·ªôt ch√∫t (**Â∞ë**) r·ªìi ƒëi **B·ªò**.", ta: "**A R·ªß C√∫** (**Aruku**) ƒëi b·ªô.", ctx: ["ÂÖ¨Âúí","ÈßÖ"] },
            { k: "Ëµ∞„Çã", h: "„ÅØ„Åó„Çã", m: "ch·∫°y", t: 1, e: "hashiru", ti: "Ch·∫°y tr√™n ƒê·∫•t (**Âúü**) b·∫±ng Ch√¢n.", ta: "**H√° X√¨** (**Hashi**) ch·∫°y.", ctx: ["Âªä‰∏ã","ÈßÖ"] },
            { k: "‰πó„Çã", h: "„ÅÆ„Çã", m: "l√™n xe", t: 1, ti: "L√∫a (**Á¶æ**) tr√™n ƒë·ªânh ngh√¨n (**ÂçÉ**) xe.", ta: "**N√¥ R·ªß** (**Noru**) l√™n xe.", ctx: ["ÈõªËªä","„Éê„Çπ"] },
            { k: "Èôç„Çä„Çã", h: "„Åä„Çä„Çã", m: "xu·ªëng xe", t: 2, ti: "B∆∞·ªõc xu·ªëng g√≤ ƒë·∫•t (**Èòù**) l√† **GI√ÅNG**.", ta: "**√î Ri** (**Ori**) xu·ªëng xe.", ctx: ["ÈõªËªä","ÈöéÊÆµ"] },
            { k: "Áôª„Çã", h: "„ÅÆ„Åº„Çã", m: "leo", t: 1, ti: "Hai ch√¢n (**Áô∂**) b∆∞·ªõc l√™n h·∫°t ƒë·∫≠u (**Ë±Ü**) **ƒêƒÇNG**.", ta: "**N√¥ B√≤** (**Nobo**) leo.", ctx: ["ÂØåÂ£´Â±±","Êú®"] },
            { k: "Ê∏°„Çã", h: "„Çè„Åü„Çã", m: "bƒÉng qua", t: 1, ti: "N∆∞·ªõc (**Ê∞µ**) n√≥ng 30 ƒë·ªô (**Â∫¶**) **ƒê·ªò** giang.", ta: "**Wa Ta** (**Wata**) bƒÉng qua.", ctx: ["Ê©ã","ÈÅì"] },
            { k: "Êõ≤„Åå„Çã", h: "„Åæ„Åå„Çã", m: "r·∫Ω", t: 1, ti: "C√°nh ƒë·ªìng (**Áî∞**) c√≥ s·ª´ng l√† **KH√öC** quanh.", ta: "**Ma G√†** (**Maga**) r·∫Ω.", ctx: ["Ëßí","Âè≥"] },
            { k: "ÁùÄ„Åè", h: "„Å§„Åè", m: "ƒë·∫øn n∆°i", t: 1, ti: "D√™ (**‚∫∂**) m·ªü m·∫Øt (**ÁõÆ**) th·∫•y m√¨nh ƒë·∫øn **TR∆Ø·ªöC**.", ta: "**X√π C√∫** (**Tsuku**) khi ƒë·∫øn.", ctx: ["ÈßÖ","Êó•Êú¨"] },
            { k: "ÊÄ•„Åê", h: "„ÅÑ„Åù„Åê", m: "v·ªôi", t: 1, ti: "Tim (**ÂøÉ**) b·ªã b√≥ bu·ªôc th·∫•y **C·∫§P**.", ta: "**I S√¥** (**Iso**) v·ªôi.", ctx: ["ÊôÇÈñì","ÈßÖ"] },
            { k: "Ê≠¢„ÇÄ", h: "„ÇÑ„ÇÄ", m: "t·∫°nh", t: 1, ti: "D·ª´ng l·∫°i (**Ê≠¢**) l√† t·∫°nh.", ta: "**Da M√π** (**Yamu**) t·∫°nh.", ctx: ["Èõ®","Èõ™"] },
            { k: "Âãï„Åè", h: "„ÅÜ„Åî„Åè", m: "di chuy·ªÉn", t: 1, ti: "D√πng l·ª±c (**Âäõ**) ƒë·∫©y v·∫≠t n·∫∑ng (**Èáç**) **ƒê·ªòNG**.", ta: "**U G·ªì** (**Ugo**) kh√≥ ƒëi.", ctx: ["Ê©üÊ¢∞","Ëªä"] },
            { k: "ÂæÖ„Å§", h: "„Åæ„Å§", m: "ƒë·ª£i", t: 1, ti: "ƒêi (**ÂΩ≥**) ƒë·∫øn ch√πa (**ÂØ∫**) ƒë·ªÉ **ƒê√ÉI** (ƒë·ª£i).", ta: "**M√° T·ª±** (**Matsu**) ƒë·ª£i.", ctx: ["„Éê„Çπ","ÂèãÈÅî"] },
            // Daily
            { k: "È£ü„Åπ„Çã", h: "„Åü„Åπ„Çã", m: "ƒÉn", t: 2, ti: "Ng∆∞·ªùi (**‰∫∫**) t·ªët (**ËâØ**) m·ªõi c√≥ **TH·ª∞C** ph·∫©m.", ta: "**Ta B·ªÅ** (**Tabe**) ra ƒÉn.", ctx: ["Âà∫Ë∫´","ÈáéËèú"] },
            { k: "È£≤„ÇÄ", h: "„ÅÆ„ÇÄ", m: "u·ªëng", t: 1, ti: "ƒÇn (**È£ü**) thi·∫øu (**Ê¨†**) n∆∞·ªõc th√¨ **·∫®M** (u·ªëng).", ta: "**N√¥ M≈©** (**Nomu**) u·ªëng.", ctx: ["„ÅäÈÖí","Ëñ¨"] },
            { k: "Âê∏„ÅÜ", h: "„Åô„ÅÜ", m: "h√∫t", t: 1, ti: "Mi·ªáng (**Âè£**) h√≠t k·ªãp (**Âèä**) th·ªùi h√¥ **H·∫§P**.", ta: "**Su Su** (**Suu**) h√∫t.", ctx: ["„Çø„Éê„Ç≥","Á©∫Ê∞ó"] },
            { k: "Á´ã„Å§", h: "„Åü„Å§", m: "ƒë·ª©ng", t: 1, ti: "ƒê·ª©ng (**Á´ã**) tr√™n ƒë·∫•t **L·∫¨P** nghi·ªáp.", ta: "**Ta T·ª±** (**Tatsu**) ƒë·ª©ng.", ctx: ["„Éâ„Ç¢„ÅÆÂâç","Â∏≠"] },
            { k: "Â∫ß„Çã", h: "„Åô„Çè„Çã", m: "ng·ªìi", t: 1, ti: "Hai ng∆∞·ªùi (**‰∫∫**) ng·ªìi tr√™n ƒë·∫•t (**Âúü**) **T·ªåA** ƒë√†m.", ta: "**Su Wa R·ªß** (**Suwaru**) ng·ªìi.", ctx: ["Ê§ÖÂ≠ê","„Åì„Åì"] },
            { k: "ÂØù„Çã", h: "„Å≠„Çã", m: "ng·ªß", t: 2, ti: "V√†o nh√† (**ÂÆÄ**) n·∫±m ph·∫£n (**Áàø**) **T·∫®M**.", ta: "**N·ªÉ** (**Ne**) t√¨nh ƒëi ng·ªß.", ctx: ["10ÊôÇ","„Éô„ÉÉ„Éâ"] },
            { k: "Ëµ∑„Åç„Çã", h: "„Åä„Åç„Çã", m: "th·ª©c d·∫≠y", t: 2, ti: "B·∫£n th√¢n (**Â∑±**) ch·∫°y (**Ëµ∞**) kh·ªüi gi∆∞·ªùng **KH·ªûI**.", ta: "**√î K√¨** (**Oki**) d·∫≠y s·ªõm.", ctx: ["ÊØéÊúù","Êó©„Åè"] },
            { k: "Êµ¥„Å≥„Çã", h: "„ÅÇ„Å≥„Çã", m: "t·∫Øm", t: 2, ti: "N∆∞·ªõc (**Ê∞µ**) ·ªü thung l≈©ng (**Ë∞∑**) t·∫Øm **D·ª§C**.", ta: "**A Bi** (**Abi**) ƒëi t·∫Øm.", ctx: ["„Ç∑„É£„ÉØ„Éº","Ê∞¥"] },
            { k: "Á£®„Åè", h: "„Åø„Åå„Åè", m: "ƒë√°nh rƒÉng", t: 1, ti: "ƒê√° (**Áü≥**) **MA** s√°t c√¢y gai (**È∫ª**).", ta: "**Mi G√† C√∫** (**Migaku**) ƒë√°nh.", ctx: ["Ê≠Ø","Èù¥"] },
            { k: "Ê¥ó„ÅÜ", h: "Ê¥ó„ÅÜ", m: "r·ª≠a", t: 1, ti: "D√πng n∆∞·ªõc (**Ê∞µ**) **T·∫®Y** r·ª≠a tr∆∞·ªõc ti√™n (**ÂÖà**).", ta: "**A Rau** (**Arau**) c·∫ßn r·ª≠a.", ctx: ["Êâã","Áöø"] },
            { k: "Âàá„Çã", h: "„Åç„Çã", m: "c·∫Øt", t: 1, e: "kiru", ti: "S·ªë 7 (**‰∏É**) v√† dao (**ÂàÄ**) **THI·∫æT**.", ta: "**Ki** (**Ki**) dao c·∫Øt.", ctx: ["Á¥ô","È´™"] },
            { k: "ÁÑº„Åè", h: "„ÇÑ„Åè", m: "n∆∞·ªõng", t: 1, ti: "L·ª≠a (**ÁÅ´**) n∆∞·ªõng ƒë·∫•t s√©t **THI√äU**.", ta: "**D·∫° C·ª•** (**Yaku**) n∆∞·ªõng.", ctx: ["ËÇâ","È≠ö"] },
            { k: "Ê≥ä„Åæ„Çã", h: "„Å®„Åæ„Çã", m: "tr·ªç l·∫°i", t: 1, ti: "N∆∞·ªõc (**Ê∞µ**) tr·∫Øng (**ÁôΩ**) b·∫øn **B·∫†C**.", ta: "**T√¥ M√† R·ªß** (**Tomaru**) tr·ªç.", ctx: ["„Éõ„ÉÜ„É´","ÂèãÈÅî„ÅÆÂÆ∂"] },
            { k: "‰ºë„ÇÄ", h: "„ÇÑ„Åô„ÇÄ", m: "ngh·ªâ", t: 1, ti: "Ng∆∞·ªùi (**‰∫ª**) t·ª±a c√¢y (**Êú®**) ngh·ªâ **H∆ØU**.", ta: "**Ya S∆∞ M√π** (**Yasumu**) ngh·ªâ.", ctx: ["‰ºöÁ§æ","Â∞ë„Åó"] },
            // Money
            { k: "Ë≤∑„ÅÜ", h: "„Åã„ÅÜ", m: "mua", t: 1, ti: "L∆∞·ªõi (**ÁΩí**) ch·ª•p ti·ªÅn (**Ë≤ù**) ƒë·ªÉ **M√ÉI** (mua).", ta: "**Ca U** (**Kau**) mua h·ªõ.", ctx: ["Ëªä","Êúç"] },
            { k: "Â£≤„Çã", h: "„ÅÜ„Çã", m: "b√°n", t: 1, ti: "K·∫ª sƒ© (**Â£´**) b√°n ch√¢n (**ÂÑø**) **M·∫†I**.", ta: "**U R≈©** (**Uru**) b√°n ·∫ø.", ctx: ["ÂÆ∂","Êú¨"] },
            { k: "Êâï„ÅÜ", h: "„ÅØ„Çâ„ÅÜ", m: "tr·∫£ ti·ªÅn", t: 1, ti: "Tay (**Êâå**) tr·∫£ ti·ªÅn r·ªìi **PH·∫§T** √°o.", ta: "**H·∫£ Rau** (**Harau**) ƒë·∫Øt.", ctx: ["„ÅäÈáë","„Ç´„Éº„Éâ"] },
            { k: "Ë≤∏„Åô", h: "„Åã„Åô", m: "cho m∆∞·ª£n", t: 1, ti: "ƒê·ªïi (**‰ª£**) l·∫•y ti·ªÅn (**Ë≤ù**) **TH·∫¢I**.", ta: "**Ca S√π** (**Kasu**) ti·ªÅn m∆∞·ª£n.", ctx: ["„ÅäÈáë","Êú¨"] },
            { k: "ÂÄü„Çä„Çã", h: "„Åã„Çä„Çã", m: "m∆∞·ª£n", t: 2, ti: "Ng∆∞·ªùi (**‰∫ª**) x∆∞a (**Êòî**) ƒëi **T√Å** t√∫c.", ta: "**Ca Ri L∆∞** (**Kariru**) ƒëi m∆∞·ª£n.", ctx: ["Âõ≥Êõ∏È§®","„Éö„É≥"] },
            { k: "Ëøî„Åô", h: "„Åã„Åà„Åô", m: "tr·∫£ l·∫°i", t: 1, ti: "ƒêi (**‚ªå**) ng∆∞·ª£c (**Âèç**) l·∫°i **PH·∫¢N** h·ªìi.", ta: "**Ca ·∫æ S√π** (**Kaesu**) tr·∫£ n·ª£.", ctx: ["Êú¨","„ÅäÈáë"] },
            // Objects
            { k: "Ë¶ã„Çã", h: "„Åø„Çã", m: "xem/nh√¨n", t: 2, ti: "M·∫Øt (**ÁõÆ**) g·∫Øn tr√™n ch√¢n (**ÂÑø**) **KI·∫æN** t·∫≠p.", ta: "**Mi R·ªß** (**Miru**) nh√¨n g√¨.", ctx: ["Êò†Áîª","„ÉÜ„É¨„Éì"] },
            { k: "Èñã„Åë„Çã", h: "„ÅÇ„Åë„Çã", m: "m·ªü", t: 2, ti: "M·ªü c·ªïng (**ÈñÄ**) **KHAI** tr∆∞∆°ng.", ta: "**A K·ªá** (**Ake**) m·ªü ƒëi.", ctx: ["„Éâ„Ç¢","Á™ì"] },
            { k: "Èñâ„ÇÅ„Çã", h: "„Åó„ÇÅ„Çã", m: "ƒë√≥ng", t: 2, ti: "ƒê√≥ng c·ªïng (**ÈñÄ**) l√† **B·∫æ**.", ta: "**Si M√™** (**Shime**) ƒë√≥ng c·ª≠a.", ctx: ["„Ç´„Éº„ÉÜ„É≥","Â∫ó"] },
            { k: "Êäº„Åô", h: "„Åä„Åô", m: "·∫•n/ƒë·∫©y", t: 1, ti: "Tay (**Êâå**) ·∫•n √°o gi√°p (**Áî≤**) **√ÅP**.", ta: "**√î S∆∞** (**Osu**) ·∫•n chu√¥ng.", ctx: ["„Éú„Çø„É≥","ËÉå‰∏≠"] },
            { k: "Âºï„Åè", h: "„Å≤„Åè", m: "k√©o", t: 1, ti: "Cung (**Âºì**) ƒë∆∞·ª£c **D·∫™N** cƒÉng.", ta: "**Hi C·ª•** (**Hiku**) k√©o xe.", ctx: ["„Éâ„Ç¢","ËæûÊõ∏"] },
            { k: "‰Ωú„Çã", h: "„Å§„Åè„Çã", m: "l√†m/ch·∫ø bi·∫øn", t: 1, ti: "Ng∆∞·ªùi (**‰∫ª**) t·∫°o **T√ÅC** ph·∫©m.", ta: "**Xu C≈© R·ªß** (**Tsukuru**) l√†m.", ctx: ["ÊñôÁêÜ","ÈáéËèú"] },
            { k: "‰Ωø„ÅÜ", h: "„Å§„Åã„ÅÜ", m: "d√πng", t: 1, ti: "Ng∆∞·ªùi (**‰∫ª**) quan l·∫°i (**Âêè**) **S·ª¨** d·ª•ng.", ta: "**X√π C√°u** (**Tsukau**) sai d√πng.", ctx: ["„Éë„ÇΩ„Ç≥„É≥","ÁÆ∏"] },
            { k: "Áõ¥„Åô", h: "„Å™„Åä„Åô", m: "s·ª≠a", t: 1, ti: "M·∫Øt (**ÁõÆ**) nh√¨n g√≥c (**‰πö**) s·ª≠a cho **TR·ª∞C**.", ta: "**N√†o S∆∞** (**Naosu**) s·ª≠a ƒëi.", ctx: ["Ëªä","ÈñìÈÅï„ÅÑ"] },
            { k: "Êé¢„Åô", h: "„Åï„Åå„Åô", m: "t√¨m", t: 1, ti: "Tay (**Êâå**) m√≤ hang s√¢u **TH√ÅM**.", ta: "**Sa G√† S√π** (**Sagasu**) t√¨m th√≥c.", ctx: ["‰ªï‰∫ã","Èçµ"] },
            { k: "Ëß¶„Çã", h: "„Åï„Çè„Çã", m: "s·ªù", t: 1, ti: "S·ª´ng (**Ëßí**) c√¥n tr√πng ch·∫°m **X√öC**.", ta: "**Sa Wa R·ªß** (**Sawaru**) s·ªù.", ctx: ["Áµµ","È´™"] },
            { k: "Ë≤º„Çã", h: "„ÅØ„Çã", m: "d√°n", t: 1, ti: "D√πng ti·ªÅn (**Ë≤ù**) chi·∫øm (**Âç†**) ch·ªó d√°n **THI·∫æP**.", ta: "**H·∫£ R·ªß** (**Haru**) d√°n gi·∫•y.", ctx: ["ÂàáÊâã","„Éù„Çπ„Çø„Éº"] },
            { k: "ÊíÆ„Çã", h: "ÊíÆ„Çã", m: "ch·ª•p ·∫£nh", t: 1, ti: "Tay (**Êâå**) ch·ªçn g√≥c ƒë·∫πp nh·∫•t **TO√ÅT** th·∫ßn.", ta: "**T√¥ R·ªß** (**Toru**) ch·ª•p ·∫£nh.", ctx: ["ÂÜôÁúü","„Éì„Éá„Ç™"] },
            { k: "Êäï„Åí„Çã", h: "„Å™„Åí„Çã", m: "n√©m", t: 2, ti: "Tay (**Êâå**) c·∫ßm binh kh√≠ n√©m **ƒê·∫¶U**.", ta: "**N√° Gh√™ R·ªß** (**Nageru**) n√©m.", ctx: ["„Éú„Éº„É´","Áü≥"] },
            { k: "Áõó„ÇÄ", h: "„Å¨„Åô„ÇÄ", m: "tr·ªôm", t: 1, ti: "L·∫ßn t·ªõi (**Ê¨°**) tr·ªôm ƒëƒ©a (**Áöø**) l√† **ƒê·∫†O**.", ta: "**Nu S∆∞ M√π** (**Nusumu**) tr·ªôm.", ctx: ["Ë≤°Â∏É","Ëá™Ëª¢Ëªä"] },
            { k: "Ë¶ã„Å§„Åã„Çã", h: "„Åø„Å§„Åã„Çã", m: "ƒë∆∞·ª£c t√¨m th·∫•y", t: 1, ti: "M·∫Øt (**ÁõÆ**) d√≠nh ch·∫∑t v√†o v·∫≠t.", ta: "**Mi Tsu Ka Ru**.", ctx: ["‰ªï‰∫ã","Èçµ"] },
            { k: "Ë¶ã„Å§„Åë„Çã", h: "„Åø„Å§„Åë„Çã", m: "t√¨m th·∫•y", t: 2, ti: "M·∫Øt (**ÁõÆ**) ki·∫øn t·∫°o ra v·∫≠t.", ta: "**Mi Tsu Ke Ru**.", ctx: ["ËâØ„ÅÑÂ∫ó","ÈñìÈÅï„ÅÑ"] },
            // Study/Work
            { k: "ÂÉç„Åè", h: "„ÅØ„Åü„Çâ„Åè", m: "l√†m vi·ªác", t: 1, ti: "Ng∆∞·ªùi (**‰∫ª**) d√πng l·ª±c (**Âäõ**) v·∫≠t n·∫∑ng **ƒê·ªòNG**.", ta: "**H√† Ta Ra C≈©ng** (**Hataraku**) l√†m.", ctx: ["‰ºöÁ§æ","ÊØéÊó•"] },
            { k: "Âã§„ÇÅ„Çã", h: "„Å§„Å®„ÇÅ„Çã", m: "l√†m cty", t: 2, ti: "D√πng s·ª©c (**Âäõ**) chuy√™n **C·∫¶N**.", ta: "**Xu T√¥ M√™ R·ªß** (**Tsutomeru**) ƒëi l√†m.", ctx: ["‰ºöÁ§æ","ÈäÄË°å"] },
            { k: "Êïô„Åà„Çã", h: "„Åä„Åó„Åà„Çã", m: "d·∫°y", t: 2, ti: "D·∫°y ch·ªØ Hi·∫øu (**Â≠ù**) l√† **GI√ÅO**.", ta: "**√î Si √ä R·ªß** (**Oshieru**) d·∫°y.", ctx: ["Êó•Êú¨Ë™û","ÈÅì"] },
            { k: "Áøí„ÅÜ", h: "„Å™„Çâ„ÅÜ", m: "h·ªçc (th·∫ßy)", t: 1, ti: "Chim v·ªó c√°nh (**ÁæΩ**) tr·∫Øng (**ÁôΩ**) **T·∫¨P** bay.", ta: "**Na Ra U·ªëng** (**Narau**) n∆∞·ªõc.", ctx: ["„Éî„Ç¢„Éé","Ëã±Ë™û"] },
            { k: "Â≠¶„Å∂", h: "„Åæ„Å™„Å∂", m: "h·ªçc", t: 1, ti: "Tr·∫ª (**Â≠ê**) d∆∞·ªõi m√°i nh√† **H·ªåC**.", ta: "**M√° Na B·ª±** (**Manabu**) h·ªçc.", ctx: ["Ê≠¥Âè≤","ÁµåÊ∏à"] },
            { k: "Ë¶ö„Åà„Çã", h: "„Åä„Åº„Åà„Çã", m: "nh·ªõ", t: 2, ti: "D∆∞·ªõi nh√† s√°ng su·ªët nh√¨n (**Ë¶ã**) l√† **GI√ÅC**.", ta: "**√î B·ªë √ä R·ªß** (**Oboeru**) nh·ªõ ch∆∞a.", ctx: ["ÂçòË™û","ÈÅì"] },
            { k: "Âøò„Çå„Çã", h: "„Çè„Åô„Çå„Çã", m: "qu√™n", t: 2, ti: "Tim (**ÂøÉ**) ch·∫øt (**‰∫°**) l√† **VONG** t√¨nh.", ta: "**Wa S∆∞ R·ªÉ R·ªß** (**Wasureru**) qu√™n.", ctx: ["ÂÆøÈ°å","ÂêçÂâç"] },
            { k: "ËÄÉ„Åà„Çã", h: "„Åã„Çì„Åå„Åà„Çã", m: "suy nghƒ©", t: 2, ti: "√îng gi√† (**ËÄÇ**) ch·ªëng g·∫≠y **KH·∫¢O** s√°t.", ta: "**C√°n G√† √ä R·ªß** (**Kangaeru**) nghƒ©.", ctx: ["Â∞ÜÊù•","Á≠î„Åà"] },
            { k: "Áü•„Çã", h: "„Åó„Çã", m: "bi·∫øt", t: 1, e: "shiru", ti: "T√™n (**Áü¢**) b·∫Øn t·ª´ mi·ªáng (**Âè£**) l√† **TRI**.", ta: "**Si R·ªß** (**Shiru**) t√¨m hi·ªÉu.", ctx: ["„Éã„É•„Éº„Çπ","‰ΩèÊâÄ"] },
            { k: "ÂàÜ„Åã„Çã", h: "„Çè„Åã„Çã", m: "hi·ªÉu", t: 1, ti: "Dao (**ÂàÄ**) chia 8 (**ÂÖ´**) ph·∫ßn **PH√ÇN** r√µ.", ta: "**Wa C√° R·ªß** (**Wakaru**) b∆°i.", ctx: ["ÊÑèÂë≥","ÁêÜÁî±"] },
            { k: "Ë™ø„Åπ„Çã", h: "„Åó„Çâ„Åπ„Çã", m: "ƒëi·ªÅu tra", t: 2, ti: "L·ªùi n√≥i (**Ë®Ä**) chu vi (**Âë®**) **ƒêI·ªÄU** tra.", ta: "**Si Ra B√™ R·ªß** (**Shiraberu**) tra.", ctx: ["Ë®ÄËëâ","ÊôÇÈñì"] },
            { k: "Êõ∏„Åè", h: "„Åã„Åè", m: "vi·∫øt", t: 1, ti: "B√∫t (**ËÅø**) vi·∫øt h√†ng ng√†y (**Êó•**) v√†o **TH∆Ø**.", ta: "**Ca C·ª©** (**Kaku**) h√°t khi vi·∫øt.", ctx: ["Êâãmi","ÂêçÂâç"] },
            // Comm
            { k: "Ë®Ä„ÅÜ", h: "„ÅÑ„ÅÜ", m: "n√≥i", t: 1, ti: "Mi·ªáng (**Âè£**) ph√°t ra **NG√îN**.", ta: "**I U** (y√™u) th√¨ n√≥i.", ctx: ["ÂÜóË´á","„ÅäÁ§º"] },
            { k: "Ë©±„Åô", h: "„ÅØ„Å™„Åô", m: "n√≥i chuy·ªán", t: 1, ti: "L∆∞·ª°i (**Ëàå**) u·ªën √©o n√≥i l·ªùi (**Ë®Ä**) **THO·∫†I**.", ta: "**H·∫£ Na S√π** (**Hanasu**) l√¥ng.", ctx: ["ÂèãÈÅî","ÈõªË©±"] },
            { k: "ËÅû„Åè", h: "„Åç„Åè", m: "nghe", t: 1, ti: "Gh√© Tai (**ËÄ≥**) v√†o c·ªïng (**ÈñÄ**) l√† **VƒÇN**.", ta: "**Ki C·ª•** (**Kiku**) nghe ƒë√†i.", ctx: ["Èü≥‰πê","ÂÖàÁîü"] },
            { k: "Á≠î„Åà„Çã", h: "„Åì„Åü„Åà„Çã", m: "tr·∫£ l·ªùi", t: 2, ti: "Tr√∫c (**Á´π**) h·ª£p (**Âêà**) l·∫°i gi·∫£i **ƒê√ÅP**.", ta: "**C√¥ Ta √ä R·ªß** (**Kotaeru**) tr·∫£ l·ªùi.", ctx: ["Ë≥™Âïè","„ÉÜ„Çπ„Éà"] },
            { k: "Âëº„Å∂", h: "„Çà„Å∂", m: "g·ªçi", t: 1, ti: "Mi·ªáng (**Âè£**) d√πng tay **H√î** ho√°n.", ta: "**D√¥ B·ª±** (**Yobu**) g·ªçi nh·∫≠u.", ctx: ["„Çø„ÇØ„Ç∑„Éº","ÂêçÂâç"] },
            { k: "Á¨ë„ÅÜ", h: "„Çè„Çâ„ÅÜ", m: "c∆∞·ªùi", t: 1, ti: "Tr√∫c (**Á´π**) m√∫a ng∆∞·ªùi tr·∫ª (**Â§≠**) **TI·∫æU**.", ta: "**Wa Rau** (**Warau**) c∆∞·ªùi.", ctx: ["Â§ßÂ£∞","„Éã„Ç≥„Éã„Ç≥"] },
            { k: "Ê≥£„Åè", h: "„Å™„Åè", m: "kh√≥c", t: 1, ti: "ƒê·ª©ng (**Á´ã**) r·ªõt n∆∞·ªõc (**Ê∞µ**) l√† **KH·∫§P**.", ta: "**Na C·ª•** (**Naku**) kh√≥c.", ctx: ["Â≠ê‰æõ","ÊÑüÂãï"] },
            { k: "ÊÄí„Çã", h: "„Åä„Åì„Çã", m: "gi·∫≠n", t: 1, ti: "Tim (**ÂøÉ**) n√¥ l·ªá (**Â•¥**) ph·∫´n **N·ªò**.", ta: "**√î C√¥ R·ªß** (**Okoru**) gi·∫≠n.", ctx: ["Áà∂","‰∏äÂè∏"] },
            { k: "Âñú„Å∂", h: "„Çà„Çç„Åì„Å∂", m: "vui m·ª´ng", t: 1, ti: "Tr·ªëng (**Â£¥**) mi·ªáng (**Âè£**) c∆∞·ªùi **H·ª∂**.", ta: "**D√¥ R·ªì C√¥ B·ª±** (**Yorokobu**) vui.", ctx: ["„Éó„É¨„Çº„É≥„Éà","ÂêàÊ†º"] },
            { k: "Âõ∞„Çã", h: "„Åì„Åæ„Çã", m: "kh√≥ khƒÉn", t: 1, ti: "C√¢y (**Êú®**) b·ªã nh·ªët h·ªôp (**Âõó**) **KH·ªêN**.", ta: "**C√¥ Ma R·ªß** (**Komaru**) l√†m kh√≥.", ctx: ["„ÅäÈáë","ÁîüÊ¥ª"] },
            { k: "Áñ≤„Çå„Çã", h: "„Å§„Åã„Çå„Çã", m: "m·ªát", t: 2, ti: "B·ªánh (**Áñí**) da (**ÁöÆ**) **B√å** m·ªát.", ta: "**Xu C√† R·ªÉ R·ªß** (**Tsukareru**) m·ªát.", ctx: ["ÁõÆ","‰Ωì"] },
            { k: "Ë¶ã„Åõ„Çã", h: "„Åø„Åõ„Çã", m: "cho xem", t: 2, ti: "Ki·∫øn t·∫°o cho xem.", ta: "**Mi S√™ R·ªß** (**Miseru**) cho xem.", ctx: ["ÂÜôÁúü","Ë®ºÊã†"] },
            // Clothing
            { k: "ÁùÄ„Çã", h: "„Åç„Çã", m: "m·∫∑c √°o", t: 2, ti: "D√™ (**‚∫∂**) m·ªü m·∫Øt (**ÁõÆ**) ch·ªçn ƒë·ªì.", ta: "**Ki R·ªß** (**Kiru**) m·∫∑c ƒë√¥i.", ctx: ["„Ç∑„É£„ÉÑ","ÁùÄÁâ©"] },
            { k: "Â±•„Åè", h: "„ÅØ„Åè", m: "ƒëi gi√†y/qu·∫ßn", t: 1, ti: "Th√¢n (**Â∞∏**) ph·ª•c h·ªìi (**Âæ©**) ƒë·ªÉ ƒëi **L√ù**.", ta: "**H√† C·ª•** (**Haku**) ƒëi gi√†y.", ctx: ["Èù¥","„Ç∫„Éú„É≥"] },
            { k: "ËÑ±„Åê", h: "ËÑ±„Åê", m: "c·ªüi", t: 1, ti: "Th·ªãt (**Êúà**) vui (**ÂÖë**) **THO√ÅT** ra.", ta: "**N·ª• Gu** (**Nugu**) m·∫∑n c·ªüi ƒë·ªì.", ctx: ["Êúç","Â∏ΩÂ≠ê"] },
            // Give/Help
            { k: "‰∏ä„Åí„Çã", h: "„ÅÇ„Åí„Çã", m: "t·∫∑ng/cho", t: 2, ti: "ƒê∆∞a l√™n **TH∆Ø·ª¢NG**.", ta: "**A Gh√™ R·ªß** (**Ageru**) t·∫∑ng.", ctx: ["„Éó„É¨„Çº„É≥„Éà","Áµ¶Êñô"] },
            { k: "„ÇÇ„Çâ„ÅÜ", h: "„ÇÇ„Çâ„ÅÜ", m: "nh·∫≠n", t: 1, ti: "Nh·∫≠n qu√† th·∫ø gian.", ta: "**M·ªè Ra U** (**Morau**) nh·∫≠n.", ctx: ["Áµ¶Êñô","„É°„Éº„É´"] },
            { k: "„Åè„Çå„Çã", h: "„Åè„Çå„Çã", m: "cho m√¨nh", t: 2, ti: "T·ª± ƒë·ªông.", ta: "**Cu R√™ R·ªß** (**Kureru**) cho m√¨nh.", ctx: ["„ÅäËèìÂ≠ê","ÈõªË©±"] },
            { k: "Êâã‰ºù„ÅÜ", h: "„Å¶„Å§„Å†„ÅÜ", m: "gi√∫p", t: 1, ti: "Tay (**Êâå**) **TRUY·ªÄN** (**‰ºù**) c√¥ng l·ª±c.", ta: "**T·∫øt T·ª± ƒê√¢u** (**Tetsudau**).", ctx: ["ÊØç","‰ªï‰∫ã"] },
            { k: "Âä©„Åë„Çã", h: "„Åü„Åô„Åë„Çã", m: "c·ª©u", t: 2, ti: "D√πng s·ª©c (**Âäõ**) h·ªó **TR·ª¢**.", ta: "**Ta S∆∞ K·ªá R·ªß** (**Tasukeru**).", ctx: ["‰∫∫","ÂèãÈÅî"] },
            { k: "È†º„ÇÄ", h: "„Åü„ÅÆ„ÇÄ", m: "nh·ªù", t: 1, ti: "·ª∂ **L·∫†I** nh·ªù v·∫£.", ta: "**Ta N√¥ M≈©** (**Tanomu**) nh·ªù.", ctx: ["‰ªï‰∫ã","ÊØç"] },
            { k: "Ë™ò„ÅÜ", h: "„Åï„Åù„ÅÜ", m: "m·ªùi/r·ªß", t: 1, ti: "L·ªùi n√≥i (**Ë®Ä**) d·ª• (**ÁßÄ**) d·ªó.", ta: "**Xa X√¥i U** (**Sasou**) v·∫´n m·ªùi.", ctx: ["Êò†Áîª","È£ü‰∫ã"] },
            { k: "Ëøé„Åà„Çã", h: "„ÇÄ„Åã„Åà„Çã", m: "ƒë√≥n", t: 2, ti: "ƒê·∫ßu ng·∫©ng (**Âç¨**) **NGH√äNH** ti·∫øp.", ta: "**M·ª• C√° √ä R·ªß** (**Mukaeru**) ƒë√≥n.", ctx: ["ÂÆ¢","Ê≠£Êúà"] },
            { k: "‰ºö„ÅÜ", h: "„ÅÇ„ÅÜ", m: "g·∫∑p", t: 1, ti: "Ng∆∞·ªùi (**‰∫∫**) t·ª• **H·ªòI**.", ta: "**A U** (**Au**) g·∫∑p.", ctx: ["ÊÅã‰∫∫","ÈßÖ"] },
            // Others
            { k: "„ÅÇ„Çã", h: "„ÅÇ„Çã", m: "c√≥ (v·∫≠t)", t: 1, ti: "Tay (**†Çá**) th·ªãt (**Êúà**) s·ªü **H·ªÆU**.", ta: "**A R·ªß** (**Aru**) c√≥.", ctx: ["„ÅäÈáë","ÊôÇÈñì"] },
            { k: "„ÅÑ„Çã", h: "„ÅÑ„Çã", m: "c√≥ (ng∆∞·ªùi)", t: 2, ti: "X√°c (**Â∞∏**) c·ªï (**Âè§**) **C∆Ø** tr√∫.", ta: "**I R·ªß** (**Iru**) c√≥.", ctx: ["ÂΩºÂ•≥","Â≠ê‰æõ"] },
            { k: "Ê≠ª„Å¨", h: "„Åó„Å¨", m: "ch·∫øt", t: 1, ti: "X∆∞∆°ng (**Ê≠π**) dao (**Âåï**) **T·ª¨**.", ta: "**Si N·ªØ** (**Shinu**) ch·∫øt t√¨nh.", ctx: ["È≠ö","ÁóÖÊ∞ó"] },
            { k: "Áîü„Åæ„Çå„Çã", h: "„ÅÜ„Åæ„Çå„Çã", m: "sinh ra", t: 2, ti: "**SINH** s√¥i.", ta: "**U M√° R·ªÉ R·ªß** (**Umareru**).", ctx: ["Ëµ§„Å°„ÇÉ„Çì","Êù±‰∫¨"] },
            { k: "Âßã„Åæ„Çã", h: "„ÅØ„Åò„Åæ„Çã", m: "b·∫Øt ƒë·∫ßu", t: 1, ti: "N·ªØ (**Â•≥**) ƒë·ª©ng ƒë√†i (**Âè∞**) **TH·ª¶Y**.", ta: "**H·∫£ Chi M√™ R·ªß** (**Hajimeru**).", ctx: ["ÊéàÊ•≠","‰ºöË≠∞"] },
            { k: "ÁµÇ„Çè„Çã", h: "„Åä„Çè„Çã", m: "k·∫øt th√∫c", t: 1, ti: "T∆° (**Á≥∏**) ƒë√¥ng (**ÂÜ¨**) **CHUNG** k·∫øt.", ta: "**√î Wa R·ªß** (**Owaru**) h·∫øt.", ctx: ["‰ªï‰∫ã","„ÉÜ„Çπ„Éà"] },
            { k: "Ê±∫„ÇÅ„Çã", h: "„Åç„ÇÅ„Çã", m: "quy·∫øt ƒë·ªãnh", t: 2, ti: "N∆∞·ªõc (**Ê∞µ**) kho√©t s√¢u **QUY·∫æT**.", ta: "**K√¨ M√™ R·ªß** (**Kimeru**).", ctx: ["ÈÄ≤Ë∑Ø","Êó•‰ªò"] },
            { k: "Â§â„Åà„Çã", h: "„Åã„Åà„Çã", m: "thay ƒë·ªïi", t: 2, ti: "ƒê√°nh (**Êîµ**) n√™n **BI·∫æN** d·∫°ng.", ta: "**C√° ·∫æ R·ªß** (**Kaeru**).", ctx: ["È´™Âûã","‰∫àÂÆö"] },
            { k: "Âí≤„Åè", h: "„Åï„Åè", m: "n·ªü", t: 1, ti: "Mi·ªáng (**Âè£**) c∆∞·ªùi (**ÂÖ≥**) hoa **TI·∫æU**.", ta: "**Sa C·ª•** (**Saku**) hoa n·ªü.", ctx: ["Ê°ú","Ëä±"] },
            { k: "Èôç„Çã", h: "„Åµ„Çã", m: "r∆°i", t: 1, ti: "B∆∞·ªõc ƒëi xu·ªëng g√≤ l√† **GI√ÅNG**.", ta: "**Ph√π R·ªß** (**Furu**) r∆°i.", ctx: ["Èõ®","Èõ™"] },
            { k: "ÂΩπÁ´ã„Å§", h: "„ÇÑ„Åè„Å†„Å§", m: "c√≥ √≠ch", t: 1, ti: "Chi·∫øn d·ªãch (**ÂΩπ**) c√≥ √≠ch.", ta: "**Yaku Datsu**.", ctx: ["Á§æ‰ºö","‰ªï‰∫ã"] },
            { k: "Ê≠å„ÅÜ", h: "Ê≠å„ÅÜ", m: "h√°t", t: 1, ti: "Anh Kh·∫£ (**ÂèØ**) h√° mi·ªáng **CA**.", ta: "**U Ta U** (**Utau**) h√°t.", ctx: ["Ê≠å","„Ç´„É©„Ç™„Ç±"] },
            { k: "ÈÅä„Å∂", h: "„ÅÇ„Åù„Å∂", m: "ch∆°i", t: 1, ti: "T·ª≠ (**Â≠ê**) c·∫ßm c·ªù ƒëi **DU**.", ta: "**A X√¥ B·ª±** (**Asobu**) ch∆°i.", ctx: ["ÂÖ¨Âúí","„Ç≤„Éº„É†"] },
            { k: "Ê≥≥„Åê", h: "„Åä„Çà„Åê", m: "b∆°i", t: 1, ti: "D∆∞·ªõi n∆∞·ªõc (**Ê∞µ**) vƒ©nh vi·ªÖn (**Ê∞∏**) **V·ªäNH**.", ta: "**Ong D√¥ Gu** (**Oyogu**).", ctx: ["Êµ∑","„Éó„Éº„É´"] },
            { k: "„Åô„Çã", h: "„Åô„Çã", m: "l√†m", t: 3, ti: "B·∫•t quy t·∫Øc.", ta: "**S∆∞** l√†m.", ctx: ["ÂÆøÈ°å","„ÉÜ„Éã„Çπ"] },
            { k: "„ÇÑ„Çã", h: "„ÇÑ„Çã", m: "l√†m/cho", t: 1, ti: "T·ª± ƒë·ªông.", ta: "**Ya** l√† l√†m.", ctx: ["ÂÆøÈ°å","‰ªï‰∫ã"] },
            { k: "Âôõ„ÇÄ", h: "„Åã„ÇÄ", m: "nhai/c·∫Øn", t: 1, ti: "Mi·ªáng (**Âè£**) d√πng rƒÉng **C·∫¢O**.", ta: "**C√° M√∫** (**Kamu**) c·∫Øn.", ctx: ["„Ç¨m","Áä¨"] },
            { k: "ÂΩπ„Å´Á´ã„Å§", h: "„ÇÑ„Åè„Å´„Åü„Å§", m: "c√≥ √≠ch", t: 1, ti: "Thi·∫øt l·∫≠p chi·∫øn d·ªãch.", ta: "**Yaku Ni Tatsu**.", ctx: ["Êú¨","ÁµåÈ®ì"] },
            { k: "„Åã„Åã„Çã", h: "„Åã„Åã„Çã", m: "t·ªën", t: 1, ti: "T·ªën ph√≠.", ta: "**Ca Ca R·ªß** (**Kakaru**).", ctx: ["ÊôÇÈñì","„ÅäÈáë"] }
        ];

        // Grammatical rich examples (Core verbs)
        const specificExamples = {
            "Ë°å„Åè": {
                dict: { ex: "Â§è‰ºë„Åø„ÅØ„Å©„Åì„ÅãË°å„Åç„Åæ„Åô„Åã„ÄÇ", romaji: "Natsuyasumi wa dokoka ikimasu ka.", mean: "Ngh·ªâ h√® b·∫°n c√≥ ƒëi ƒë√¢u kh√¥ng?" },
                masu: { ex: "ÂèãÈÅî„Å´‰ºö„ÅÑ„Å´Ë°å„Åç„Åæ„Åô„ÄÇ", romaji: "Tomodachi ni ai ni ikimasu.", mean: "ƒêi g·∫∑p b·∫°n." },
                te: { ex: "„Åæ„Å£„Åô„ÅêË°å„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ", romaji: "Massugu itte kudasai.", mean: "H√£y ƒëi th·∫≥ng." },
                ta: { ex: "Êó•Êú¨„Å∏Ë°å„Å£„Åü„Åì„Å®„Åå„ÅÇ„Çä„Åæ„Åô„Åã„ÄÇ", romaji: "Nihon e itta koto ga arimasu ka.", mean: "B·∫°n ƒë√£ t·ª´ng ƒëi Nh·∫≠t ch∆∞a?" },
                nai: { ex: "„Å©„Åì„ÇÇË°å„Åã„Å™„ÅÑ„Å§„ÇÇ„Çä„Åß„Åô„ÄÇ", romaji: "Dokomo ikanai tsumori desu.", mean: "T√¥i ƒë·ªãnh kh√¥ng ƒëi ƒë√¢u c·∫£." },
                potential: { ex: "‰∏Ä‰∫∫„ÅßË°å„Åë„Çã„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ", romaji: "Hitori de ikeru to omoimasu.", mean: "T√¥i nghƒ© m√¨nh c√≥ th·ªÉ ƒëi m·ªôt m√¨nh." },
                volitional: { ex: "‰∏ÄÁ∑í„Å´Êò†Áîª„ÇíË¶ã„Å´Ë°å„Åì„ÅÜ„ÄÇ", romaji: "Issho ni eiga o mi ni ik≈ç.", mean: "C√πng ƒëi xem phim n√†o." },
                conditional: { ex: "Êó©„ÅèË°å„Åë„Å∞„ÄÅÈñì„Å´Âêà„ÅÜ„Åß„Åó„Çá„ÅÜ„ÄÇ", romaji: "Hayaku ikeba, maniau desh≈ç.", mean: "N·∫øu ƒëi s·ªõm ch·∫Øc s·∫Ω k·ªãp." }
            }
            // Logic automatically generates generic examples for others
        };

        // UI & Logic Functions
        function conjugate(word, type, exc) {
            let h = word.h, stem = "";
            let f = { dict: h, masu: "", te: "", ta: "", nai: "", pot: "", vol: "", cond: "" };
            if (exc === "iku") { f.masu="„ÅÑ„Åç„Åæ„Åô"; f.te="„ÅÑ„Å£„Å¶"; f.ta="„ÅÑ„Å£„Åü"; f.nai="„ÅÑ„Åã„Å™„ÅÑ"; f.pot="„ÅÑ„Åë„Çã"; f.vol="„ÅÑ„Åì„ÅÜ"; f.cond="„ÅÑ„Åë„Å∞"; return f; }
            if (["kiru", "kaeru", "hashiru", "shiru", "hairu"].includes(exc)) type = 1;

            if (type === 3) {
                if (h === "„Åè„Çã") { f.masu="„Åç„Åæ„Åô"; f.te="„Åç„Å¶"; f.ta="„Åç„Åü"; f.nai="„Åì„Å™„ÅÑ"; f.pot="„Åì„Çâ„Çå„Çã"; f.vol="„Åì„Çà„ÅÜ"; f.cond="„Åè„Çå„Å∞"; }
                else if (h === "„Åô„Çã") { f.masu="„Åó„Åæ„Åô"; f.te="„Åó„Å¶"; f.ta="„Åó„Åü"; f.nai="„Åó„Å™„ÅÑ"; f.pot="„Åß„Åç„Çã"; f.vol="„Åó„Çà„ÅÜ"; f.cond="„Åô„Çå„Å∞"; }
            } else if (type === 2) {
                stem = h.slice(0, -1);
                f.masu=stem+"„Åæ„Åô"; f.te=stem+"„Å¶"; f.ta=stem+"„Åü"; f.nai=stem+"„Å™„ÅÑ"; f.pot=stem+"„Çâ„Çå„Çã"; f.vol=stem+"„Çà„ÅÜ"; f.cond=stem+"„Çå„Å∞";
            } else {
                let end = h.slice(-1); stem = h.slice(0, -1);
                let i="", n="", te="", ta="", e="", o="";
                switch(end) {
                    case '„ÅÜ': i='„ÅÑ'; n='„Çè'; te='„Å£„Å¶'; ta='„Å£„Åü'; e='„Åà'; o='„Åä'; break;
                    case '„Åè': i='„Åç'; n='„Åã'; te='„ÅÑ„Å¶'; ta='„ÅÑ„Åü'; e='„Åë'; o='„Åì'; break;
                    case '„Åê': i='„Åé'; n='Í∞Ä'; te='„ÅÑ„Åß'; ta='„ÅÑ„Å†'; e='„Åí'; o='„Åî'; break;
                    case '„Åô': i='„Åó'; n='„Åï'; te='„Åó„Å¶'; ta='„Åó„Åü'; e='„Åõ'; o='„Åù'; break;
                    case '„Å§': i='„Å°'; n='„Åü'; te='„Å£„Å¶'; ta='„Å£„Åü'; e='„Å¶'; o='„Å®'; break;
                    case '„Å¨': i='„Å´'; n='„Å™'; te='nde'; ta='nda'; e='ne'; o='no'; break;
                    case '„Å∂': i='„Å≥'; n='ba'; te='nde'; ta='nda'; e='be'; o='bo'; break;
                    case '„ÇÄ': i='mi'; n='ma'; te='nde'; ta='nda'; e='me'; o='mo'; break;
                    case '„Çã': i='„Çä'; n='„Çâ'; te='„Å£„Å¶'; ta='„Å£„Åü'; e='„Çå'; o='„Çç'; break;
                }
                f.masu=stem+i+"„Åæ„Åô"; f.nai=stem+n+"„Å™„ÅÑ"; f.te=stem+te; f.ta=stem+ta; f.pot=stem+e+"„Çã"; f.cond=stem+e+"„Å∞"; f.vol=stem+o+"„ÅÜ";
            }
            return f;
        }

        function getExamples(word, forms) {
            const specific = specificExamples[word.k];
            if(specific) {
                const labels = ["dict", "masu", "te", "ta", "nai", "potential", "volitional", "conditional"];
                return labels.map((l, idx) => ({ f: Object.values(forms)[idx], j: specific[l].ex, r: specific[l].romaji, v: specific[l].mean }));
            }
            const ctx = word.ctx?.[0] || "„Åù„Çå";
            return [
                { f: forms.dict, j: `${ctx}„Çí${forms.dict}„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ`, r: "...koto ga dekimasu.", v: `C√≥ th·ªÉ ${word.m}.` },
                { f: forms.masu, j: `${forms.masu.replace('„Åæ„Åô','')}„Åü„ÅÑ„Åß„Åô„ÄÇ`, r: "...tai desu.", v: `Mu·ªën ${word.m}.` },
                { f: forms.te, j: `${forms.te}„Åè„Å†„Åï„ÅÑ„ÄÇ`, r: "...te kudasai.", v: `H√£y ${word.m}.` },
                { f: forms.ta, j: `${forms.ta}„Åì„Å®„Åå„ÅÇ„Çä„Åæ„Åô„Åã„ÄÇ`, r: "...ta koto ga arimasu ka.", v: `ƒê√£ t·ª´ng ${word.m} ch∆∞a?` },
                { f: forms.nai, j: `${forms.nai}„Åß„Åè„Å†„Åï„ÅÑ„ÄÇ`, r: "...nai de kudasai.", v: `Xin ƒë·ª´ng ${word.m}.` },
                { f: forms.pot, j: `ÁßÅ„ÅØ${forms.pot}„ÄÇ`, r: `Watashi wa ${forms.pot}.`, v: `T√¥i c√≥ th·ªÉ ${word.m}.` },
                { f: forms.vol, j: `‰∏ÄÁ∑í„Å´${forms.vol}„ÄÇ`, r: `Issho ni ${forms.vol}.`, v: `C√πng ${word.m} n√†o.` },
                { f: forms.cond, j: `${forms.cond}„ÄÅ„ÅÑ„ÅÑ„Åß„Åô„ÄÇ`, r: `...ii desu.`, v: `N·∫øu ${word.m} th√¨ t·ªët.` }
            ];
        }

        function renderContent() {
            const container = document.getElementById("content-area");
            container.innerHTML = "";
            groupsConfig.forEach(group => {
                const groupDiv = document.createElement("div");
                groupDiv.className = "bg-white rounded-lg shadow-md overflow-hidden mb-8";
                groupDiv.innerHTML = `<div class="${colorMap[group.color]} px-4 py-3 border-l-8 font-bold text-lg"><span>${group.title}</span></div>`;
                const grid = document.createElement("div");
                grid.className = "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 p-4 md:p-6";
                
                group.ids.forEach(kanji => {
                    const word = masterVerbList.find(w => w.k === kanji);
                    if(!word) return;
                    allWords.push(word);
                    const card = document.createElement("div");
                    card.className = "border border-gray-100 rounded-xl p-4 hover:shadow-lg transition bg-white flex flex-col";
                    card.innerHTML = `
                        <div class="flex justify-between items-start mb-3 border-b border-gray-50 pb-2">
                            <div class="text-3xl kanji-font font-bold text-gray-800">${word.k}</div>
                            <div class="flex space-x-1">
                                <button onclick="showStrokeOrder('${word.k}')" class="bg-pink-50 text-pink-600 p-2 rounded-full w-9 h-9 flex items-center justify-center transition hover:bg-pink-100"><i class="fas fa-pen-nib"></i></button>
                                <button onclick="openModal('${encodeURIComponent(JSON.stringify(word))}')" class="bg-indigo-50 text-indigo-600 p-2 rounded-full w-9 h-9 flex items-center justify-center transition hover:bg-indigo-100"><i class="fas fa-list-ul"></i></button>
                                <button onclick="speak('${word.k}', '${word.h}')" class="${btnColorMap[group.color]} text-white p-2 rounded-full w-9 h-9 flex items-center justify-center shadow transition active:scale-90"><i class="fas fa-volume-up"></i></button>
                            </div>
                        </div>
                        <div class="mb-2"><span class="inline-block bg-gray-100 text-gray-600 text-[10px] px-2 py-0.5 rounded font-bold mr-2 uppercase">${word.h}</span><span class="font-bold text-indigo-700 text-base">${word.m}</span></div>
                        <div class="mt-auto bg-gray-50 rounded-lg p-3 text-[11px] md:text-xs space-y-1">
                            <div><span class="font-bold text-gray-900">üñºÔ∏è H√¨nh:</span> ${word.ti.replace(/\*\*(.*?)\*\*/g, '<b class="text-red-600">$1</b>')}</div>
                            <div class="border-t pt-1"><span class="font-bold text-gray-900">üîä √Çm:</span> ${word.ta.replace(/\*\*(.*?)\*\*/g, '<b class="text-blue-600">$1</b>')}</div>
                        </div>
                    `;
                    grid.appendChild(card);
                });
                groupDiv.appendChild(grid);
                container.appendChild(groupDiv);
            });
        }

        async function showStrokeOrder(kanji) {
            const hex = kanji.charCodeAt(0).toString(16).padStart(5, '0');
            document.getElementById('stroke-modal').classList.remove('hidden');
            document.getElementById('stroke-modal-char').innerText = kanji;
            const animContainer = document.getElementById('stroke-animation-container');
            const gridContainer = document.getElementById('stroke-grid-container');
            animContainer.innerHTML = '<span class="text-xs">Loading...</span>';
            gridContainer.innerHTML = '';
            try {
                const res = await fetch(`https://cdn.jsdelivr.net/gh/KanjiVG/kanjivg/kanji/${hex}.svg`);
                const svgContent = await res.text();
                animContainer.innerHTML = svgContent;
                const mainSvg = animContainer.querySelector('svg');
                mainSvg.setAttribute('width', '100%');
                mainSvg.setAttribute('height', '100%');
                const paths = mainSvg.querySelectorAll('path');
                paths.forEach(p => {
                    const l = p.getTotalLength();
                    p.style.strokeDasharray = l;
                    p.style.strokeDashoffset = l;
                    p.style.stroke = "#333";
                    p.style.strokeWidth = "4";
                    p.style.fill = "none";
                });
                currentStrokeSvg = mainSvg;
                replayStrokeAnimation();
                for (let i = 0; i < paths.length; i++) {
                    const stepBox = document.createElement('div');
                    stepBox.className = "w-16 h-16 bg-white border border-gray-200 relative stroke-grid-box flex items-center justify-center";
                    const clone = mainSvg.cloneNode(true);
                    const cPaths = clone.querySelectorAll('path');
                    cPaths.forEach((p, idx) => {
                        p.style.strokeDashoffset = "0";
                        if (idx < i) p.style.stroke = "#9ca3af";
                        else if (idx === i) p.style.stroke = "#000";
                        else p.style.display = "none";
                    });
                    stepBox.appendChild(clone);
                    gridContainer.appendChild(stepBox);
                }
            } catch(e) { animContainer.innerHTML = "L·ªói t·∫£i."; }
        }

        function replayStrokeAnimation() {
            if(!currentStrokeSvg) return;
            const paths = currentStrokeSvg.querySelectorAll('path');
            paths.forEach(p => { p.style.transition = 'none'; p.style.strokeDashoffset = p.getTotalLength(); });
            void currentStrokeSvg.offsetWidth;
            let d = 0; const dur = 0.5;
            paths.forEach(p => { p.style.transition = `stroke-dashoffset ${dur}s ease-in-out ${d}s`; p.style.strokeDashoffset = '0'; d += dur; });
        }

        function openModal(wordStr) {
            const word = JSON.parse(decodeURIComponent(wordStr));
            const forms = conjugate(word, word.t, word.e);
            const examples = getExamples(word, forms);
            document.getElementById("modal-kanji").innerText = word.k;
            document.getElementById("modal-hiragana").innerText = word.h;
            document.getElementById("modal-meaning").innerText = word.m;
            document.getElementById("modal-group").innerText = word.t === 1 ? "Nh√≥m 1 (Godan)" : (word.t === 2 ? "Nh√≥m 2 (Ichidan)" : "Nh√≥m 3 (B·∫•t quy t·∫Øc)");
            const list = document.getElementById("conjugation-list");
            list.innerHTML = "";
            const labels = ["T·ª´ ƒëi·ªÉn", "L·ªãch s·ª± (Masu)", "N·ªëi (Te)", "Qu√° kh·ª© (Ta)", "Ph·ªß ƒë·ªãnh (Nai)", "Kh·∫£ nƒÉng", "√ù ch√≠", "ƒêi·ªÅu ki·ªán"];
            examples.forEach((ex, i) => {
                list.innerHTML += `
                    <div class="bg-white border border-gray-200 rounded-lg p-3">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-[10px] font-bold uppercase text-gray-400">${labels[i]}</span>
                            <div class="flex items-center">
                                <span class="text-lg font-bold text-indigo-700 kanji-font mr-2">${ex.f}</span>
                                <button onclick="speak('${ex.f}', '')" class="text-indigo-400"><i class="fas fa-volume-up"></i></button>
                            </div>
                        </div>
                        <div class="bg-indigo-50 rounded p-2 text-xs">
                            <div class="font-bold text-gray-800 kanji-font">${ex.j}</div>
                            <div class="text-gray-500 italic mb-1">${ex.r}</div>
                            <div class="text-gray-700">${ex.v}</div>
                        </div>
                    </div>`;
            });
            document.getElementById("conjugation-modal").classList.remove("hidden");
        }

        function speak(t, h) {
            if('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const u = new SpeechSynthesisUtterance(t);
                u.lang = 'ja-JP'; u.rate = 0.8;
                window.speechSynthesis.speak(u);
            }
        }

        function switchTab(m) {
            document.getElementById("learn-section").classList.toggle("hidden", m!=="learn");
            document.getElementById("quiz-section").classList.toggle("hidden", m!=="quiz");
            document.getElementById("tab-learn").className = m==="learn" ? "flex-shrink-0 px-4 py-2 rounded-md text-xs md:text-sm font-bold transition bg-white text-indigo-900 shadow whitespace-nowrap" : "flex-shrink-0 px-4 py-2 rounded-md text-xs md:text-sm font-bold transition text-indigo-300 whitespace-nowrap";
            document.getElementById("tab-quiz").className = m==="quiz" ? "flex-shrink-0 px-4 py-2 rounded-md text-xs md:text-sm font-bold transition bg-white text-indigo-900 shadow whitespace-nowrap ml-1" : "flex-shrink-0 px-4 py-2 rounded-md text-xs md:text-sm font-bold transition text-indigo-300 whitespace-nowrap ml-1";
            if(m==="quiz") nextQuestion();
        }

        function nextQuestion() {
            document.getElementById("feedback-area").classList.add("hidden");
            document.getElementById("btn-check").classList.remove("hidden");
            document.getElementById("btn-next").classList.add("hidden");
            document.getElementById("quiz-input").value = "";
            document.getElementById("quiz-input").disabled = false;
            document.getElementById("quiz-input").focus();
            currentQ = allWords[Math.floor(Math.random() * allWords.length)];
            document.getElementById("quiz-kanji").innerText = currentQ.k;
            document.getElementById("quiz-meaning").innerText = currentQ.m;
            document.getElementById("quiz-kanji").className = "text-5xl md:text-6xl kanji-font font-bold text-gray-800 mb-4 transition-all";
        }

        function checkAnswer() {
            const val = document.getElementById("quiz-input").value.trim();
            if(!val) return;
            document.getElementById("quiz-input").disabled = true;
            const isCorrect = val === currentQ.h;
            const k = document.getElementById("quiz-kanji");
            if(isCorrect) {
                score += 10; k.className = "text-5xl md:text-6xl kanji-font font-bold text-green-600 mb-4 correct-anim";
                document.getElementById("feedback-title").innerHTML = '<i class="fas fa-check-circle text-green-600 mr-2"></i> Ch√≠nh x√°c!';
                document.getElementById("feedback-title").className = "font-bold text-lg mb-2 text-green-700 flex items-center";
            } else {
                score = Math.max(0, score - 5); k.className = "text-5xl md:text-6xl kanji-font font-bold text-red-600 mb-4 wrong-anim";
                document.getElementById("feedback-title").innerHTML = '<i class="fas fa-times-circle text-red-600 mr-2"></i> Sai r·ªìi!';
                document.getElementById("feedback-title").className = "font-bold text-lg mb-2 text-red-700 flex items-center";
            }
            document.getElementById("score-display").innerText = score;
            document.getElementById("correct-answer").innerText = currentQ.h;
            document.getElementById("quiz-tip-img").innerHTML = `<b>H√¨nh:</b> ` + currentQ.ti.replace(/\*\*(.*?)\*\*/g, '<b class="text-red-600">$1</b>');
            document.getElementById("quiz-tip-sound").innerHTML = `<b>√Çm:</b> ` + currentQ.ta.replace(/\*\*(.*?)\*\*/g, '<b class="text-blue-600">$1</b>');
            document.getElementById("feedback-area").classList.remove("hidden");
            document.getElementById("btn-check").classList.add("hidden");
            document.getElementById("btn-next").classList.remove("hidden");
        }

        function closeModal() { document.getElementById("conjugation-modal").classList.add("hidden"); }
        function closeStrokeModal() { document.getElementById('stroke-modal').classList.add('hidden'); }
        function openGrammarModal() { document.getElementById("grammar-modal").classList.remove("hidden"); }
        function closeGrammarModal() { document.getElementById("grammar-modal").classList.add("hidden"); }
        function playCurrentAudio() { if(currentQ) speak(currentQ.k, ''); }
        
        document.getElementById("quiz-input").addEventListener("keypress", e => { if(e.key==="Enter") checkAnswer(); });
        document.addEventListener('DOMContentLoaded', renderContent);
    </script>
</body>
</html>
